{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1749:function(e,t,n){\"use strict\";var a=n(72),r=n(73);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(74)).default)(i.createElement(\"path\",{d:\"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z\"}),\"Check\");t.default=o},1998:function(e,t,n){\"use strict\";var a=n(72),r=n(73);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(74)).default)(i.createElement(\"path\",{d:\"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z\"}),\"GetApp\");t.default=o},1999:function(e,t,n){\"use strict\";var a=n(72),r=n(73);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(74)).default)(i.createElement(\"path\",{d:\"M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .65.73.45.75.45C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.41.21.75-.19.75-.45V6c-1.49-1.12-3.63-1.5-5.5-1.5zm3.5 14c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z\"}),\"ImportContacts\");t.default=o},2e3:function(e,t,n){\"use strict\";var a=n(72),r=n(73);Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(74)).default)(i.createElement(\"path\",{d:\"M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z\"}),\"Code\");t.default=o},2382:function(e,t,n){\"use strict\";n.r(t);var a,r,i=n(0),o=n.n(i),l=n(25),u=n(154),c=n.n(u),s=n(273),d=n(27),p=n(513),m=Object.keys(d.b.pluginTypeToLabel).filter((function(e){return\"sqljoiner\"!==e&&\"batchjoiner\"!==e&&\"errortransform\"!==e})),g=Object.keys(p.a).filter((function(e){return\"dlp\"!==e})),f=[\"plugin\"],v=[\"javascript-editor\",\"json-editor\",\"python-editor\",\"scala-editor\",\"sql-editor\"],y=Object.values(s.a),b=Object.values(s.b);!function(e){e.Explicit=\"schema\",e.Implicit=\"non-editable-schema-editor\"}(a||(a={})),function(e){e.Normal=\"\",e.Success=\"SUCCESS\",e.Fail=\"FAILURE\"}(r||(r={}));var h,w=n(160),E=n(13),T=n.n(E),S=n(45),N=n(197),C=n(206),x=n.n(C),I=n(1537),O=n(5),j=n(11),A=(n(1),n(10)),P=n(20),W=i.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.disableSpacing,o=void 0!==r&&r,l=Object(j.a)(e,[\"classes\",\"className\",\"disableSpacing\"]);return i.createElement(\"div\",Object(O.a)({className:Object(A.a)(n.root,a,!o&&n.spacing),ref:t},l))})),D=Object(P.a)({root:{display:\"flex\",alignItems:\"center\",padding:8,justifyContent:\"flex-end\"},spacing:{\"& > :not(:first-child)\":{marginLeft:8}}},{name:\"MuiExpansionPanelActions\"})(W),k=n(1538),M=n(243),V=n.n(M),L=n(181),F=n.n(L),G=n(278),B=T()((function(){return{groupActionButtons:{marginTop:\"10px\"}}}))((function(e){var t=e.classes,n=e.onAddConfigurationGroup,a=e.onDeleteConfigurationGroup;return i.createElement(\"div\",{className:t.groupActionButtons},i.createElement(G.a,{onClick:n,\"data-cy\":\"add-configuration-group-btn\"},i.createElement(V.a,{fontSize:\"small\"})),i.createElement(G.a,{onClick:a,color:\"secondary\",\"data-cy\":\"delete-configuration-group-btn\"},i.createElement(F.a,{fontSize:\"small\"})))})),J=n(310),R=function(){return(R=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},z=function(e){var t=e.widgetType,n=e.onChange,a=e.value,r=e.label,o=e.placeholder,l=void 0===o?\"\":o,u=e.delimeter,c=void 0===u?null:u,s=e.options,d=void 0===s?null:s,p=e.required,m=void 0!==p&&p,g=e.keyPlaceholder,f=void 0===g?null:g,v=e.valuePlaceholder,y=void 0===v?null:v,b=e.kvDelimiter,h=void 0===b?null:b,w=e.layout,E=void 0===w?null:w,T=e.delimiter,S=void 0===T?null:T,N={label:r,name:r,\"widget-type\":t,\"widget-attributes\":\"toggle\"!==t?R(R(R(R(R(R(R(R(R({},E&&{layout:E}),c&&{delimeter:c}),d&&{options:d}),l&&{placeholder:l}),a&&{default:a}),f&&{\"key-placeholder\":f}),y&&{\"value-placeholder\":y}),h&&{\"kv-delimiter\":h}),S&&{delimiter:S}):{on:{value:\"true\",label:\"true\"},off:{value:\"false\",label:\"false\"},default:a?\"true\":\"false\"}},C={required:m,name:r.toLowerCase().replace(/\\s/g,\"-\")};return i.createElement(J.c,{widgetProperty:N,pluginProperty:C,value:a,onChange:n})},q=T()((function(e){return{groupInput:{marginTop:e.spacing(3),marginBottom:e.spacing(3),width:\"100%\"},groupInputContainer:{position:\"relative\",padding:\"0\",margin:e.spacing(4)}}}))((function(e){var t=e.classes,n=e.groupID,a=rn(),r=a.groupToInfo,o=a.setGroupToInfo;var l=r.get(n);return i.useMemo((function(){return i.createElement(\"div\",{className:t.groupInputContainer},i.createElement(\"div\",{className:t.groupInput},i.createElement(z,{widgetType:\"textbox\",value:l.get(\"label\"),onChange:function(e){o(r.setIn([n,\"label\"],e))},label:\"Label\",required:!0})),i.createElement(\"div\",{className:t.groupInput},i.createElement(z,{widgetType:\"textarea\",value:l.get(\"description\"),onChange:function(e){o(r.setIn([n,\"description\"],e))},label:\"Description\",required:!1})))}),[l])})),_=n(12),H=n(133),U=n(1522),Q=T()((function(){return{widgetActionButtons:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}}))((function(e){var t=e.classes,n=e.addWidgetToGroup,a=e.deleteWidgetFromGroup;return i.createElement(\"div\",{className:t.widgetActionButtons},i.createElement(G.a,{onClick:n,\"data-cy\":\"add-widget-btn\"},i.createElement(V.a,{fontSize:\"small\"})),i.createElement(G.a,{onClick:a,color:\"secondary\",\"data-cy\":\"delete-widget-btn\"},i.createElement(F.a,{fontSize:\"small\"})))})),$=n(42),K=n(4),X=n(1481),Y=n(14),Z=n(6),ee=n.n(Z),te=T()((function(){return{modal:{position:\"relative\"},modalBody:{height:\"100%\",maxHeight:\"70vh\",overflow:\"scroll\"},modalHeaderText:{verticalAlign:\"top\",paddingLeft:\"6px\"},floatRight:{float:\"right\"},floatLeft:{float:\"left\"},modalCloseBtn:{height:\"30px\",cursor:\"pointer\"}}}))((function(e){var t=e.classes,n=e.open,a=e.toggle,r=e.headerText,i=e.children;return o.a.createElement(K.Modal,{isOpen:n,toggle:a,className:ee()(t.modal,\"cdap-modal\"),size:\"lg\",zIndex:\"1061\",fade:!0},o.a.createElement(K.ModalHeader,null,o.a.createElement(\"span\",{className:t.floatLeft},o.a.createElement(\"span\",{className:t.modalHeaderText},r)),o.a.createElement(\"div\",{className:t.floatRight},o.a.createElement(\"div\",{className:t.modalCloseBtn,onClick:a},o.a.createElement(Y.a,{name:\"icon-close\"})))),o.a.createElement(K.ModalBody,{className:t.modalBody},o.a.createElement(X.a,{transitionName:\"plus-button-modal-content\",transitionEnterTimeout:500,transitionLeaveTimeout:300,timeout:5e3,component:\"div\"},o.a.createElement(\"div\",null,i))))})),ne=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},ae=function(e){var t=e.widgetID,n=e.field,a=e.selectedType,r=e.localWidgetToAttributes,o=e.setLocalWidgetToAttributes,l=ne(i.useState(null),2),u=l[0],c=l[1];i.useEffect((function(){if(r&&r.get(t)){var e=r.get(t).get(n);e&&c(function(e){if(!e)return\"\";var t;t=a===h.ValueLabelPair||a===h.IDLabelPair?e.map((function(e){return a===h.IDLabelPair?[e.get(\"id\"),e.get(\"label\")].join(\";\"):a===h.ValueLabelPair?[e.get(\"value\"),e.get(\"label\")].join(\";\"):void 0})).join(\",\"):e.keySeq().toArray().map((function(t){return[t,e.get(t)].join(\";\")})).join(\",\");return t}(e))}else c(\"\")}),[a,r]);return i.createElement(z,{widgetType:\"keyvalue\",value:u,onChange:function(e){return function(e,a){var i;a===h.ValueLabelPair||a===h.IDLabelPair?i=e.split(\",\").map((function(e){var t=ne(e.split(\";\"),2),n=t[0],r=t[1];return a===h.ValueLabelPair?{value:n,label:r}:a===h.IDLabelPair?{id:n,label:r}:void 0})):(i={},e.split(\",\").forEach((function(e){var t=ne(e.split(\";\"),2),n=t[0],a=t[1];i[n]=a}))),o(r.setIn([t,n],Object(w.fromJS)(i)))}(e,a)},label:n,delimiter:\",\",kvDelimiter:\";\",keyPlaceholder:a===h.IDLabelPair?\"id\":\"value\",valuePlaceholder:\"label\"})},re=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},ie=function(e){var t=e.widgetID,n=e.field,a=e.selectedType,r=e.localWidgetToAttributes,o=e.setLocalWidgetToAttributes,l=re(i.useState(\"\"),2),u=l[0],c=l[1];i.useEffect((function(){if(r&&r.get(t)){var e=r.get(t).get(n);e&&c((a=e)?a.join(\",\"):\"\")}else c(\"\");var a}),[a,r]);return i.createElement(z,{widgetType:\"dsv\",value:u,onChange:function(e){c(e),o(r.setIn([t,n],Object(w.List)(e.split(\",\"))))},label:n,required:!0})},oe=n(1524),le=n(1544),ue=n(712),ce=n(718),se=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o};!function(e){e.String=\"string\",e.Number=\"number\",e.ValueLabelPair=\"Value-Label pair\",e.IDLabelPair=\"ID-Label pair\",e.Record=\"record\"}(h||(h={}));var de,pe,me=T()((function(e){return{multipleAtributesWrapper:{border:\"1px solid \"+e.palette.grey[300],borderRadius:\"6px\",position:\"relative\",padding:\"10px 10px 10px\"},typeSelectInput:{marginBottom:e.spacing(2),minWidth:\"120\"}}}))((function(e){var t,n=e.classes,a=e.supportedTypes,r=e.widgetID,o=e.field,l=e.localWidgetToAttributes,u=e.setLocalWidgetToAttributes,c=Array.from(function(e){var t=new Set;return e.forEach((function(e){switch(e){case\"string[]\":t.add(h.String);break;case\"number[]\":t.add(h.Number);break;case\"IOption[]\":t.add(h.IDLabelPair);break;case\"IDropdownOption[]\":t.add(h.String),t.add(h.Number),t.add(h.ValueLabelPair);break;case\"ISelectOptions[]\":t.add(h.ValueLabelPair);break;case\"FilterOption[]\":t.add(h.String),t.add(h.IDLabelPair);break;case\"Record<string, string>\":t.add(h.Record)}})),t}(a).values()),s=se(i.useState(null),2),d=s[0],p=s[1];i.useEffect((function(){var e=function(){if(!l||!l.get(r)||!m)return c[0];var e,t=l.get(r).get(o);e=!t||t.isEmpty()?c[0]:w.Map.isMap(t.get(0))?t.get(0).get(\"value\")?h.ValueLabelPair:h.IDLabelPair:h.String;return e}();p(e)}),[]);var m=c.length>1;return i.createElement(\"div\",{className:ee()((t={},t[n.multipleAtributesWrapper]=m,t))},i.createElement(_.a,{condition:m},i.createElement(oe.a,{className:n.typeSelectInput},i.createElement(le.a,{shrink:!0},\"Data Type\"),i.createElement(ce.a,{value:d,onChange:function(e){p(e.target.value),u(l.setIn([r,o],Object(w.List)([])))},className:n.selectEmpty,displayEmpty:!0},c.map((function(e,t){return i.createElement(ue.a,{key:t,value:e},e)}))))),i.createElement(_.a,{condition:d===h.IDLabelPair||d===h.ValueLabelPair||d===h.Record},i.createElement(ae,{widgetID:r,field:o,selectedType:d,localWidgetToAttributes:l,setLocalWidgetToAttributes:u})),i.createElement(_.a,{condition:d===h.String||d===h.Number},i.createElement(ie,{widgetID:r,field:o,selectedType:d,localWidgetToAttributes:l,setLocalWidgetToAttributes:u})))})),ge=T()((function(e){return{widgetInput:{width:\"100%\",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}))((function(e){var t=e.classes,n=e.keyField,a=e.valueField,r=e.keyRequired,o=e.valueRequired,l=e.widgetID,u=e.field,c=e.localWidgetToAttributes,s=e.setLocalWidgetToAttributes,d={label:u+\" \"+n,name:n,\"widget-type\":\"textbox\",\"widget-attributes\":{}},p={label:u+\" \"+a,name:n,\"widget-type\":\"textbox\",\"widget-attributes\":{}},m={required:r,name:n},g={required:o,name:a},f=c.get(l)?c.get(l).get(u):\"\",v=w.Map.isMap(f)?f.get(n):\"\",y=w.Map.isMap(f)?f.get(a):\"\";return i.createElement(\"div\",null,i.createElement(\"div\",{className:t.widgetInput},i.createElement(J.c,{widgetProperty:d,pluginProperty:m,value:v,onChange:function(e){var t,r=c.getIn([l,u]);w.Map.isMap(r)||s(c.setIn([l,u],Object(w.Map)(((t={})[n]=\"\",t[a]=\"\",t)))),s(c.setIn([l,u,n],e))}})),i.createElement(\"div\",{className:t.widgetInput},i.createElement(J.c,{widgetProperty:p,pluginProperty:g,value:y,onChange:function(e){var t,r=c.getIn([l,u]);w.Map.isMap(r)||s(c.setIn([l,u],Object(w.Map)(((t={})[n]=\"\",t[a]=\"\",t)))),s(c.setIn([l,u,a],e))}})))})),fe=n(271),ve=function(){return(ve=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ye=function(e){var t=e.widgetID,n=e.widgetType,a=e.fieldInfo,r=e.field,o=e.localWidgetToAttributes,l=e.setLocalWidgetToAttributes,u=a.type,c=o.get(t)?o.get(t).get(r):\"\",s=function(e){l(o.setIn([t,r],e))};return function(){if(\"default\"===r&&v.includes(n))return i.createElement(J.c,{widgetProperty:{name:r,\"widget-type\":n,\"widget-attributes\":{}},pluginProperty:{required:a.required,name:\"code-editor\"},value:c,onChange:s});if(\"IToggle\"===u||\"IOption\"===u){var e=ve(ve(ve({},d={keyRequired:!0,valueRequired:!0,widgetID:t,field:r,localWidgetToAttributes:o,setLocalWidgetToAttributes:l}),\"IToggle\"===u&&{keyField:\"label\",valueField:\"value\"}),\"IOption\"===u&&{keyField:\"id\",valueField:\"label\"});return i.createElement(\"div\",null,i.createElement(ge,ve({},e)))}if(\"Position\"===u){var d={label:r,value:c,onChange:s,required:a.required,widgetType:\"select\",options:Object.values(fe.a)};return i.createElement(z,ve({},d))}if(\"Size\"===u){d={label:r,value:c,onChange:s,required:a.required,widgetType:\"select\",options:Object.values(J.a)};return i.createElement(z,ve({},d))}d={label:r,value:c,onChange:s,required:a.required,widgetType:\"textbox\"},e=ve(ve(ve(ve({},d),\"string\"===u&&{widgetType:\"textbox\"}),\"number\"===u&&{widgetType:\"number\"}),\"boolean\"===u&&{widgetType:\"select\",options:[\"true\",\"false\"]});return i.createElement(z,ve({},e))}()},be=T()((function(e){return{widgetAttributeInput:{width:\"100%\",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}))((function(e){var t,n=e.classes,a=e.field,r=e.widgetID,o=e.widgetType,l=e.localWidgetToAttributes,u=e.setLocalWidgetToAttributes;try{var c=p.a[o].getWidgetAttributes();t=c[a]}catch(e){t={type:\"string\",required:!1}}return i.createElement(\"div\",{className:n.widgetAttributeInput},function(){if(t){var e=t.type.includes(\"[]\")||t.type.includes(\"Record\"),n=t.type.split(\"|\").map((function(e){return e.trim()}));return e?i.createElement(me,{widgetID:r,field:a,supportedTypes:n,localWidgetToAttributes:l,setLocalWidgetToAttributes:u}):i.createElement(ye,{widgetID:r,field:a,widgetType:o,fieldInfo:t,localWidgetToAttributes:l,setLocalWidgetToAttributes:u})}}())})),he=T()((function(e){return{widgetInputContainer:{width:\"100%\"},widgetInput:{width:\"100%\",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}))((function(e){var t=e.classes,n=e.widgetID,a=on(),r=a.widgetInfo,o=a.setWidgetInfo,l=a.widgetToAttributes,u=a.setWidgetToAttributes;var c=r.get(n);return i.useMemo((function(){return i.createElement(\"div\",{className:t.widgetInputContainer},i.createElement(\"div\",{className:t.widgetInput},i.createElement(z,{widgetType:\"textbox\",value:c.get(\"name\"),onChange:function(e){o(r.setIn([n,\"name\"],e))},label:\"Name\",placeholder:\"Name a Widget\",required:!1})),i.createElement(\"div\",{className:t.widgetInput},i.createElement(z,{widgetType:\"textbox\",value:c.get(\"label\"),onChange:function(e){o(r.setIn([n,\"label\"],e))},label:\"Label\",placeholder:\"Label a Widget\",required:!1})),i.createElement(\"div\",{className:t.widgetInput},i.createElement(z,{widgetType:\"select\",value:c.get(\"widgetCategory\"),onChange:function(e){o(r.setIn([n,\"widgetCategory\"],e))},label:\"Category\",options:f,required:!1})),i.createElement(\"div\",{className:t.widgetInput},i.createElement(z,{widgetType:\"select\",value:c.get(\"widgetType\"),onChange:function(e){o(r.setIn([n,\"widgetType\"],e));var t=p.a[e].getWidgetAttributes();u(l.set(n,Object(w.Map)(Object.keys(t).reduce((function(e,t){return e[t]=void 0,e}),{}))))},label:\"Widget type\",options:g,required:!0})))}),[r])})),we=n(134),Ee=n.n(we),Te=n(219),Se=function(){return(Se=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Ne=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Ce=T()((function(e){return{widgetAttributesTitle:{marginTop:e.spacing(3),marginBottom:e.spacing(3)},h2Title:Se(Se({},Object(Te.b)(e).root),{marginBottom:\"5px\"}),setAttributes:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},saveButton:{textTransform:\"none\"},cancelButton:{textTransform:\"none\"},actionButtons:{float:\"right\"}}}))((function(e){var t=e.classes,n=e.widgetID,a=e.widgetAttributesOpen,r=e.closeWidgetAttributes,o=on(),l=o.widgetInfo,u=o.widgetToAttributes,c=o.setWidgetToAttributes,s=Ne(i.useState(u),2),d=s[0],m=s[1],g=Ne(i.useState(!1),2),f=g[0],v=g[1],y=Ee()((function(){v(!0),m(u),setTimeout((function(){v(!1)}),500)}),100);i.useEffect(y,[u]);var b,h=l.get(n).get(\"widgetType\")||\"\";try{var w=p.a[h].getWidgetAttributes();b=Object.keys(w)}catch(e){b=[]}return i.useMemo((function(){return i.createElement(_.a,{condition:a},i.createElement(te,{open:a,toggle:r,headerText:\"Widget Attributes\"},i.createElement(\"div\",{className:t.setAttributes,\"data-cy\":\"widget-attributes-dialog\"},i.createElement(he,{widgetID:n}),i.createElement(_.a,{condition:b&&b.length>0},i.createElement(\"div\",{className:t.widgetAttributesTitle},i.createElement(\"h2\",{className:t.h2Title},\"Configure Widget\"))),i.createElement(_.a,{condition:f},i.createElement($.a,null)),i.createElement(_.a,{condition:!f},i.createElement(\"div\",{\"data-cy\":\"widget-attributes-inputs\"},b.map((function(e,t){return i.createElement(be,{key:t,widgetType:h,field:e,widgetID:n,localWidgetToAttributes:d,setLocalWidgetToAttributes:m})})))),i.createElement(\"div\",{className:t.actionButtons},i.createElement(N.a,{color:\"primary\",onClick:function(){return r()},className:t.cancelButton,\"data-cy\":\"close-widget-attributes-btn\"},\"Cancel\"),i.createElement(N.a,{variant:\"contained\",color:\"primary\",onClick:function(){var e=d.get(n);c(u.set(n,e)),r()},className:t.saveButton,\"data-cy\":\"save-widget-attributes-btn\"},\"Save\")))))}),[a,l.get(n),u.get(n),d.get(n),f])})),xe=T()((function(){return{eachWidgetContainer:{display:\"grid\",gridTemplateColumns:\"5fr 1fr\",marginLeft:\"auto\",marginRight:\"auto\"},openWidgetAttributesButton:{textTransform:\"none\"}}}))((function(e){var t,n=e.classes,a=e.widgetID,r=e.widgetIndex,o=e.openWidgetIndex,l=e.setOpenWidgetIndex,u=e.addWidgetToGroup,c=e.deleteWidgetFromGroup;return i.createElement(\"div\",{className:n.eachWidgetContainer,\"data-cy\":\"widget-panel-\"+r},i.createElement(he,{widgetID:a}),i.createElement(Q,{addWidgetToGroup:u,deleteWidgetFromGroup:c}),i.createElement(Ce,{widgetID:a,widgetAttributesOpen:o===r,closeWidgetAttributes:function(){l(null)}}),i.createElement(N.a,{variant:\"contained\",color:\"primary\",component:\"span\",onClick:(t=r,function(){l(t)}),\"data-cy\":\"open-widget-attributes\",className:n.openWidgetAttributesButton},\"Attributes\"))})),Ie=n(22),Oe=n.n(Ie),je=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Ae=T()((function(e){return{widgetWrapper:{border:\"1px solid \"+e.palette.grey[300],borderRadius:\"6px\",position:\"relative\",padding:\"12px 12px 9px\",margin:e.spacing(4)},widgetContainer:{width:\"97%\",margin:\"auto\"},addWidgetLabel:{fontSize:\"12px\",position:\"absolute\",top:\"-10px\",left:\"15px\",padding:\"0 5px\",backgroundColor:e.palette.white[50]},widgetDivider:{width:\"100%\",marginTop:e.spacing(2),marginBottom:e.spacing(2)}}}))((function(e){var t=e.classes,n=e.groupID,a=on(),r=a.groupToWidgets,o=a.setGroupToWidgets,l=a.widgetInfo,u=a.setWidgetInfo,c=a.widgetToAttributes,s=a.setWidgetToAttributes,d=je(i.useState(null),2),p=d[0],m=d[1],g=n?r.get(n):Object(w.List)([]);function f(e){return function(){var t,a=\"Widget_\"+Oe()();t=g.isEmpty()?g.insert(0,a):g.insert(e+1,a),o(r.set(n,t)),u(l.set(a,Object(w.Map)({widgetType:\"\",label:\"\",name:\"\"}))),s(c.set(a,Object(w.Map)({})))}}function v(e){return function(){var t=g.get(e),a=g.delete(e);o(r.set(n,a));var i=l.delete(t);u(i);var d=c.delete(t);s(d)}}return i.useMemo((function(){return i.createElement(\"div\",{className:t.widgetWrapper},i.createElement(\"div\",{className:t.addWidgetLabel},\"Widgets\"),i.createElement(\"div\",{className:t.widgetContainer},i.createElement(_.a,{condition:0===g.size},i.createElement(N.a,{variant:\"contained\",color:\"primary\",onClick:f(0),\"data-cy\":\"add-properties-btn\"},\"Add Properties\")),g.map((function(e,n){return i.createElement(\"div\",{key:e},i.createElement(xe,{widgetID:e,widgetIndex:n,openWidgetIndex:p,setOpenWidgetIndex:m,addWidgetToGroup:f(n),deleteWidgetFromGroup:v(n)}),i.createElement(_.a,{condition:g&&n<g.size-1},i.createElement(\"div\",{className:t.widgetDivider},i.createElement(U.a,null))))}))))}),[g,l,c,p])})),Pe=T()((function(){return{eachGroup:{display:\"grid\",gridTemplateColumns:\"5fr 1fr\"},groupContent:{display:\"block\",padding:\"0\",width:\"100%\"}}}))((function(e){var t=e.classes,n=e.groupID,a=e.groupIndex,r=e.configurationGroupExpanded,o=e.switchEditConfigurationGroup,l=e.addConfigurationGroup,u=e.deleteConfigurationGroup,c=rn().groupToInfo.get(n);return i.createElement(\"div\",{className:t.eachGroup,\"data-cy\":\"configuration-group-panel-\"+a},i.createElement(I.a,{expanded:r,onChange:o,\"data-cy\":\"open-configuration-group-panel-\"+a},i.createElement(k.a,{expandIcon:i.createElement(x.a,null),id:\"panel1c-header\"},i.createElement(H.a,{className:t.heading},c.get(\"label\"))),i.createElement(D,{className:t.groupContent},i.createElement(_.a,{condition:r},i.createElement(q,{groupID:n}),i.createElement(Ae,{groupID:n})))),i.createElement(B,{onAddConfigurationGroup:l,onDeleteConfigurationGroup:u}))})),We=T()((function(e){return{root:{marginTop:\"50px\",borderTop:\"1px solid \"+e.palette.grey[300],paddingTop:\"25px\",\"& button\":{marginRight:\"50px\"}},actionButton:{textTransform:\"none\"}}}))((function(e){var t=e.nextDisabled,n=e.onNext,a=e.onPrevious,r=e.classes,o=e.onComplete,l=cn(),u=l.activeStep,c=l.setActiveStep;return i.createElement(\"div\",{className:r.root},i.createElement(_.a,{condition:u>0},i.createElement(N.a,{color:\"primary\",onClick:function(){0!==u&&(\"function\"==typeof n&&a(),c(u-1))},className:r.actionButton,\"data-cy\":\"previous-step-btn\"},\"Previous\")),i.createElement(_.a,{condition:\"function\"!=typeof o&&u<nt.length-1},i.createElement(N.a,{variant:\"contained\",color:\"primary\",onClick:function(){u!==nt.length-1&&(\"function\"==typeof n&&n(),c(u+1))},disabled:t,\"data-cy\":\"next-step-btn\",className:r.actionButton},\"Next\")))})),De=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},ke=function(){var e=rn(),t=e.configurationGroups,n=e.setConfigurationGroups,a=e.groupToInfo,r=e.setGroupToInfo,o=on(),l=o.groupToWidgets,u=o.setGroupToWidgets,c=o.widgetInfo,s=o.setWidgetInfo,d=o.widgetToAttributes,p=o.setWidgetToAttributes,m=De(i.useState(null),2),g=m[0],f=m[1];function v(e){return function(){var i,o=\"ConfigGroup_\"+Oe()();i=t.isEmpty()?t.insert(0,o):t.insert(e+1,o),n(i),i.size<=1?f(0):f(e+1),r(a.set(o,Object(w.Map)({label:\"\",description:\"\"}))),u(l.set(o,Object(w.List)([])))}}function y(e){return function(){f(null);var i=t.get(e),o=t.delete(e);n(o);var m=a.delete(i);r(m);var g=l.get(i),v=l.delete(i);u(v);var y=c,b=d;g.forEach((function(e){y=y.delete(e),b=b.delete(e)})),s(y),p(b)}}return i.useMemo((function(){return i.createElement(\"div\",null,i.createElement(S.b,{type:S.a.h3,label:\"Configuration Groups\"}),i.createElement(\"br\",null),i.createElement(_.a,{condition:0===t.size},i.createElement(N.a,{variant:\"contained\",color:\"primary\",onClick:v(0),\"data-cy\":\"add-configuration-group-btn\"},\"Add Configuration Group\")),t.map((function(e,t){return i.createElement(Pe,{key:e,groupID:e,groupIndex:t,configurationGroupExpanded:g===t,switchEditConfigurationGroup:(n=t,function(e,t){f(t?n:null)}),addConfigurationGroup:v(t),deleteConfigurationGroup:y(t)});var n})),i.createElement(We,{nextDisabled:!1}))}),[t,g,a,l,c,d])},Me=n(29),Ve=n.n(Me),Le=function(){return(Le=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Fe=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o};!function(e){e.Operator=\"Operator\",e.Expression=\"Expression\"}(de||(de={})),function(e){e.Expression=\"expression\",e.Property=\"property\",e.Operator=\"operator\",e.Value=\"value\"}(pe||(pe={}));var Ge,Be=Object(P.a)((function(){return{filterConditionInput:{marginTop:\"10px\",marginBottom:\"10px\"}}}))((function(e){var t=e.classes,n=e.filterID,a=on().widgetInfo,r=un(),o=r.filterToCondition,l=r.setFilterToCondition,u=o.get(n),c=Fe(i.useState(u.has(pe.Expression)?de.Expression:de.Operator),2),d=c[0],p=c[1],m=a?a.valueSeq().map((function(e){return e.get(\"name\")})).filter((function(e){return e&&e.length>0})):Object(w.List)([]),g=u.get(pe.Operator)===s.a.EQUALTO||u.get(pe.Operator)===s.a.NOTEQUALTO;function f(e){return function(t){l(o.setIn([n,e],t))}}return i.useEffect((function(){d===de.Expression?l(o.set(n,Object(w.Map)({expression:u.get(pe.Expression)||\"\"}))):l(o.set(n,Object(w.Map)(Le({property:u.get(pe.Property)||\"\",operator:u.get(pe.Operator)||\"\"},g&&{value:u.get(pe.Value)||\"\"}))))}),[d,g]),i.useMemo((function(){return i.createElement(_.a,{condition:!Ve()(u)},i.createElement(S.b,{type:S.a.h6,label:\"Show these widgets by the following condition...\"}),i.createElement(\"div\",{className:t.filterConditionInput},i.createElement(z,{widgetType:\"radio-group\",value:d,onChange:p,label:\"Condition type\",options:Object.values(de).map((function(e){return{id:e,label:e}})),layout:\"inline\"})),i.createElement(_.a,{condition:d===de.Expression},i.createElement(\"div\",{className:t.filterConditionInput},i.createElement(z,{widgetType:\"textbox\",value:u.get(pe.Expression),onChange:f(pe.Expression),label:pe.Expression,required:!1}))),i.createElement(_.a,{condition:d===de.Operator},i.createElement(\"div\",{className:t.filterConditionInput},i.createElement(z,{widgetType:\"select\",value:u.get(pe.Property),onChange:f(pe.Property),label:pe.Property,options:m})),i.createElement(\"div\",{className:t.filterConditionInput},i.createElement(z,{widgetType:\"select\",value:u.get(pe.Operator),onChange:f(pe.Operator),label:pe.Operator,options:y})),i.createElement(_.a,{condition:g},i.createElement(\"div\",{className:t.filterConditionInput},i.createElement(z,{widgetType:\"textbox\",value:u.get(pe.Value),onChange:f(pe.Value),label:pe.Value,required:!1})))))}),[o,a])})),Je=function(e){var t=e.filterID,n=un(),a=n.filterToName,r=n.setFilterToName;return i.useMemo((function(){return i.createElement(z,{widgetType:\"textbox\",value:a.get(t),onChange:(e=t,function(t){r(a.set(e,t))}),label:\"Filter name\"});var e}),[a])},Re=T()((function(){return{showAddDeleteButton:{float:\"right\"}}}))((function(e){var t=e.classes,n=e.addShowToFilter,a=e.deleteShowFromFilter;return i.createElement(\"div\",{className:t.showAddDeleteButton},i.createElement(G.a,{onClick:n},i.createElement(V.a,{fontSize:\"small\"})),i.createElement(G.a,{onClick:a,color:\"secondary\"},i.createElement(F.a,{fontSize:\"small\"})))})),ze=T()((function(){return{showRow:{display:\"grid\",gridAutoFlow:\"column\",width:\"100%\"},ShowPropertyRow:{gridRow:\"1\",width:\"100%\",marginTop:\"5px\",marginBottom:\"5px\"},showNameInput:{gridColumnStart:\"1\",gridColumnEnd:\"8\"},showTypeInput:{gridColumnStart:\"9\",gridColumnEnd:\"15\"},showAddDeleteContainer:{gridColumnStart:\"19\",gridColumnEnd:\"20\"}}}))((function(e){var t=e.classes,n=e.showName,a=e.showType,r=e.setShowName,o=e.setShowType,l=e.addShowToFilter,u=e.deleteShowFromFilter,c=on().widgetInfo,s=c?c.valueSeq().map((function(e){return e.get(\"name\")})).filter((function(e){return e&&e.length>0})):Object(w.List)([]);return i.createElement(\"div\",{className:t.showRow},i.createElement(\"div\",{className:ee()(t.ShowPropertyRow,t.showNameInput)},i.createElement(z,{widgetType:\"select\",value:n,onChange:r,options:s,label:\"Name\",required:!0})),i.createElement(\"div\",{className:ee()(t.ShowPropertyRow,t.showTypeInput)},i.createElement(z,{widgetType:\"select\",value:a,onChange:o,options:b,label:\"Type\",required:!1})),i.createElement(\"div\",{className:ee()(t.ShowPropertyRow,t.showAddDeleteContainer)},i.createElement(Re,{addShowToFilter:l,deleteShowFromFilter:u})))})),qe=function(e){var t=e.filterID,n=un(),a=n.filterToShowlist,r=n.setFilterToShowlist,o=n.showToInfo,l=n.setShowToInfo;function u(e,t){return function(n){l(o.setIn([e,t],n))}}function c(e,t){return function(){var n=a.get(e),i=n.get(t);if(n.size>1){var u=n.remove(t);r(a.set(e,u));var c=o.delete(i);l(c)}else{c=o.set(i,Object(w.Map)({name:\"\",type:\"\"}));l(c)}}}return i.useMemo((function(){return i.createElement(_.a,{condition:a.has(t)},i.createElement(S.b,{type:S.a.h6,label:\"Add widgets to configure\"}),a.get(t).map((function(e,n){if(!o.has(e))return null;var s,d,p=o.get(e);return i.createElement(\"div\",{key:e,\"data-cy\":\"show-\"+n},i.createElement(ze,{showName:p.get(\"name\"),showType:p.get(\"type\"),setShowName:u(e,\"name\"),setShowType:u(e,\"type\"),addShowToFilter:(s=t,d=n,function(){var e=\"Show_\"+Oe()(),t=a.get(s).insert(d+1,e);r(a.set(s,t)),l(o.set(e,Object(w.Map)({name:\"\",type:\"\"})))}),deleteShowFromFilter:c(t,n)}))})))}),[a,o])},_e=T()((function(e){return{filterContainer:{position:\"relative\",display:\"grid\",gridTemplateColumns:\"5fr 1fr\"},filterContent:{display:\"block\",padding:\"0 \"+e.spacing(4)+\"px\"},filterInput:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\",marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}))((function(e){var t=e.classes,n=e.filterIndex,a=e.filterID,r=e.addFilter,o=e.deleteFilter,l=e.filterExpanded,u=e.switchEditFilter,c=un().filterToName;return i.createElement(\"div\",{className:t.filterContainer,\"data-cy\":\"filter-panel-\"+n},i.createElement(I.a,{expanded:l,onChange:u,\"data-cy\":\"open-filter-panel-\"+n},i.createElement(k.a,{expandIcon:i.createElement(x.a,null),id:\"panel1c-header\"},i.createElement(H.a,{className:t.heading},c.get(a))),i.createElement(D,{className:t.filterContent},i.createElement(_.a,{condition:l},i.createElement(\"div\",{className:t.filterInput},i.createElement(Je,{filterID:a,\"data-cy\":\"filter-name\"})),i.createElement(\"div\",{className:t.filterInput,\"data-cy\":\"filter-showlist-input\"},i.createElement(qe,{filterID:a})),i.createElement(\"div\",{className:t.filterInput,\"data-cy\":\"filter-condition-input\"},i.createElement(Be,{filterID:a}))))),i.createElement(\"div\",null,i.createElement(G.a,{onClick:r,\"data-cy\":\"add-filter-btn\"},i.createElement(V.a,{fontSize:\"small\"})),i.createElement(G.a,{onClick:o,color:\"secondary\",\"data-cy\":\"delete-filter-btn\"},i.createElement(F.a,{fontSize:\"small\"}))))})),He=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Ue=i.memo((function(){var e=un(),t=e.filters,n=e.setFilters,a=e.filterToName,r=e.setFilterToName,o=e.filterToCondition,l=e.setFilterToCondition,u=e.filterToShowlist,c=e.setFilterToShowlist,s=e.showToInfo,d=e.setShowToInfo,p=He(i.useState(null),2),m=p[0],g=p[1];function f(e){return function(){var i,p=\"Filter_\"+Oe()();i=0===t.size?t.insert(0,p):t.insert(e+1,p),n(i),i.size<=1?g(0):g(e+1),r(a.set(p,\"\")),l(o.set(p,Object(w.Map)({})));var m=\"Show_\"+Oe()();c(u.set(p,Object(w.List)([m]))),d(s.set(m,Object(w.Map)({name:\"\",type:\"\"})))}}var v=function(e){return function(t,n){g(n?e:null)}};return i.useMemo((function(){return i.createElement(\"div\",null,i.createElement(S.b,{type:S.a.h3,label:\"Filters\"}),i.createElement(\"br\",null),i.createElement(_.a,{condition:0===t.size},i.createElement(N.a,{variant:\"contained\",color:\"primary\",onClick:f(0),\"data-cy\":\"add-filter-btn\"},\"Add Filters\")),t.map((function(e,p){return i.createElement(_e,{filterIndex:p,key:e,filterID:e,addFilter:f(p),deleteFilter:(y=p,function(){g(null);var e=t.get(y),i=t.remove(y);n(i);var p=a.delete(e);r(p);var m=o.delete(e);l(m);var f=u.get(e),v=u.delete(e);c(v),f.map((function(e){var t=s.delete(e);d(t)}))}),filterExpanded:m===p,switchEditFilter:v(p)});var y})),i.createElement(We,{nextDisabled:!1}))}),[t,a,o,u,m])})),Qe=n(44),$e=T()((function(){return{outputInput:{marginTop:\"30px\",marginBottom:\"30px\"}}}))((function(e){var t=e.classes,n=ln(),a=n.outputName,r=n.setOutputName,o=n.schemaTypes,l=n.setSchemaTypes,u=n.schemaDefaultType,c=n.setSchemaDefaultType;i.useEffect((function(){o&&!o.includes(u)&&c(\"\")}),[o]);return i.createElement(\"div\",null,i.createElement(\"div\",{className:t.outputInput,\"data-cy\":\"explicit-schema-definer\"},i.createElement(z,{widgetType:\"textbox\",value:a,onChange:r,label:\"Output name\",placeholder:\"output name\"})),i.createElement(\"div\",{className:t.outputInput},i.createElement(z,{widgetType:\"multi-select\",onChange:function(e){l(e.split(\",\"))},label:\"Schema types\",delimiter:\",\",options:Qe.u,value:o})),i.createElement(\"div\",{className:t.outputInput},i.createElement(z,{widgetType:\"select\",value:u,onChange:c,label:\"Schema default type\",options:o})))})),Ke=n(125),Xe=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o};!function(e){e.Normal=\"Normal\",e.Success=\"SUCCESS\",e.Failure=\"FAILURE\"}(Ge||(Ge={}));var Ye=function(){var e=ln(),t=e.schema,n=e.setSchema,a=Xe(i.useState(JSON.stringify(t,void 0,2)),2),r=a[0],o=a[1],l=Xe(i.useState(Ge.Normal),2),u=l[0],c=l[1];return i.createElement(\"div\",{\"data-cy\":\"implicit-schema-definer\"},i.createElement(J.c,{widgetProperty:{name:\"schema\",\"widget-type\":\"json-editor\",\"widget-attributes\":{rows:\"20\"}},pluginProperty:{required:!1,name:\"implicit-schema\"},value:r,onChange:function(e){o(e)}}),i.createElement(N.a,{variant:\"contained\",color:\"primary\",onClick:function(){try{n(JSON.parse(r)),c(Ge.Success)}catch(e){c(Ge.Failure)}},\"data-cy\":\"save-schema-btn\"},\"Save\"),i.createElement(Ke.a,{message:\"Output schema saved successfully\",showAlert:u===Ge.Success,type:\"success\",onClose:function(){c(Ge.Normal)}}),i.createElement(Ke.a,{message:\"Invalid JSON for schema\",showAlert:u===Ge.Failure,type:\"error\",onClose:function(){c(Ge.Normal)}}))},Ze=T()((function(){return{schemaTypeSelector:{marginBottom:\"30px\"}}}))((function(e){var t=e.classes,n=ln(),r=n.outputWidgetType,o=n.setOutputWidgetType;return i.createElement(\"div\",null,i.createElement(S.b,{type:S.a.h3,label:\"Output\"}),i.createElement(\"br\",null),i.createElement(\"div\",{className:t.schemaTypeSelector},i.createElement(z,{widgetType:\"radio-group\",value:r,onChange:o,label:\"Schema type\",options:Object.values(a).map((function(e){return{id:e,label:e}})),layout:\"inline\"})),i.createElement(_.a,{condition:r===a.Explicit},i.createElement($e,null)),i.createElement(_.a,{condition:r===a.Implicit},i.createElement(Ye,null)),i.createElement(We,{nextDisabled:!1}))})),et=T()((function(e){return{basicPluginInput:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}}}))((function(e){var t=e.classes,n=an(),a=n.pluginName,r=n.setPluginName,o=n.pluginType,l=n.setPluginType,u=n.displayName,c=n.setDisplayName,s=n.emitAlerts,d=n.setEmitAlerts,p=n.emitErrors,g=n.setEmitErrors,f=a.length>0&&o.length>0&&u.length>0;return i.createElement(\"div\",null,i.createElement(S.b,{type:S.a.h3,label:\"Plugin Information\"}),i.createElement(\"div\",{className:t.basicPluginInput},i.createElement(z,{widgetType:\"textbox\",value:a,onChange:r,label:\"Plugin name\",placeholder:\"Select a Plugin Name\",required:!0})),i.createElement(\"div\",{className:t.basicPluginInput},i.createElement(z,{widgetType:\"select\",value:o,onChange:l,label:\"Plugin type\",options:m,required:!0})),i.createElement(\"div\",{className:t.basicPluginInput},i.createElement(z,{widgetType:\"textbox\",value:u,onChange:c,label:\"Display name\",placeholder:\"Select a Display Name\",required:!0})),i.createElement(\"div\",{className:t.basicPluginInput},i.createElement(z,{widgetType:\"toggle\",value:s?\"true\":\"false\",onChange:function(e){return d(\"true\"===e)},label:\"Emit alerts?\"})),i.createElement(\"div\",{className:t.basicPluginInput},i.createElement(z,{widgetType:\"toggle\",value:p?\"true\":\"false\",onChange:function(e){return g(\"true\"===e)},label:\"Emit errors?\"})),i.createElement(We,{nextDisabled:!f}))})),tt=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},nt=[{label:\"Plugin Information\"},{label:\"Configuration Groups\"},{label:\"Output\"},{label:\"Filters\"}],at=T()((function(e){return{root:{padding:\"30px 40px\"},content:{width:\"50%\",maxWidth:\"1000px\",minWidth:\"600px\"}}}))((function(e){var t=e.classes,n=e.pluginInfoContextValue,a=e.configuratioGroupContextValue,o=e.widgetContextValue,l=e.outputContextValue,u=e.filterContextValue,c=cn(),s=c.activeStep,d=c.JSONStatus,p=c.setJSONStatus,m=tt(i.useState(!1),2),g=m[0],f=m[1];if(i.useEffect((function(){if(d&&d===r.Success){f(!0);var e=setTimeout((function(){f(!1),p(r.Normal)}),500);return function(){clearTimeout(e)}}}),[d]),!nt[s])return null;return i.createElement(\"div\",null,i.createElement(_.a,{condition:g},i.createElement($.a,null)),i.createElement(_.a,{condition:!g},i.createElement(\"div\",{className:t.root},i.createElement(\"div\",{className:t.content},function(){switch(s){case 0:return i.createElement(Xt.Provider,{value:n},i.createElement(et,null));case 1:return i.createElement(Yt.Provider,{value:a},i.createElement(Zt.Provider,{value:o},i.createElement(ke,null)));case 2:return i.createElement(en.Provider,{value:l},i.createElement(Ze,null));case 3:return i.createElement(tn.Provider,{value:u},i.createElement(Zt.Provider,{value:o},i.createElement(Ue,null)));default:return null}}()))))})),rt=n(602),it=n(502),ot=n.n(it),lt=function(){return(lt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ut(e){var t,n=e.displayName,r=e.emitAlerts,i=e.emitErrors,o=e.configurationGroups,l=e.groupToInfo,u=e.groupToWidgets,c=e.widgetInfo,s=e.widgetToAttributes,d=e.filters,p=e.filterToName,m=e.filterToCondition,g=e.filterToShowlist,f=e.showToInfo,v=e.outputName,y=e.outputWidgetType,b=e.schemaTypes,h=e.schemaDefaultType,E=e.schema,T=o.map((function(e){var t=l.get(e).get(\"label\"),n=u.get(e).map((function(e){var t=c.get(e),n=s.get(e);return Object(w.Map)(lt(lt({\"widget-type\":t.get(\"widgetType\"),label:t.get(\"label\"),name:t.get(\"name\")},t.get(\"widgetCategory\")&&{\"widget-category\":t.get(\"widgetCategory\")}),n&&Object(w.List)(n.keys()).size>0&&{\"widget-attributes\":n}))}));return Object(w.Map)({label:t,properties:n})}));t=y===a.Explicit?{name:v||\"\",\"widget-type\":y,\"widget-attributes\":{\"schema-default-type\":h||\"\",\"schema-types\":b||[]}}:{\"widget-type\":y,schema:E||{}};var S=d.map((function(e){var t=g.get(e).map((function(e){return Object(w.Map)(lt({name:f.get(e).get(\"name\")},f.get(e).get(\"type\")&&{type:f.get(e).get(\"type\")}))}));return Object(w.Map)({name:p.get(e),condition:m.get(e),show:t})}));return lt(lt(lt(lt(lt(lt({metadata:{\"spec-version\":\"1.5\"}},n&&{\"display-name\":n}),r&&{\"emit-alerts\":r}),i&&{\"emit-errors\":i}),{\"configuration-groups\":T||Object(w.List)()}),t&&Object.keys(t).length>0&&{outputs:[t]}),S&&S.size>0&&{filters:S})}var ct,st=n(1542),dt=n(1998),pt=n.n(dt),mt=n(715),gt=T()((function(e){return{buttonTooltip:{fontSize:\"13px\",backgroundColor:e.palette.grey[50]},exportIcon:{fontSize:\"14px\"}}}))((function(e){var t=e.classes,n=e.downloadDisabled,a=e.onDownloadClick;return i.createElement(mt.a,{title:n?\"Download is disabled until the required fields are filled in\":\"Download Plugin JSON\",classes:{tooltip:t.buttonTooltip}},i.createElement(\"div\",null,i.createElement(G.a,{color:\"primary\",disabled:n,onClick:a},i.createElement(pt.a,null))))})),ft=T()((function(e){return{fileInput:{display:\"none\"},buttonTooltip:{fontSize:\"13px\",backgroundColor:e.palette.grey[50]},importButton:{marginTop:e.spacing(.5)},importIcon:{fontSize:\"14px\"}}}))((function(e){var t=e.classes,n=e.populateImportResults;return o.a.createElement(\"div\",null,o.a.createElement(\"input\",{accept:\"json/*\",id:\"raised-button-file\",type:\"file\",className:t.fileInput,onChange:function(e){var t=e.target.files;if(t.length>0){var a,r=t[0].name,i=new FileReader;i.readAsText(t[0]),i.onload=function(e){a=e.target.result,n(r,a)}}},\"data-cy\":\"plugin-json-uploader\"}),o.a.createElement(\"label\",{htmlFor:\"raised-button-file\"},o.a.createElement(mt.a,{title:\"Import JSON\",classes:{tooltip:t.buttonTooltip}},o.a.createElement(\"div\",null,o.a.createElement(G.a,{className:t.importButton,\"aria-label\":\"save\",component:\"span\",color:\"primary\",\"data-cy\":\"plugin-json-import-btn\"},o.a.createElement(Y.a,{name:\"icon-import\",className:t.importIcon}))))))})),vt=n(1999),yt=n.n(vt),bt=n(726),ht=T()((function(e){return{buttonTooltip:{fontSize:\"13px\",backgroundColor:e.palette.grey[50]},liveConfigurationGroupButton:{\"&:focus\":{outline:\"none\"}},clickedButton:{backgroundColor:Object(bt.fade)(e.palette.primary.main,.2)}}}))((function(e){var t,n=e.classes,a=e.liveViewMode,r=e.switchToConfigurationGroupsView;return i.createElement(mt.a,{title:\"Configuration Groups View\",classes:{tooltip:n.buttonTooltip}},i.createElement(\"div\",null,i.createElement(G.a,{className:ee()(n.liveConfigurationGroupButton,(t={},t[n.clickedButton]=a===ct.ConfigurationGroupsView,t)),color:\"primary\",onClick:r,disableRipple:!0,disableFocusRipple:!0},i.createElement(yt.a,null))))})),wt=n(2e3),Et=n.n(wt),Tt=T()((function(e){return{buttonTooltip:{fontSize:\"13px\",backgroundColor:e.palette.grey[50]},liveJSONButton:{\"&:focus\":{outline:\"none\"}},clickedButton:{backgroundColor:Object(bt.fade)(e.palette.primary.main,.2)}}}))((function(e){var t,n=e.classes,a=e.liveViewMode,r=e.switchToJSONView;return i.createElement(mt.a,{title:\"JSON View\",classes:{tooltip:n.buttonTooltip}},i.createElement(G.a,{className:ee()(n.liveJSONButton,(t={},t[n.clickedButton]=a===ct.JSONView,t)),color:\"primary\",onClick:r,disableRipple:!0,disableFocusRipple:!0,\"data-cy\":\"open-live-view-btn\"},i.createElement(Et.a,null)))})),St=T()((function(e){return{JSONActionButtons:{flexDirection:\"column\",borderRight:\"1px solid \"+e.palette.divider,height:\"calc(100vh - 48px)\"},JSONActionButton:{padding:\"5px\"},buttonTooltip:{fontSize:\"13px\",backgroundColor:e.palette.grey[50]},expandedButtons:{position:\"absolute\",top:\"53px\",left:\"0\"}}}))((function(e){var t,n=e.classes,a=e.liveViewMode,r=e.switchToJSONView,o=e.switchToConfigurationGroupsView,l=e.onDownloadClick,u=e.populateImportResults,c=e.downloadDisabled;return i.createElement(\"div\",null,i.createElement(\"div\",{className:ee()(n.JSONActionButtons,(t={},t[n.expandedButtons]=a!==ct.None,t))},i.createElement(\"div\",{className:n.JSONActionButton},i.createElement(Tt,{liveViewMode:a,switchToJSONView:r})),i.createElement(\"div\",{className:n.JSONActionButton},i.createElement(ht,{liveViewMode:a,switchToConfigurationGroupsView:o})),i.createElement(U.a,null),i.createElement(\"div\",{className:n.JSONActionButton},i.createElement(ft,{populateImportResults:u})),i.createElement(\"div\",{className:n.JSONActionButton},i.createElement(gt,{downloadDisabled:c,onDownloadClick:l}))))})),Nt=n(282),Ct=n.n(Nt),xt=T()((function(e){return{buttonTooltip:{fontSize:\"13px\",backgroundColor:e.palette.grey[50]}}}))((function(e){var t=e.classes,n=e.collapseLiveView;return i.createElement(mt.a,{classes:{tooltip:t.buttonTooltip},title:\"Close\"},i.createElement(G.a,{onClick:n,\"data-cy\":\"collapse-live-view-btn\"},i.createElement(Ct.a,null)))})),It=n(261),Ot=function(){return(Ot=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},jt=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},At=T()((function(){return{liveConfigurationGroup:{padding:\"14px 0px\",height:\"calc(100vh - 141px)\",overflow:\"scroll\"},loadingBox:{width:\"100%\",height:\"100%\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}}}))((function(e){var t=e.classes,n=e.JSONOutput,a=jt(i.useState({}),2),r=a[0],o=a[1],l=jt(i.useState(null),2),u=l[0],c=l[1],s=jt(i.useState(null),2),d=s[0],p=s[1];return i.useEffect((function(){c(function(e){if(!e||!e.hasOwnProperty(\"configuration-groups\"))return;var t={};return e[\"configuration-groups\"].forEach((function(e){return e.get(\"properties\").forEach((function(e){var n=e.get(\"name\");t[n]={name:n}}))})),t}(n)),p(function(e){if(!e||!e.hasOwnProperty(\"configuration-groups\"))return;return Ot(Ot(Ot({},e),e[\"configuration-groups\"]&&{\"configuration-groups\":e[\"configuration-groups\"].toJS()}),e.filters&&{filters:e.filters.toJS()})}(n))}),[]),i.createElement(\"div\",{className:t.liveConfigurationGroup},i.createElement(It.a,{pluginProperties:u,widgetJson:d,values:r,onChange:o}))})),Pt=T()((function(){return{JSONLiveCode:{overflow:\"auto\",height:\"100%\"},output:{whiteSpace:\"pre-wrap\",height:\"calc(100vh - 141px)\",overflow:\"scroll\",padding:\"14px\"}}}))((function(e){var t=e.classes,n=e.JSONOutput;return i.createElement(\"div\",{className:t.JSONLiveCode},i.createElement(\"pre\",{className:t.output,\"data-cy\":\"live-json\"},JSON.stringify(n,void 0,2)))})),Wt=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Dt=T()((function(e){return{liveViewtopPanel:{padding:\"0px\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",borderBottom:\"1px solid \"+e.palette.divider,height:\"40px\"},collapseLiveViewButton:{marginLeft:\"auto\",display:\"flex\",flexDirection:\"row\"},buttonTooltip:{fontSize:\"14px\",backgroundColor:e.palette.grey[500]},currentFilename:{position:\"relative\",margin:\"0 auto\",left:\"25px\",fontFamily:\"Courier New\"}}}))((function(e){var t=e.classes,n=e.liveViewMode,a=e.JSONOutput,r=e.JSONFilename,o=e.collapseLiveView,l=Wt(i.useState(!1),2),u=l[0],c=l[1],s=Ee()((function(){c(!0),setTimeout((function(){c(!1)}),500)}),500);return i.useEffect(s,[a]),i.createElement(\"div\",null,i.createElement(\"div\",{className:t.liveViewtopPanel},i.createElement(\"div\",{className:t.currentFilename,\"data-cy\":\"plugin-json-filename\"},r),i.createElement(\"div\",{className:t.collapseLiveViewButton},i.createElement(xt,{collapseLiveView:o}))),i.createElement(_.a,{condition:u&&n===ct.ConfigurationGroupsView},i.createElement($.a,null)),i.createElement(_.a,{condition:!u&&n===ct.ConfigurationGroupsView},i.createElement(At,{JSONOutput:a})),i.createElement(_.a,{condition:n===ct.JSONView},i.createElement(Pt,{JSONOutput:a})))})),kt=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},Mt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(kt(arguments[t]));return e};!function(e){e.JSONView=\"JSON_VIEW\",e.ConfigurationGroupsView=\"CONFIGURATION_GROUPS\",e.None=\"NONE\"}(ct||(ct={}));var Vt=T()((function(e){return{mainMenu:{display:\"grid\",gridTemplateColumns:\"1fr 9fr\",width:\"100%\",height:\"100%\",borderTop:\"1px solid \"+e.palette.grey[500]},jsonActionButtons:{margin:\"auto\",padding:\"0\"},liveView:{width:\"100%\"},toolbar:{minHeight:\"48px\"},closedMenu:{zIndex:1e3},closedMenuPaper:{zIndex:1e3,backgroundColor:e.palette.white[50],height:\"calc(100% - 53px)\",overflow:\"hidden\",borderBottom:\"1px solid \"+e.palette.divider},liveViewer:{width:\"550px\",zIndex:1e3},liveViewerPaper:{width:\"550px\",zIndex:1e3,backgroundColor:e.palette.white[50],height:\"calc(100% - 53px)\",overflow:\"hidden\",borderBottom:\"1px solid \"+e.palette.divider}}}))((function(e){var t=e.classes,n=e.uploadedFile,a=an(),o=a.pluginName,l=a.setPluginName,u=a.pluginType,c=a.setPluginType,s=a.displayName,d=a.setDisplayName,p=a.emitAlerts,m=a.setEmitAlerts,g=a.emitErrors,f=a.setEmitErrors,v=rn(),y=v.configurationGroups,b=v.setConfigurationGroups,h=v.groupToInfo,E=v.setGroupToInfo,T=on(),S=T.groupToWidgets,N=T.setGroupToWidgets,C=T.widgetInfo,x=T.setWidgetInfo,I=T.widgetToAttributes,O=T.setWidgetToAttributes,j=ln(),A=j.outputName,P=j.setOutputName,W=j.outputWidgetType,D=j.setOutputWidgetType,k=j.schemaTypes,M=j.setSchemaTypes,V=j.schemaDefaultType,L=j.setSchemaDefaultType,F=j.schema,G=j.setSchema,B=un(),J=B.filters,R=B.setFilters,z=B.filterToName,q=B.setFilterToName,H=B.filterToCondition,U=B.setFilterToCondition,Q=B.filterToShowlist,$=B.setFilterToShowlist,K=B.showToInfo,X=B.setShowToInfo,Y=cn(),Z=Y.JSONStatus,ee=Y.setJSONStatus,te=kt(i.useState(ct.JSONView),2),ne=te[0],ae=te[1];i.useEffect((function(){n&&ie(n.filename,n.fileContent)}),[n]);var re={pluginName:o,pluginType:u,displayName:s,emitAlerts:p,emitErrors:g,configurationGroups:y,setConfigurationGroups:b,groupToInfo:h,setGroupToInfo:E,groupToWidgets:S,widgetInfo:C,widgetToAttributes:I,outputName:A,outputWidgetType:W,schemaTypes:k,schemaDefaultType:V,schema:F,filters:J,filterToName:z,filterToCondition:H,filterToShowlist:Q,showToInfo:K},ie=function(e,t){try{var n=function(e,t){var n,a,r,i,o,l=e.substring(0,e.lastIndexOf(\".\"))||e,u=l.split(\"-\")[0]||\"\",c=l.split(\"-\")[1]||\"\",s=t[\"display-name\"]?t[\"display-name\"]:\"\",d=t[\"emit-alerts\"],p=t[\"emit-errors\"],m=Object(w.List)([]),g=Object(w.Map)({}),f=Object(w.Map)({}),v=Object(w.Map)({}),y=Object(w.Map)({}),b=Object(w.List)([]),h=Object(w.Map)({}),E=Object(w.Map)({}),T=Object(w.Map)({}),S=Object(w.Map)({});if(t[\"configuration-groups\"]&&t[\"configuration-groups\"].forEach((function(e){if(e&&0!==Object.keys(e).length){var t=e.label,n=\"ConfigGroup_\"+Oe()();m=m.push(n),g=g.set(n,Object(w.Map)({label:t})),f=f.set(n,Object(w.List)([]));var a=e.properties;a&&a.forEach((function(e){var t=\"Widget_\"+Oe()();f=f.update(n,(function(e){return e.push(t)})),v=v.set(t,Object(w.Map)(lt({widgetType:e[\"widget-type\"],label:e.label,name:e.name},e[\"widget-category\"]&&{widgetCategory:e[\"widget-category\"]}))),e[\"widget-attributes\"]&&Object.keys(e[\"widget-attributes\"]).length>0&&(e[\"widget-attributes\"].values&&(Object.defineProperty(e[\"widget-attributes\"],\"options\",Object.getOwnPropertyDescriptor(e[\"widget-attributes\"],\"values\")),delete e[\"widget-attributes\"].values),y=y.set(t,Object(w.fromJS)(e[\"widget-attributes\"])))}))}})),t.outputs&&t.outputs.length>0){var N=t.outputs[0];n=N.name||\"\",a=N[\"widget-type\"]||\"\";var C=N[\"widget-attributes\"]||\"\";C&&(r=C[\"schema-types\"]||[],i=C[\"schema-default-type\"]||\"\"),o=N.schema||{}}return t.filters&&t.filters.forEach((function(e){if(e&&0!==Object.keys(e).length){var t=\"Filter_\"+Oe()();b=b.push(t),h=h.set(t,e.name),E=E.set(t,Object(w.Map)(e.condition)),T=T.set(t,Object(w.List)([])),e.show&&e.show.map((function(e){var n=\"Show_\"+Oe()();T=T.update(t,(function(e){return e.push(n)})),S=S.set(n,Object(w.Map)(lt({name:e.name},e.type&&{type:e.type})))}))}})),{pluginName:u,pluginType:c,displayName:s,emitAlerts:d,emitErrors:p,configurationGroups:m,groupToInfo:g,groupToWidgets:f,widgetInfo:v,widgetToAttributes:y,outputName:n,outputWidgetType:a,schemaTypes:r,schemaDefaultType:i,schema:o,filters:b,filterToName:h,filterToCondition:E,filterToShowlist:T,showToInfo:S}}(e,JSON.parse(t));ee(r.Success),de(null),function(e){l(e.pluginName),c(e.pluginType),d(e.displayName),m(e.emitAlerts),f(e.emitErrors),b(e.configurationGroups),E(e.groupToInfo),N(e.groupToWidgets),x(e.widgetInfo),O(e.widgetToAttributes),P(e.outputName),D(e.outputWidgetType),M(e.schemaTypes),L(e.schemaDefaultType),G(e.schema),R(e.filters),q(e.filterToName),U(e.filterToCondition),$(e.filterToShowlist),X(e.showToInfo)}(n)}catch(e){ee(r.Fail),de(e.name+\": \"+e.message)}},oe=function(){ae(ct.JSONView)},le=function(){ae(ct.ConfigurationGroupsView)},ue=function(){!function(e){var t=ut(e),n=e.pluginName,a=e.pluginType;ot()(JSON.stringify(t,void 0,4),n+\"-\"+a+\".json\")}(re)},ce=kt(i.useState(\"\"),2),se=ce[0],de=ce[1],pe=kt(i.useState(null),2),me=pe[0],ge=pe[1],fe=(o||\"<PluginName>\")+\"-\"+(u||\"<PluginType>\")+\".json\",ve=!o||0===o.length||!u||0===u.length,ye=ne!==ct.None;return i.useEffect((function(){Z===r.Normal&&ge(ut(re))}),Mt([Z],Object.values(re))),i.createElement(\"div\",null,i.createElement(st.a,{open:!0,variant:\"persistent\",className:ye?t.liveViewer:t.closedMenu,anchor:\"right\",ModalProps:{keepMounted:!0},classes:{paperAnchorRight:ye?t.liveViewerPaper:t.closedMenuPaper},\"data-cy\":\"navbar-drawer\"},i.createElement(\"div\",{className:t.toolbar}),i.createElement(_.a,{condition:ye},i.createElement(\"div\",{className:t.mainMenu},i.createElement(\"div\",{className:t.jsonActionButtons},i.createElement(St,{downloadDisabled:ve,onDownloadClick:ue,populateImportResults:ie,liveViewMode:ne,switchToJSONView:oe,switchToConfigurationGroupsView:le})),i.createElement(\"div\",{className:t.liveView},i.createElement(Dt,{liveViewMode:ne,JSONFilename:fe,JSONOutput:me,collapseLiveView:function(){ae(ct.None)}})))),i.createElement(_.a,{condition:!ye},i.createElement(\"div\",{className:t.jsonActionButtons},i.createElement(St,{downloadDisabled:ve,onDownloadClick:ue,populateImportResults:ie,liveViewMode:ne,switchToJSONView:oe,switchToConfigurationGroupsView:le})))),i.createElement(Ke.a,{message:se,showAlert:Z===r.Fail,type:\"error\",onClose:function(){ee(r.Normal)}}))})),Lt=i.memo(Vt),Ft=n(1749),Gt=n.n(Ft),Bt=n(1545),Jt=T()((function(e){return{steps:{position:\"fixed\",width:qt+\"px\"},row:{padding:\"15px\",lineHeight:\"24px\"},finishedRow:{cursor:\"pointer\",\"&:hover\":{backgroundColor:e.palette.grey[700]},\"& $chip\":{backgroundColor:e.palette.blue[100]}},active:{backgroundColor:e.palette.grey[700]},chip:{marginRight:\"10px\",color:e.palette.white[50],backgroundColor:e.palette.grey[200],minWidth:\"24px\",height:\"24px\",\"& span\":{paddingLeft:\"5px\",paddingRight:\"5px\"}},checkIcon:{fontSize:\"14px\"}}}))((function(e){var t=e.classes,n=cn(),a=n.activeStep,r=n.setActiveStep;function o(e){e>=a||r(e)}return i.createElement(\"div\",{className:t.steps},nt.map((function(e,n){var r,l=n<a?i.createElement(Gt.a,{className:t.checkIcon}):n+1;return i.createElement(\"div\",{key:e.label,className:ee()(t.row,(r={},r[t.finishedRow]=n<=a,r[t.active]=n===a,r)),onClick:o.bind(null,n)},i.createElement(Bt.a,{label:l,className:t.chip}),i.createElement(\"span\",null,e.label))})))})),Rt=function(){return(Rt=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},zt=function(e,t){var n=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var a,r,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return o},qt=250,_t={pluginName:\"\",setPluginName:void 0,pluginType:\"\",setPluginType:void 0,displayName:\"\",setDisplayName:void 0,emitAlerts:!1,setEmitAlerts:void 0,emitErrors:!1,setEmitErrors:void 0},Ht={configurationGroups:Object(w.List)(),setConfigurationGroups:void 0,groupToInfo:Object(w.Map)(),setGroupToInfo:void 0},Ut={groupToWidgets:Object(w.Map)(),setGroupToWidgets:void 0,widgetInfo:Object(w.Map)(),setWidgetInfo:void 0,widgetToAttributes:Object(w.Map)(),setWidgetToAttributes:void 0},Qt={outputName:\"\",setOutputName:void 0,outputWidgetType:a.Explicit,setOutputWidgetType:void 0,schemaTypes:[],setSchemaTypes:void 0,schemaDefaultType:\"\",setSchemaDefaultType:void 0,schema:{},setSchema:void 0},$t={filters:Object(w.List)(),setFilters:void 0,filterToName:Object(w.Map)(),setFilterToName:void 0,filterToCondition:Object(w.Map)(),setFilterToCondition:void 0,filterToShowlist:Object(w.Map)(),setFilterToShowlist:void 0,showToInfo:Object(w.Map)(),setShowToInfo:void 0},Kt={activeStep:0,setActiveStep:void 0,JSONStatus:r.Normal,setJSONStatus:void 0},Xt=i.createContext(_t),Yt=i.createContext(Ht),Zt=i.createContext(Ut),en=i.createContext(Qt),tn=i.createContext($t),nn=i.createContext(Kt),an=function(){return i.useContext(Xt)},rn=function(){return i.useContext(Yt)},on=function(){return i.useContext(Zt)},ln=function(){return i.useContext(en)},un=function(){return i.useContext(tn)},cn=function(){return i.useContext(nn)},sn=function(e){var t=e.children,n=e.pluginInfoContextValue,a=e.configuratioGroupContextValue,r=e.widgetContextValue,o=e.outputContextValue,l=e.filterContextValue,u=e.appInternalContextValue;return i.createElement(Xt.Provider,{value:n},i.createElement(Yt.Provider,{value:a},i.createElement(Zt.Provider,{value:r},i.createElement(en.Provider,{value:o},i.createElement(tn.Provider,{value:l},i.createElement(nn.Provider,{value:u},t))))))},dn=T()((function(e){return{root:{display:\"grid\",gridTemplateColumns:qt+\"px 1fr\",height:\"calc(100vh - 53px - 48px)\",width:\"100%\"},dropzone:{\"&:focus\":{outline:\"none\"}},stepsGuidelineMenu:{height:\"100%\",borderRight:\"1px solid \"+e.palette.divider},content:{width:\"100%\",height:\"100%\"},overlayScreen:{position:\"fixed\",padding:0,margin:0,width:\"100vw\",height:\"100vh\",border:\"3px dashed \"+e.palette.primary.main,backgroundColor:Object(bt.fade)(e.palette.primary.main,.2)+\" !important\",zIndex:5e3}}}))((function(e){var t=e.classes,n=(e.children,zt(i.useState(_t.pluginName),2)),a=n[0],r=n[1],o=zt(i.useState(_t.pluginType),2),l=o[0],u=o[1],c=zt(i.useState(_t.displayName),2),s=c[0],d=c[1],p=zt(i.useState(_t.emitAlerts),2),m=p[0],g=p[1],f=zt(i.useState(_t.emitErrors),2),v=f[0],y=f[1],b=zt(i.useState(Ht.configurationGroups),2),h=b[0],w=b[1],E=zt(i.useState(Ht.groupToInfo),2),T=E[0],S=E[1],N=zt(i.useState(Ut.groupToWidgets),2),C=N[0],x=N[1],I=zt(i.useState(Ut.widgetInfo),2),O=I[0],j=I[1],A=zt(i.useState(Ut.widgetToAttributes),2),P=A[0],W=A[1],D=zt(i.useState(Qt.outputName),2),k=D[0],M=D[1],V=zt(i.useState(Qt.outputWidgetType),2),L=V[0],F=V[1],G=zt(i.useState(Qt.schemaTypes),2),B=G[0],J=G[1],R=zt(i.useState(Qt.schemaDefaultType),2),z=R[0],q=R[1],H=zt(i.useState(Qt.schema),2),U=H[0],Q=H[1],$=zt(i.useState($t.filters),2),K=$[0],X=$[1],Y=zt(i.useState($t.filterToName),2),Z=Y[0],te=Y[1],ne=zt(i.useState($t.filterToCondition),2),ae=ne[0],re=ne[1],ie=zt(i.useState($t.filterToShowlist),2),oe=ie[0],le=ie[1],ue=zt(i.useState($t.showToInfo),2),ce=ue[0],se=ue[1],de=zt(i.useState(Kt.activeStep),2),pe=de[0],me=de[1],ge=zt(i.useState(Kt.JSONStatus),2),fe=ge[0],ve=ge[1],ye=i.useMemo((function(){return{pluginName:a,setPluginName:r,pluginType:l,setPluginType:u,displayName:s,setDisplayName:d,emitAlerts:m,setEmitAlerts:g,emitErrors:v,setEmitErrors:y}}),[a,l,s,m,v]),be=i.useMemo((function(){return{configurationGroups:h,setConfigurationGroups:w,groupToInfo:T,setGroupToInfo:S}}),[h,T]),he=i.useMemo((function(){return{groupToWidgets:C,setGroupToWidgets:x,widgetInfo:O,setWidgetInfo:j,widgetToAttributes:P,setWidgetToAttributes:W}}),[C,O,P]),we=i.useMemo((function(){return{outputName:k,setOutputName:M,outputWidgetType:L,setOutputWidgetType:F,schemaTypes:B,setSchemaTypes:J,schemaDefaultType:z,setSchemaDefaultType:q,schema:U,setSchema:Q}}),[k,L,B,z,U]),Ee=i.useMemo((function(){return{filters:K,setFilters:X,filterToName:Z,setFilterToName:te,filterToCondition:ae,setFilterToCondition:re,filterToShowlist:oe,setFilterToShowlist:le,showToInfo:ce,setShowToInfo:se}}),[K,Z,ae,oe,ce]),Te=i.useMemo((function(){return{activeStep:pe,setActiveStep:me,JSONStatus:fe,setJSONStatus:ve}}),[pe,me,fe,ve]),Se=zt(i.useState(null),2),Ne=Se[0],Ce=Se[1];return i.createElement(rt.default,{multiple:!1,noClick:!0,onDropAccepted:function(e){var t,n=e[0],a=n.name,r=a.substring(0,a.lastIndexOf(\".\"))||a,i=new FileReader;i.readAsText(n),i.onload=function(e){t=e.target.result,Ce({filename:r,fileContent:t})}}},(function(e){var n,a=e.getRootProps,r=e.getInputProps,o=e.isDragActive;return i.createElement(\"div\",{className:ee()((n={},n[t.overlayScreen]=o,n))},i.createElement(\"section\",null,i.createElement(\"div\",Rt({className:t.dropzone},a()),i.createElement(\"input\",Rt({},r())),i.createElement(sn,{pluginInfoContextValue:ye,configuratioGroupContextValue:be,widgetContextValue:he,outputContextValue:we,filterContextValue:Ee,appInternalContextValue:Te},i.createElement(_.a,{condition:!o},i.createElement(Lt,{uploadedFile:Ne}))),i.createElement(nn.Provider,{value:Te},i.createElement(\"div\",{className:t.root},i.createElement(\"div\",{className:t.stepsGuidelineMenu},i.createElement(Jt,null)),i.createElement(\"div\",{className:t.content},i.createElement(at,{pluginInfoContextValue:ye,configuratioGroupContextValue:be,widgetContextValue:he,outputContextValue:we,filterContextValue:Ee})))))))}))})),pn=n(8),mn=n(24);n.d(t,\"basepath\",(function(){return gn}));var gn=\"/ns/:namespace/plugincreation\";t.default=function(){var e=mn.a.productName+\" | Plugin JSON\";return i.createElement(i.Fragment,null,i.createElement(c.a,{title:e}),i.createElement(l.Switch,null,i.createElement(l.Route,{path:gn,component:dn}),i.createElement(l.Route,{render:function(){return i.createElement(l.Redirect,{to:\"/ns/\"+Object(pn.d)()+\"/plugincreation\"})}})))}}}]);","extractedComments":[]}