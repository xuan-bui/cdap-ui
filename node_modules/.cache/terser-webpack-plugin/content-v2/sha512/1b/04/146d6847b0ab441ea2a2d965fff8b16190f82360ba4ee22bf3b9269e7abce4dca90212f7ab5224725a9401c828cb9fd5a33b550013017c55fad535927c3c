{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1547:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return T})),r.d(t,\"b\",(function(){return w})),r.d(t,\"f\",(function(){return P})),r.d(t,\"j\",(function(){return j})),r.d(t,\"d\",(function(){return R})),r.d(t,\"c\",(function(){return C})),r.d(t,\"m\",(function(){return N})),r.d(t,\"p\",(function(){return x})),r.d(t,\"n\",(function(){return A})),r.d(t,\"k\",(function(){return _})),r.d(t,\"e\",(function(){return k})),r.d(t,\"i\",(function(){return L})),r.d(t,\"g\",(function(){return M})),r.d(t,\"o\",(function(){return D})),r.d(t,\"l\",(function(){return I})),r.d(t,\"h\",(function(){return F}));var n=r(1551),a=r(1549),o=r(146),i=r(502),l=r.n(i),c=r(3),s=r(28),u=r(27),p=r(495),f=r(493),d=r(29),m=r.n(d),b=r(24);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(\"undefined\"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if(\"string\"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=y({profilescope:r},o);t!==u.k&&(i.namespace=t);var l=h({},e,{tags:i,metrics:[\"system.program.completed.runs\",\"system.program.failed.runs\",\"system.program.killed.runs\",\"system.program.node.minutes\"],timeRange:{start:n,end:a,resolution:\"auto\"},groupBy:[\"profile\"]});return n||a||(l=y({},l,h({},e,y({},l[e],{timeRange:y({},l[e].timeRange,{resolution:\"1h\",aggregate:!0})})))),l},O=function(e,t){var r=function(e){var t=0,r=0;return e.forEach((function(e){var n=Object(c.E)(e,\"entity\",\"details\",\"schedule\");n&&(n===u.b.defaultScheduleId?t+=1:r+=1)})),{schedulesCount:t,triggersCount:r}}(t),a=r.schedulesCount,o=r.triggersCount;n.c.dispatch({type:n.a.SET_SCHEDULES_TRIGGERS_COUNT,payload:{profile:e,schedulesCount:a,triggersCount:o}})},T=\"oneDayMetrics\",w=\"overAllMetrics\",P=function(e,t,r){var n=S(T,e,t.scope,\"now-24h\",\"now\",r),a=S(w,e,t.scope,0,0,r);return p.a.query(null,y({},n,{},a)).flatMap((function(e){var t,r=(h(t={},T,{runs:\"--\",minutes:\"--\"}),h(t,w,{runs:\"--\",minutes:\"--\"}),t);return Object.keys(e).forEach((function(t){e[t].series.forEach((function(e){var n,a=e.metricName.split(\".\").pop();n=e.data.length?1===e.data.length?e.data[0].value:e.data.reduce((function(e,t){return e+t.value}),0):0,Object.prototype.hasOwnProperty.call(r,t)||(r[t]={}),\"--\"===r[t][a]||m()(r[t][a])?r[t]=y({},r[t],h({},a,n)):r[t][a]+=n}))})),s.Observable.create((function(e){e.next(r)}))}))},j=function(e){n.c.dispatch({type:n.a.SET_LOADING,payload:{loading:!0}});var t=a.a.getSystemProfiles();(t=e!==u.k?t.combineLatest(a.a.list({namespace:e})):t.combineLatest(s.Observable.of([]))).subscribe((function(t){var r=g(t,2),a=r[0],o=void 0===a?[]:a,i=r[1],l=void 0===i?[]:i,s=o;!1===b.a.showNativeProfile&&(s=o.filter((function(e){return\"native\"!==e.name})));var d=l.concat(s).map((function(e){return y({},e,{oneDayMetrics:{},overAllMetrics:{},schedulesCount:\"--\",triggersCount:\"--\"})}));n.c.dispatch({type:n.a.SET_PROFILES,payload:{profiles:d}});var E={programtype:\"Workflow\"},v=S(\"oneDayUSERMetrics\",e,u.h.USER,\"now-24h\",\"now\",E),T=S(\"overAllUSERMetrics\",e,u.h.USER,0,0,E),w=S(\"oneDaySYSTEMMetrics\",e,u.h.SYSTEM,\"now-24h\",\"now\",E),P=S(\"overAllSYSTEMMetrics\",e,u.h.SYSTEM,0,0,E);p.a.query(null,y({},v,{},T,{},w,{},P)).subscribe((function(e){var t={};Object.keys(e).forEach((function(r){var n=-1!==r.indexOf(u.h.USER)?u.h.USER:u.h.SYSTEM,a=r.replace(/USER|SYSTEM/,\"\");e[r].series.forEach((function(e){var r,o=e.grouping.profile,i=\"\".concat(n,\":\").concat(o),l=e.metricName.split(\".\").pop();r=e.data.length?1===e.data.length?e.data[0].value:e.data.reduce((function(e,t){return e+t.value}),0):0,Object.prototype.hasOwnProperty.call(t,i)||(t[i]=h({},a,{})),m()(Object(c.E)(t,i,a,l))||(r+=t[i][a][l]),t[i]=y({},t[i],h({},a,y({},t[i][a],h({},l,r))))}))})),n.c.dispatch({type:n.a.SET_PROFILE_METRICS,payload:{profilesToMetricsMap:t}})})),d.forEach((function(t){var r=t.scope,n=\"profile:\".concat(r,\":\").concat(t.name);(e===u.k?f.a.searchSystem({query:n,responseFormat:\"v6\"}):f.a.search({namespace:e,query:n,responseFormat:\"v6\"})).subscribe((function(e){return O(t.name,e.results)}))}))}),x)},R=function(e,t){var r=a.a.get({namespace:e,profile:t.name});e===u.k&&(r=a.a.getSystemProfile({profile:t.name})),r.subscribe((function(e){var r=JSON.stringify(e,null,2),n=\"\".concat(t.name,\"-\").concat(t.provisioner.name,\"-profile.json\");l()(r,n)}),x)},C=function(e,t,r){var n;return(n=e===u.k?a.a.deleteSystemProfile({profile:t}):a.a.delete({namespace:e,profile:t})).subscribe((function(){j(r)}),(function(e){s.Observable.throw(e)})),n},N=function(e,t){if(Object(c.E)(t,\"target\",\"files\",0)){var r=t.target.files[0],o=new FileReader;o.readAsText(r,\"UTF-8\"),o.onload=function(t){var r=t.target.result;try{r=JSON.parse(r)}catch(e){return void n.c.dispatch({type:n.a.SET_ERROR,payload:{error:e.message||e}})}var o=a.a.create({namespace:e,profile:r.name},r);e===u.k&&(o=a.a.createSystemProfile({profile:r.name},r)),o.subscribe((function(){j(e);var t=e===u.k?u.h.SYSTEM:u.h.USER,n=\"\".concat(t,\":\").concat(r.name);I(n)}),(function(e){n.c.dispatch({type:n.a.SET_ERROR,payload:{error:e.response||e}})}))}}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.c.dispatch({type:n.a.SET_ERROR,payload:{error:e}})},A=function(){n.c.dispatch({type:n.a.RESET})},_=function(e,t){if(t.length){var r=t.find((function(t){return t.name===e.provisioner.name}));if(r)return r.label}return e.provisioner.name},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return e.replace(/(USER|SYSTEM):/g,\"\")},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=arguments.length>1?arguments[1]:void 0;return e&&t?t===u.h.SYSTEM?\"\".concat(u.h.SYSTEM,\":\").concat(e):\"\".concat(u.h.USER,\":\").concat(e):e},M=function(e){(e===u.k?o.a.getSystemPreferences():o.a.getNamespacePreferences({namespace:e})).subscribe((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t[u.a.PROFILE_NAME_PREFERENCE_PROPERTY];r||e!==u.k||(r=u.a.DEFAULT_PROFILE_NAME),r&&n.c.dispatch({type:n.a.SET_DEFAULT_PROFILE,payload:{defaultProfile:r}})}),x)},D=function(e,t){function r(){n.c.dispatch({type:n.a.SET_DEFAULT_PROFILE,payload:{defaultProfile:t}})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=h({},u.a.PROFILE_NAME_PREFERENCE_PROPERTY,t);return y({},e,{},r)}if(e===u.k)o.a.getSystemPreferences().subscribe((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.a.setSystemPreferences({},a(e)).subscribe(r,x)}),x);else{var i={namespace:e};o.a.getNamespacePreferences(i).subscribe((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.a.setNamespacePreferences(i,a(e)).subscribe(r,x)}))}},I=function(e){n.c.dispatch({type:n.a.SET_NEW_PROFILE,payload:{newProfile:e}}),setTimeout((function(){n.c.dispatch({type:n.a.SET_NEW_PROFILE,payload:{newProfile:null}})}),3e3)},F=function(e){if(\"number\"==typeof e){var t=e/60;return\"function\"==typeof t.toFixed?t.toFixed(2):t}return e}},1549:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return l}));var n=r(56),a=r(7),o=n.a.getInstance(),i=\"\".concat(\"/namespaces/:namespace\",\"/profiles\"),l={list:Object(a.a)(o,\"GET\",\"REQUEST\",i),getSystemProfiles:Object(a.a)(o,\"GET\",\"REQUEST\",\"\".concat(\"/profiles\")),create:Object(a.a)(o,\"PUT\",\"REQUEST\",\"\".concat(i,\"/:profile\")),createSystemProfile:Object(a.a)(o,\"PUT\",\"REQUEST\",\"\".concat(\"/profiles\",\"/:profile\")),get:Object(a.a)(o,\"GET\",\"REQUEST\",\"\".concat(i,\"/:profile\")),getSystemProfile:Object(a.a)(o,\"GET\",\"REQUEST\",\"\".concat(\"/profiles\",\"/:profile\")),deleteSystemProfile:Object(a.a)(o,\"DELETE\",\"REQUEST\",\"\".concat(\"/profiles\",\"/:profile\")),delete:Object(a.a)(o,\"DELETE\",\"REQUEST\",\"\".concat(i,\"/:profile\")),toggleSystemProfileStatus:Object(a.a)(o,\"POST\",\"REQUEST\",\"\".concat(\"/profiles\",\"/:profile/:action\")),toggleProfileStatus:Object(a.a)(o,\"POST\",\"REQUEST\",\"\".concat(i,\"/:profile/:action\")),getProvisioners:Object(a.a)(o,\"GET\",\"REQUEST\",\"\".concat(\"/provisioners\")),getProvisionerDetailSpec:Object(a.a)(o,\"GET\",\"REQUEST\",\"\".concat(\"/provisioners\",\"/:provisioner\"))}},1551:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c})),r.d(t,\"b\",(function(){return u}));var n=r(33),a=r(3);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c={SET_PROFILES:\"SET_PROFILES\",SET_DEFAULT_PROFILE:\"SET_DEFAULT_PROFILE\",SET_NEW_PROFILE:\"SET_NEW_PROFILE\",SET_PROFILE_METRICS:\"SET_PROFILE_METRICS\",SET_SCHEDULES_TRIGGERS_COUNT:\"SET_SCHEDULES_TRIGGERS_COUNT\",SET_LOADING:\"SET_LOADING\",SET_ERROR:\"SET_ERROR\",RESET:\"RESET\"},s={profiles:[],defaultProfile:null,newProfile:\"\",loading:!1,error:null},u={ENABLED:\"enabled\",DISABLED:\"disabled\"},p=Object(n.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.m;switch(t.type){case c.SET_PROFILES:return i({},e,{profiles:t.payload.profiles,error:null,loading:!1});case c.SET_PROFILE_METRICS:var r=t.payload.profilesToMetricsMap,n=e.profiles;return n=n.map((function(e){var t={runs:\"--\",minutes:\"--\"},n=\"\".concat(e.scope,\":\").concat(e.name);return i({},e,{oneDayMetrics:t,overAllMetrics:t},r[n]||{})})),i({},e,{profiles:n});case c.SET_SCHEDULES_TRIGGERS_COUNT:var o=t.payload,l=o.profile,u=o.schedulesCount,p=o.triggersCount,f=e.profiles;return f=f.map((function(e){return e.name===l?i({},e,{schedulesCount:u,triggersCount:p}):e})),i({},e,{profiles:f});case c.SET_DEFAULT_PROFILE:return i({},e,{defaultProfile:t.payload.defaultProfile});case c.SET_NEW_PROFILE:return i({},e,{newProfile:t.payload.newProfile});case c.SET_LOADING:return i({},e,{error:null,loading:t.payload.loading});case c.SET_ERROR:return i({},e,{error:t.payload.error,loading:!1});case c.RESET:return s;default:return e}}),s,Object(a.h)(\"ProfilesStore\")());t.c=p},1554:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return l}));var n=r(7),a=r(56).a.getInstance(),o=\"/namespaces/:namespace/:entityType/:entityId/metadata\",i=\"/namespaces/:namespace/datasets/:entityId/lineage/fields\",l={getMetadata:Object(n.a)(a,\"GET\",\"REQUEST\",o),getProperties:Object(n.a)(a,\"GET\",\"REQUEST\",\"\".concat(o,\"/properties?responseFormat=v6\")),addProperties:Object(n.a)(a,\"POST\",\"REQUEST\",\"\".concat(o,\"/properties\")),deleteProperty:Object(n.a)(a,\"DELETE\",\"REQUEST\",\"\".concat(o,\"/properties/:key\")),getTags:Object(n.a)(a,\"GET\",\"REQUEST\",\"\".concat(o,\"/tags?responseFormat=v6\")),addTags:Object(n.a)(a,\"POST\",\"REQUEST\",\"\".concat(o,\"/tags\")),deleteTags:Object(n.a)(a,\"DELETE\",\"REQUEST\",\"\".concat(o,\"/tags/:key\")),getArtifactProperties:Object(n.a)(a,\"GET\",\"REQUEST\",\"/namespaces/:namespace/artifacts/:artifactName/versions/:artifactVersion/metadata/properties\"),getFields:Object(n.a)(a,\"GET\",\"REQUEST\",i),getFieldLineage:Object(n.a)(a,\"GET\",\"REQUEST\",\"\".concat(i,\"/:fieldName\")),getFieldOperations:Object(n.a)(a,\"GET\",\"REQUEST\",\"\".concat(i,\"/:fieldName/operations\")),getAllFieldLineage:Object(n.a)(a,\"GET\",\"REQUEST\",\"/namespaces/:namespace/datasets/:entityId/lineage/allfieldlineage\")}},1555:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return u}));var n=r(0),a=r.n(n),o=r(1),i=r.n(o),l=r(2),c=r.n(l);r(1578);var s=\"features.ViewAllLabel\";function u(e){var t=e.arrayToLimit,r=e.limit,n=e.viewAllState,o=e.toggleViewAll;return t.length<=r?null:a.a.createElement(\"div\",{className:\"view-all-label-container\"},a.a.createElement(\"span\",{className:\"view-all-label\",onClick:o},n?c.a.translate(\"\".concat(s,\".viewLess\")):c.a.translate(\"\".concat(s,\".viewAll\"))))}u.propTypes={arrayToLimit:i.a.array,limit:i.a.number,viewAllState:i.a.bool,toggleViewAll:i.a.func}},1565:function(e,t,r){\"use strict\";var n,a=r(0),o=r.n(a),i=r(2),l=r.n(i),c=r(79),s=r(715),u=r(12),p=r.n(u),f=function(e,t){return Object.defineProperty?Object.defineProperty(e,\"raw\",{value:t}):e.raw=t,e},d=\"features.Cloud.Profiles\",m=c.c.span.withConfig({displayName:\"AutoScaleBadge__Badge\"})(n||(n=f([\"\\n  color: #fff;\\n  font-size: 0.85rem;\\n  background: var(--brand-primary-color);\\n  padding: 2px 6px;\\n  display: inline-block;\\n  border-radius: 20px;\\n  margin-left: 6px;\\n  cursor: pointer;\\n\"],[\"\\n  color: #fff;\\n  font-size: 0.85rem;\\n  background: var(--brand-primary-color);\\n  padding: 2px 6px;\\n  display: inline-block;\\n  border-radius: 20px;\\n  margin-left: 6px;\\n  cursor: pointer;\\n\"]))),b=p()((function(){return{tooltip:{backgroundColor:\"#999\",fontSize:\"1rem\"}}}))(s.a);t.a=function(e){var t=e.properties;return(void 0===t?[]:t).some((function(e){return\"autoScalingPolicy\"===e.name&&\"\"!==e.value||\"enablePredefinedAutoScaling\"===e.name&&\"true\"===e.value}))?o.a.createElement(b,{title:l.a.translate(d+\".common.autoScaleTooltip\")},o.a.createElement(m,null,l.a.translate(d+\".common.autoScaleBadge\"))):null}},1566:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return p}));var n=r(33),a=r(3),o=r(1549),i=r(50),l=r.n(i),c=r(28),s=\"SAVE_PROVISIONERS\",u={nameToLabelMap:{},list:[]},p=function(){var e,t=f.getState().list,r=function(){return c.Observable.create((function(e){e.next(f.getState())}))};return l()(t)?(e=o.a.getProvisioners(),e.subscribe((function(e){f.dispatch({type:s,payload:{provisioners:e}})}),(function(e){console.log(\"Fetching provisioners failed: \",e)})),e).flatMap(r):r()},f=Object(n.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.m;switch(t.type){case s:var r=t.payload.provisioners,n={};return r.forEach((function(e){n[e.name]=e.label})),{nameToLabelMap:n,list:r};default:return e}}),u,Object(a.h)(\"ProvisionersMapStore\")())},1573:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return d}));var n=r(0),a=r.n(n),o=r(1),i=r.n(o),l=r(221),c=r(1547),s=r(2),u=r.n(s),p=r(6),f=r.n(p);function d(e){var t=e.target,r=e.namespace,n=e.profile,o=e.onDeleteClick,i=e.className,s=!1;return n&&\"DISABLED\"===n.status&&(s=!0),a.a.createElement(l.a,{target:t,className:\"profile-actions-popover \".concat(i),placement:\"bottom\",bubbleEvent:!1,enableInteractionInPopover:!0},a.a.createElement(\"ul\",null,a.a.createElement(\"li\",{onClick:c.d.bind(this,r,n)},u.a.translate(\"features.Cloud.Profiles.common.export\")),a.a.createElement(\"hr\",null),a.a.createElement(\"li\",{className:f()(\"delete-action\",{disabled:!s}),title:s?\"\":u.a.translate(\"features.Cloud.Profiles.common.disabledDeleteProfile\"),onClick:s?o:null},u.a.translate(\"commons.delete\"))))}r(1583),d.propTypes={target:i.a.oneOfType([i.a.node,i.a.func]),namespace:i.a.string,profile:i.a.object,onDeleteClick:i.a.func,className:i.a.string}},1578:function(e,t,r){var n=r(19),a=r(1579);\"string\"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,\"\"]]);var o={insert:\"head\",singleton:!1},i=(n(e.i,a,o),a.locals?a.locals:{});e.exports=i},1579:function(e,t,r){(t=r(18)(!1)).push([e.i,\".view-all-label-container{margin:5px 0}.view-all-label-container .view-all-label{color:#09f;cursor:pointer}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},1582:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return K}));var n=r(0),a=r.n(n),o=r(1),i=r.n(o),l=r(8),c=r(25),s=r(2),u=r.n(s),p=r(6),f=r.n(p),d=r(14),m=r(62),b=r(222),g=r.n(b),E=r(1555),v=r(163),y=r(1565),h=r(1551),S=r(1547),O=r(21),T=r(125),w=r(22),P=r.n(w),j=r(1573),R=r(162),C=r.n(R),N=r(1566),x=r(27),A=r(3),_=r(109),k=r.n(_);function L(e){return(L=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function M(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var a=B(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Q(this,r)}}function Q(e,t){return!t||\"object\"!==L(t)&&\"function\"!=typeof t?V(e):t}function V(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r(1585);var Y=\"features.Cloud.Profiles\",W=[{label:u.a.translate(\"\".concat(Y,\".ListView.default\"))},{property:\"name\",label:u.a.translate(\"\".concat(Y,\".ListView.profileName\"))},{property:function(e){return e.provisioner.label},label:u.a.translate(\"\".concat(Y,\".common.provisioner\"))},{property:function(e){return e.provisioner.totalProcessingCpusLabel},label:u.a.translate(\"\".concat(Y,\".common.totalWorkerCores\"))},{property:\"scope\",label:u.a.translate(\"commons.scope\")},{property:\"last24HrRuns\",label:u.a.translate(\"\".concat(Y,\".common.last24HrRuns\"))},{property:\"last24HrNodeHr\",label:u.a.translate(\"\".concat(Y,\".common.last24HrNodeHr\"))},{property:\"totalNodeHr\",label:u.a.translate(\"\".concat(Y,\".common.totalNodeHr\"))},{property:\"schedulesCount\",label:u.a.translate(\"\".concat(Y,\".ListView.schedules\"))},{property:\"triggersCount\",label:u.a.translate(\"\".concat(Y,\".ListView.triggers\"))},{property:\"status\",label:\"Status\"},{label:\"\"}],z=\"asc\",q=\"desc\",J=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,r,n,o=G(i);function i(){var e;I(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return H(V(e=o.call.apply(o,[this].concat(r))),\"state\",{profiles:e.props.profiles,provisionersMap:{},viewAll:!1,sortMethod:z,sortColumn:W[1].property,profileToDelete:null,deleteErrMsg:\"\",extendedDeleteErrMsg:\"\"}),H(V(e),\"toggleViewAll\",(function(){e.setState({viewAll:!e.state.viewAll})})),H(V(e),\"handleProfilesSort\",(function(t){var r,n;e.state.sortColumn===t?(r=e.state.sortColumn,n=e.state.sortMethod===z?q:z):(r=t,n=z),e.setState({sortColumn:r,sortMethod:n,profiles:g()(e.state.profiles,[r],[n])})})),H(V(e),\"deleteProfile\",(function(t){var r=t.scope===x.h.SYSTEM?x.k:e.props.namespace;Object(S.c)(r,t.name,e.props.namespace).subscribe((function(){e.setState({profileToDelete:null,deleteErrMsg:\"\",extendedDeleteErrMsg:\"\"})}),(function(t){e.setState({deleteErrMsg:u.a.translate(\"\".concat(Y,\".common.deleteError\")),extendedDeleteErrMsg:t})}))})),H(V(e),\"toggleDeleteConfirmationModal\",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.setState({profileToDelete:t,deleteErrMsg:\"\",extendedDeleteErrMsg:\"\"})})),H(V(e),\"setProfileAsDefault\",(function(t,r){t!==e.props.defaultProfile&&Object(S.o)(e.props.namespace,t),Object(A.G)(r)})),H(V(e),\"renderProfilerow\",(function(t){var r=t.scope===x.h.SYSTEM?x.k:e.props.namespace,n=t.provisioner.name;t.provisioner.label=e.state.provisionersMap[n]||n;var o=h.b[t.status],i=c.Link,l=Object(S.i)(t.name,t.scope),s=l===x.a.DEFAULT_PROFILE_NAME,p=l===e.props.defaultProfile;return s&&(i=\"div\"),a.a.createElement(i,{to:\"/ns/\".concat(r,\"/profiles/details/\").concat(t.name),className:f()(\"grid-row grid-link\",{\"native-profile\":s,highlighted:l===e.props.newProfile}),key:P()()},a.a.createElement(\"div\",{className:\"default-star\",onClick:e.setProfileAsDefault.bind(V(e),l)},p?a.a.createElement(d.a,{name:\"icon-star\",className:\"default-profile\"}):a.a.createElement(d.a,{name:\"icon-star-o\",className:\"not-default-profile\"})),a.a.createElement(\"div\",{className:\"profile-label\",title:t.label||t.name,\"data-cy\":\"profile-list-\".concat(t.name)},t.label||t.name),a.a.createElement(\"div\",null,t.provisioner.label),a.a.createElement(\"div\",null,t.provisioner.totalProcessingCpusLabel||\"--\",a.a.createElement(y.a,{properties:t.provisioner.properties})),a.a.createElement(\"div\",null,t.scope),a.a.createElement(\"div\",null,t.oneDayMetrics.runs||\"--\"),a.a.createElement(\"div\",null,Object(S.h)(t.oneDayMetrics.minutes||\"--\")),a.a.createElement(\"div\",null,Object(S.h)(t.overAllMetrics.minutes||\"--\")),a.a.createElement(\"div\",null,t.schedulesCount),a.a.createElement(\"div\",null,t.triggersCount),a.a.createElement(\"div\",{className:\"\".concat(o,\"-label\")},u.a.translate(\"\".concat(Y,\".common.\").concat(o))),a.a.createElement(\"div\",{className:\"grid-item-sm\"},a.a.createElement(j.a,{target:function(){return s?a.a.createElement(d.a,{name:\"icon-more\",onClick:function(e){return Object(A.G)(e),!1}}):a.a.createElement(d.a,{name:\"icon-more\"})},namespace:e.props.namespace,profile:t,disabled:s,onDeleteClick:e.toggleDeleteConfirmationModal.bind(V(e),t)})))})),e}return t=i,(r=[{key:\"componentDidMount\",value:function(){Object(S.j)(this.props.namespace),Object(S.g)(this.props.namespace),this.getProvisioners()}},{key:\"componentWillReceiveProps\",value:function(e){if(!C()(e.profiles,this.props.profiles)){var t=g()(e.profiles,this.state.sortColumn,this.state.sortMethod),r=this.state.viewAll;if(this.props.newProfile&&t.length>5&&!this.state.viewAll){var n=Object(S.e)(this.props.newProfile);k()(t,{name:n})>=5&&(r=!0)}this.setState({profiles:t,viewAll:r})}}},{key:\"getProvisioners\",value:function(){var e=this;Object(N.a)().subscribe((function(t){e.setState({provisionersMap:t.nameToLabelMap})}))}},{key:\"renderProfilesTable\",value:function(){return this.state.profiles.length?a.a.createElement(\"div\",{className:\"grid-wrapper\"},a.a.createElement(\"div\",{className:\"grid grid-container\"},this.renderProfilesTableHeader(),this.renderProfilesTableBody())):a.a.createElement(\"div\",{className:\"text-center\"},this.props.namespace===x.k?a.a.createElement(\"span\",null,u.a.translate(\"\".concat(Y,\".ListView.noProfilesSystem\")),a.a.createElement(c.Link,{to:\"/ns/system/profiles/create\"},u.a.translate(\"\".concat(Y,\".ListView.createOne\")))):a.a.createElement(\"span\",null,u.a.translate(\"\".concat(Y,\".ListView.noProfiles\")),a.a.createElement(c.Link,{to:\"/ns/\".concat(Object(l.d)(),\"/profiles/create\")},u.a.translate(\"\".concat(Y,\".ListView.createOne\")))))}},{key:\"renderSortIcon\",value:function(e){return e!==this.state.sortColumn?null:this.state.sortMethod===z?a.a.createElement(d.a,{name:\"icon-caret-down\"}):a.a.createElement(d.a,{name:\"icon-caret-up\"})}},{key:\"renderProfilesTableHeader\",value:function(){var e=this;return a.a.createElement(\"div\",{className:\"grid-header\"},a.a.createElement(\"div\",{className:\"grid-row sub-header\"},a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",{className:\"sub-title\"},u.a.translate(\"\".concat(Y,\".ListView.pipelineUsage\"))),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null),a.a.createElement(\"div\",null)),a.a.createElement(\"div\",{className:\"grid-row\"},W.map((function(t,r){return t.property?a.a.createElement(\"strong\",{className:f()(\"sortable-header\",{active:e.state.sortColumn===t.property}),key:r,onClick:e.handleProfilesSort.bind(e,t.property)},a.a.createElement(\"span\",null,t.label),e.renderSortIcon(t.property)):a.a.createElement(\"strong\",{key:r},t.label)}))))}},{key:\"renderProfilesTableBody\",value:function(){var e=M(this.state.profiles);return!this.state.viewAll&&e.length>5&&(e=e.slice(0,5)),a.a.createElement(\"div\",{className:\"grid-body\"},e.map(this.renderProfilerow))}},{key:\"renderDeleteConfirmationModal\",value:function(){if(!this.state.profileToDelete)return null;var e=u.a.translate(\"\".concat(Y,\".common.deleteConfirmation\"),{profile:this.state.profileToDelete.name});return a.a.createElement(v.a,{headerTitle:u.a.translate(\"\".concat(Y,\".common.deleteTitle\")),toggleModal:this.toggleDeleteConfirmationModal.bind(this,null),confirmationText:e,confirmButtonText:u.a.translate(\"commons.delete\"),confirmFn:this.deleteProfile.bind(this,this.state.profileToDelete),cancelFn:this.toggleDeleteConfirmationModal.bind(this,null),isOpen:null!==this.state.profileToDelete,errorMessage:this.state.deleteErrMsg,extendedMessage:this.state.extendedDeleteErrMsg})}},{key:\"renderError\",value:function(){if(!this.props.error)return null;var e=this.props.error.response||this.props.error;return a.a.createElement(T.a,{message:e,type:\"error\",showAlert:!0,onClose:S.p})}},{key:\"render\",value:function(){return this.props.loading?a.a.createElement(\"div\",{className:\"text-center\"},a.a.createElement(m.a,null)):a.a.createElement(\"div\",{className:\"profiles-list-view\"},this.renderProfilesTable(),a.a.createElement(E.a,{arrayToLimit:this.state.profiles,limit:5,viewAllState:this.state.viewAll,toggleViewAll:this.toggleViewAll}),this.renderDeleteConfirmationModal(),this.renderError())}}])&&F(t.prototype,r),n&&F(t,n),i}(n.Component);H(J,\"propTypes\",{namespace:i.a.string.isRequired,profiles:i.a.array,defaultProfile:i.a.string,newProfile:i.a.string,error:i.a.any,loading:i.a.bool});var $=Object(O.connect)((function(e){return{profiles:e.profiles,defaultProfile:e.defaultProfile,newProfile:e.newProfile,loading:e.loading,error:e.error}}))(J);function K(e){return a.a.createElement(O.Provider,{store:h.c},a.a.createElement($,e))}},1583:function(e,t,r){var n=r(19),a=r(1584);\"string\"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,\"\"]]);var o={insert:\"head\",singleton:!1},i=(n(e.i,a,o),a.locals?a.locals:{});e.exports=i},1584:function(e,t,r){(t=r(18)(!1)).push([e.i,\".profile-actions-popover{cursor:pointer}.profile-actions-popover .icon-cog-empty{fill:#fff;font-size:23px;stroke:#bbb}.profile-actions-popover .popper{width:90px;min-width:90px;z-index:1}.profile-actions-popover .popper ul hr{height:1px;margin:5px 8px;border-top:0;background-color:#999}.profile-actions-popover .popper ul li.delete-action{color:#d40001}.profile-actions-popover .popper ul li.disabled{cursor:not-allowed;color:#333;opacity:.5}.profile-actions-popover .popper .popper__arrow{border-right-color:#ccc;border-bottom-color:#ccc}.profile-actions-popover:hover .icon-cog-empty{stroke:#09f}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},1585:function(e,t,r){var n=r(19),a=r(1586);\"string\"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,\"\"]]);var o={insert:\"head\",singleton:!1},i=(n(e.i,a,o),a.locals?a.locals:{});e.exports=i},1586:function(e,t,r){(t=r(18)(!1)).push([e.i,\".profiles-list-view .grid-wrapper{max-height:none}.profiles-list-view .grid.grid-container{max-height:none}.profiles-list-view .grid.grid-container .grid-row{grid-template-columns:70px 1.5fr 1.5fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 30px}.profiles-list-view .grid.grid-container .grid-row .sortable-header{cursor:pointer}.profiles-list-view .grid.grid-container .grid-row .sortable-header.active{text-decoration:underline}.profiles-list-view .grid.grid-container .grid-row .sortable-header .icon-svg{font-size:1.3rem}.profiles-list-view .grid.grid-container .grid-row.sub-header{border:0;padding:0;color:#ccc;grid-template-columns:70px 1.5fr 1.5fr 1fr 1fr 2fr 0fr 1fr 1fr 1fr 30px}.profiles-list-view .grid.grid-container .grid-row.sub-header .sub-title{border-bottom:2px solid gray}.profiles-list-view .grid.grid-container .grid-row.sub-header .sub-title+div{margin-left:-25px}.profiles-list-view .grid.grid-container .grid-row.sub-header>div{padding:0 5px 0 0;margin-right:20px;margin-left:10px;border:0}.profiles-list-view .grid.grid-container .grid-header .grid-row{padding-top:0}.profiles-list-view .grid.grid-container .grid-body .grid-row{padding:0;color:#333}.profiles-list-view .grid.grid-container .grid-body .grid-row.native-profile{cursor:not-allowed}.profiles-list-view .grid.grid-container .grid-body .grid-row.native-profile .default-star{cursor:pointer}.profiles-list-view .grid.grid-container .grid-body .grid-row.native-profile .profile-actions-popover{cursor:not-allowed}.profiles-list-view .grid.grid-container .grid-body .grid-row.native-profile .profile-actions-popover:hover .icon-cog-empty{stroke:#bbb}.profiles-list-view .grid.grid-container .grid-body .grid-row:last-child:not(.highlighted){border-bottom:0}.profiles-list-view .grid.grid-container .grid-body .grid-row:hover:not(.native-profile) .profile-actions-popover .icon-cog-empty{stroke:#09f}.profiles-list-view .grid.grid-container .grid-body .grid-row:hover .default-star .not-default-profile{display:inline-block}.profiles-list-view .grid.grid-container .grid-body .grid-row .default-star .default-profile{color:var(--brand-primary-color)}.profiles-list-view .grid.grid-container .grid-body .grid-row .default-star .not-default-profile{display:none}.profiles-list-view .grid.grid-container .grid-body .grid-row .profile-label{white-space:nowrap}.profiles-list-view .grid.grid-container .grid-body .grid-row .enabled-label{color:#3cc801}.profiles-list-view .grid.grid-container .grid-body .grid-row .disabled-label{color:#d40001}.profiles-list-view a{color:#09f}.import-profile-label{color:#09f;cursor:pointer;font-size:13px}.import-profile-label #import-profile{display:none}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2389:function(e,t,r){\"use strict\";r.r(t);var n=r(0),a=r.n(n),o=r(47),i=r.n(o),l=r(415),c=r(8),s=r(147),u=r(164),p=r(494),f=r(146),d=r(1554),m=r(145),b=r(510),g=r(33),E=r(3),v=function(){return(v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},y=\"SET_NAMESPACE_INFO\",h=\"SET_PIPELINES_COUNT\",S=\"SET_DATASETS_COUNT\",O=\"SET_PROFILES_COUNT\",T=\"SET_PREFERENCES\",w=\"SET_DRIVERS\",P=\"SET_CONNECTIONS\",j=\"NAMESPACE_ADMIN_RESET\",R={namespace:null,generation:null,description:null,exploreAsPrincipal:null,schedulerQueueName:null,pipelinesCount:0,datasetsCount:0,profilesCount:0,preferences:[],drivers:[],connections:[]},C=Object(g.createStore)((function(e,t){switch(void 0===e&&(e=R),t.type){case y:return v(v({},e),t.payload);case h:return v(v({},e),{pipelinesCount:t.payload.pipelinesCount});case S:return v(v({},e),{datasetsCount:t.payload.datasetsCount});case O:return v(v({},e),{profilesCount:t.payload.profilesCount});case T:return v(v({},e),{preferences:t.payload.preferences});case w:return v(v({},e),{drivers:t.payload.drivers});case P:return v(v({},e),{connections:t.payload.connections});case j:return v({},R);default:return e}}),R,Object(E.h)(\"NamespaceAdminStore\")()),N=r(27),x=r(28),A=r(84),_=function(){return(_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},k=function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i};function L(e){var t=e||Object(c.d)();f.a.getSystemPreferences().combineLatest(f.a.getNamespacePreferences({namespace:t})).subscribe((function(e){var t=k(e,2),r=t[0],n=void 0===r?{}:r,a=t[1],o=void 0===a?{}:a,i=Object.keys(n).map((function(e){return{key:e,value:n[e],scope:\"System\"}})),l=Object.keys(o).map((function(e){return{key:e,value:o[e],scope:\"Namespace\"}}));C.dispatch({type:T,payload:{preferences:i.concat(l)}})}))}function M(e){var t=e||Object(c.d)();b.a.get().flatMap((function(e){var r=e.version,n={namespace:t,parentArtifact:N.b.etlDataPipeline,version:r,extension:\"jdbc\",scope:N.h.SYSTEM};return u.a.getExtensions(n)})).subscribe((function(e){var r=[];e&&0!==e.length?(e.forEach((function(e){var n={namespace:t,artifactName:Object(E.E)(e,\"artifact\",\"name\"),artifactVersion:Object(E.E)(e,\"artifact\",\"version\")};r.push(d.a.getArtifactProperties(n))})),x.Observable.combineLatest(r).subscribe((function(t){var r=e.map((function(e,r){return _(_({},e),{creationTime:parseInt(Object(E.E)(t,r,\"creation-time\"),10)})}));C.dispatch({type:w,payload:{drivers:r}})}))):C.dispatch({type:w,payload:{drivers:[]}})}))}function D(e){var t=e||Object(c.d)();A.a.listConnections({context:t}).subscribe((function(e){C.dispatch({type:P,payload:{connections:e}})}))}var I=r(21),F=i()((function(e){return{root:{marginTop:\"15px\",marginBottom:\"15px\"}}})),U=Object(I.connect)((function(e){return{description:e.description}}))((function(e){var t=e.description,r=F();return a.a.createElement(\"div\",{className:r.root},t)})),G=r(45),Q=i()((function(e){return{center:{textAlign:\"center\"},title:{color:e.palette.grey[200],fontWeight:\"bold\"}}})),V=function(e){var t=e.title,r=e.metric,n=Q();return a.a.createElement(\"div\",null,a.a.createElement(G.b,{type:G.a.h6,label:t.toUpperCase(),className:n.center+\" \"+n.title}),a.a.createElement(G.b,{type:G.a.h1,label:r,className:n.center}))},B=r(1551),H=function(){return(H=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Y=Object(I.connect)((function(e){return{title:\"profiles\",metric:e.profiles.length}}))(V);function W(e){return a.a.createElement(I.Provider,{store:B.c},a.a.createElement(Y,H({},e)))}var z=i()((function(e){var t=\"1px solid \"+e.palette.grey[100];return{root:{borderTop:t,borderBottom:t,paddingTop:\"15px\",paddingBottom:\"15px\"},content:{display:\"grid\",gridTemplateColumns:\"3fr 2fr 2fr 2fr 2fr\",\"& > div:not(:last-child)\":{borderRight:\"1px solid \"+e.palette.grey[300]}},entitySection:{display:\"grid\",gridTemplateColumns:\"50% 50%\"}}})),q=Object(I.connect)((function(e){return{pipelinesCount:e.pipelinesCount,datasetsCount:e.datasetsCount,preferencesCount:e.preferences.length,driversCount:e.drivers.length,connectionsCount:e.connections.length}}))((function(e){var t=e.pipelinesCount,r=e.datasetsCount,n=e.preferencesCount,o=e.driversCount,i=e.connectionsCount,l=z();return a.a.createElement(\"div\",{className:l.root},a.a.createElement(\"div\",{className:l.content},a.a.createElement(\"div\",{className:l.entitySection},a.a.createElement(V,{title:\"pipelines\",metric:t}),a.a.createElement(V,{title:\"datasets\",metric:r})),a.a.createElement(W,null),a.a.createElement(V,{title:\"preferences\",metric:n}),a.a.createElement(V,{title:\"connections\",metric:i}),a.a.createElement(V,{title:\"drivers\",metric:o})))})),J=r(25),$=r(1582),K=r(198),X=r(1547),Z=r(4),ee=r(24),te=r(13),re=i()((function(e){return{subtitleSection:{\"& > *\":{marginRight:\"15px\"}},fileInput:{display:\"none\"},inputLabel:{marginBottom:0,cursor:\"inherit\"}}})),ne=function(){var e=re();return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:e.subtitleSection},a.a.createElement(te.a,{condition:!1!==ee.a.showCreateProfile},a.a.createElement(J.Link,{to:\"/ns/\"+Object(c.d)()+\"/profiles/create\"},a.a.createElement(K.a,{variant:\"contained\",color:\"primary\"},\"Create Profile\")),a.a.createElement(K.a,{color:\"primary\"},a.a.createElement(Z.Label,{for:\"import-profile\",className:e.inputLabel},\"Import\",a.a.createElement(Z.Input,{type:\"file\",accept:\".json\",id:\"import-profile\",className:e.fileInput,onChange:X.m.bind(void 0,Object(c.d)()),onClick:function(e){return e.target.value=null}}))))),a.a.createElement($.a,{namespace:Object(c.d)()}))},ae=r(281),oe=r(246),ie=r(247),le=r(201),ce=r(75),se=r(248),ue=function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},pe=i()((function(e){return{subtitleSection:{marginBottom:\"15px\"}}})),fe=Object(I.connect)((function(e){return{preferences:e.preferences}}))((function(e){var t=e.preferences,r=pe(),o=ue(Object(n.useState)(!1),2),i=o[0],l=o[1];function c(){l(!i)}return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:r.subtitleSection},a.a.createElement(K.a,{color:\"primary\",variant:\"contained\",onClick:c},\"Edit\")),a.a.createElement(oe.a,{columnTemplate:\"1fr 1fr 200px\"},a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(ce.a,null,\"Key\"),a.a.createElement(ce.a,null,\"Value\"),a.a.createElement(ce.a,null,\"Scope\"))),a.a.createElement(se.a,null,t.map((function(e){return a.a.createElement(le.a,{key:e.key+\"-\"+e.value+\"-\"+e.scope},a.a.createElement(ce.a,null,e.key),a.a.createElement(ce.a,null,e.value),a.a.createElement(ce.a,null,e.scope))})))),i?a.a.createElement(ae.b,{isOpen:i,toggleModal:c,setAtLevel:ae.a.NAMESPACE}):null)})),de=r(505),me=r(369),be=r(163),ge=function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},Ee=i()((function(e){return{delete:{color:Object(E.E)(e,\"palette\",\"red\",100)},subtitle:{marginBottom:\"15px\"}}})),ve=Object(I.connect)((function(e){return{drivers:e.drivers}}))((function(e){var t,r=e.drivers,o=Ee(),i=ge(Object(n.useState)(!1),2),l=i[0],s=i[1],u=ge(Object(n.useState)(null),2),p=u[0],f=u[1],d=ge(Object(n.useState)(null),2),b=d[0],g=d[1];function v(){s(!l)}function y(){f(null),g(null)}return p&&(t=a.a.createElement(\"div\",null,\"Are you sure you want to delete\",\" \",a.a.createElement(\"strong\",null,a.a.createElement(\"em\",null,p.name)),\"?\")),a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:o.subtitle},a.a.createElement(K.a,{variant:\"contained\",color:\"primary\",onClick:v},\"Upload Driver\")),a.a.createElement(\"div\",null,a.a.createElement(oe.a,{columnTemplate:\"1fr 1fr 2fr 1fr 75px\"},a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(ce.a,null,\"Name\"),a.a.createElement(ce.a,null,\"Version\"),a.a.createElement(ce.a,null,\"Class name\"),a.a.createElement(ce.a,null,\"Installed\"),a.a.createElement(ce.a,null))),a.a.createElement(se.a,null,r.map((function(e){var t=[{label:\"Delete\",actionFn:function(){return f(e)},className:o.delete}];return a.a.createElement(le.a,{key:e.name+\"-\"+e.artifact.version},a.a.createElement(ce.a,null,e.name),a.a.createElement(ce.a,null,e.artifact.version),a.a.createElement(ce.a,null,e.className),a.a.createElement(ce.a,null,Object(E.s)(e.creationTime,!0)),a.a.createElement(ce.a,null,a.a.createElement(de.a,{actions:t})))}))))),a.a.createElement(te.a,{condition:l},a.a.createElement(me.a,{isOpen:!0,buildSuccessInfo:!0,onClose:v,hideUploadHelper:!0})),a.a.createElement(be.a,{headerTitle:\"Delete driver\",toggleModal:y,confirmationElem:t,confirmButtonText:\"Delete\",confirmFn:function(){var e,t;(e=p,t={namespace:Object(c.d)(),artifactId:e.artifact.name,version:e.artifact.version},m.a.delete(t).map((function(){M(Object(c.d)())}))).subscribe(y,(function(e){g(e)}))},cancelFn:y,isOpen:!!p,errorMessage:b?\"Failed to delete driver\":\"\",extendedMessage:b}))})),ye=r(506),he=r(210),Se=r(371),Oe=r(619),Te=r(114),we=function(e,t){var r=\"function\"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(e){a={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(a)throw a.error}}return i},Pe=i()((function(e){return{subtitleSection:{marginBottom:\"15px\",\"& > *\":{marginRight:\"10px\"}},delete:{color:Object(E.E)(e,\"palette\",\"red\",100)}}})),je=Object(I.connect)((function(e){return{connections:e.connections}}))((function(e){var t,r=e.connections,o=Pe(),i=we(Object(n.useState)(!1),2),l=i[0],s=i[1],u=we(Object(n.useState)(null),2),p=u[0],f=u[1],d=we(Object(n.useState)(null),2),m=d[0],b=d[1],g=we(Object(n.useState)(null),2),v=g[0],y=g[1],h=we(Object(n.useState)(Te.a.CREATE),2),S=h[0],O=h[1];function T(){b(null),y(null)}function w(){var e=!l;s(e),e||(f(null),O(Te.a.CREATE))}function P(e){return{name:e.name,description:e.description,category:e.plugin.category,plugin:e.plugin}}function j(e){f(e),w()}function R(e){return e.preConfigured?[{label:\"View\",actionFn:function(){return function(e){var t=P(e);O(Te.a.VIEW),j(t)}(e)}}]:[{label:\"Edit\",actionFn:function(){return function(e){var t=P(e);O(Te.a.EDIT),j(t)}(e)}},{label:\"Export\",actionFn:function(){return function(e){var t=P(e),r=Object(E.E)(e,\"plugin\",\"artifact\")||{};Object(ye.a)(t,null,e.name+\"-connector-\"+r.name+\"-\"+r.version)}(e)}},{label:\"Duplicate\",actionFn:function(){return function(e){var t=P(e);delete t.name,j(t)}(e)}},{label:\"separator\"},{label:\"Delete\",actionFn:function(){return b(e)},className:o.delete}]}return m&&(t=a.a.createElement(\"div\",null,\"Are you sure you want to delete\",\" \",a.a.createElement(\"strong\",null,a.a.createElement(\"em\",null,m.name)),\"?\")),a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:o.subtitleSection},a.a.createElement(Se.a,{onCreate:D}),a.a.createElement(Oe.a,{onCreate:D})),a.a.createElement(oe.a,{columnTemplate:\"minmax(20rem, 1fr) 2fr 1fr 1fr 100px\"},a.a.createElement(ie.a,null,a.a.createElement(le.a,null,a.a.createElement(ce.a,null,\"Name\"),a.a.createElement(ce.a,null,\"Description\"),a.a.createElement(ce.a,null,\"Type\"),a.a.createElement(ce.a,null,\"Installed on\"),a.a.createElement(ce.a,null))),a.a.createElement(se.a,null,r.map((function(e){var t=R(e);return a.a.createElement(le.a,{key:e.name},a.a.createElement(ce.a,null,e.name),a.a.createElement(ce.a,null,e.description),a.a.createElement(ce.a,null,e.connectionType),a.a.createElement(ce.a,null,Object(E.s)(e.createdTimeMillis,!0)),a.a.createElement(ce.a,null,a.a.createElement(de.a,{actions:t})))})))),a.a.createElement(be.a,{headerTitle:\"Delete connection\",toggleModal:T,confirmationElem:t,confirmButtonText:\"Delete\",confirmFn:function(){var e,t;m&&(e=m,t={context:Object(c.d)(),connectionId:e.name},A.a.deleteConnection(t).map((function(){D(Object(c.d)())}))).subscribe(T,(function(e){y(e)}))},cancelFn:T,isOpen:!!m,errorMessage:v?\"Failed to delete connection\":\"\",extendedMessage:v}),a.a.createElement(he.a,{isOpen:l,onToggle:w,initialConfig:p,onCreate:D,mode:S}))})),Re=i()((function(e){return{activeLink:{fontWeight:\"bold\",textDecoration:\"underline\"},linkContainer:{padding:\"10px 25px\",backgroundColor:e.palette.grey[700]},separator:{marginLeft:\"15px\",marginRight:\"15px\",fontSize:\"20px\"},link:{color:e.palette.grey[50],fontSize:\"20px\",\"&:hover\":{color:\"inherit\"}},content:{marginTop:\"15px\"}}})),Ce=function(){var e=Re(),t=\"/ns/\"+Object(c.d)()+\"/details\",r=\"/ns/:namespace/details\";return a.a.createElement(\"div\",null,a.a.createElement(\"div\",{className:e.linkContainer},a.a.createElement(J.NavLink,{exact:!0,to:t,className:e.link,activeClassName:e.activeLink},\"Compute profiles\"),a.a.createElement(\"span\",{className:e.separator},\"|\"),a.a.createElement(J.NavLink,{exact:!0,to:t+\"/preferences\",className:e.link,activeClassName:e.activeLink},\"Preferences\"),a.a.createElement(\"span\",{className:e.separator},\"|\"),a.a.createElement(J.NavLink,{exact:!0,to:t+\"/connections\",className:e.link,activeClassName:e.activeLink},\"Connections\"),a.a.createElement(\"span\",{className:e.separator},\"|\"),a.a.createElement(J.NavLink,{exact:!0,to:t+\"/drivers\",className:e.link,activeClassName:e.activeLink},\"Drivers\")),a.a.createElement(\"div\",{className:e.content},a.a.createElement(J.Switch,null,a.a.createElement(J.Route,{exact:!0,path:r,component:ne}),a.a.createElement(J.Route,{exact:!0,path:r+\"/preferences\",component:fe}),a.a.createElement(J.Route,{exact:!0,path:r+\"/connections\",component:je}),a.a.createElement(J.Route,{exact:!0,path:r+\"/drivers\",component:ve}))))},Ne=r(15),xe=r.n(Ne),Ae=r(32),_e=xe()(xe.a),ke=i()((function(){return{content:{padding:\"0 50px\"}}}));t.default=function(){var e=Object(c.d)(),t=ke();return Object(n.useEffect)((function(){return function(e){s.a.get({namespace:e}).subscribe((function(e){C.dispatch({type:y,payload:{namespace:e.name,generation:e.generation,description:e.description,exploreAsPrincipal:e.config[\"explore.as.principal\"],schedulerQueueName:e.config[\"scheduler.queue.name\"]}})})),u.a.list({namespace:e,artifactName:E.f}).subscribe((function(e){C.dispatch({type:h,payload:{pipelinesCount:e&&Array.isArray(e)?e.length:0}})})),p.a.list({namespace:e}).subscribe((function(e){C.dispatch({type:S,payload:{datasetsCount:e&&Array.isArray(e)?e.length:0}})}))}(e),L(e),M(e),D(e),Object(X.j)(e),_e.on(Ae.a.NSPREFERENCESSAVED,L),_e.on(Ae.a.ARTIFACTUPLOAD,M),function(){_e.off(Ae.a.NSPREFERENCESSAVED,L),_e.off(Ae.a.ARTIFACTUPLOAD,M),C.dispatch({type:j}),Object(X.n)()}}),[]),a.a.createElement(I.Provider,{store:C},a.a.createElement(\"div\",null,a.a.createElement(l.a,{title:\"Namespace '\"+e+\"'\"}),a.a.createElement(\"div\",{className:t.content},a.a.createElement(U,null),a.a.createElement(q,null),a.a.createElement(Ce,null))))}}}]);","extractedComments":[]}