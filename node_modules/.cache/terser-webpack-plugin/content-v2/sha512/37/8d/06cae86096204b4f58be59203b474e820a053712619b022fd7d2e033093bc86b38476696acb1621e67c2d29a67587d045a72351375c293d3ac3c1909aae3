{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1575:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return d}));var a=n(0),r=n.n(a),o=n(1),c=n.n(o),i=n(62),s=n(6),l=n.n(s);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function u(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e){var t=e.className,n=e.darker,a=void 0!==n&&n,o=e.label,c=e.loading,s=e.disabled,d=e.onClick,f=e.dataCy,m=void 0===f?null:f,b=u(e,[\"className\",\"darker\",\"label\",\"loading\",\"disabled\",\"onClick\",\"dataCy\"]);return r.a.createElement(\"button\",p({className:l()(\"btn btn-with-loading\",t,{\"darker-loading-bars\":a}),onClick:d,disabled:s||c,\"data-cy\":m},b),c?r.a.createElement(\"div\",null,r.a.createElement(i.a,null),o):o)}n(1654),d.propTypes={darker:c.a.bool,className:c.a.string,label:c.a.string,loading:c.a.bool,disabled:c.a.bool,onClick:c.a.func,dataCy:c.a.string}},1576:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return s})),n.d(t,\"a\",(function(){return l})),n.d(t,\"c\",(function(){return p})),n.d(t,\"d\",(function(){return y}));var a=n(33),r=n(3);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s={DATAPREP_CONNECTIONS:\"DATAPREP_CONNECTIONS\",DATAPREP:\"DATAPREP\",DATASPLIT:\"DATASPLIT\",ALGORITHM_SELECTION:\"ALGORITHM_SELECTION\"},l={SET_EXPERIMENT_NAME:\"SET_EXPERIMENT_NAME\",SET_EXPERIMENT_DESCRIPTION:\"SET_EXPERIMENT_DESCRIPTION\",SET_EXPERIMENT_OUTCOME:\"SET_EXPERIMENT_OUTCOME\",SET_EXPERIMENT_SRC_PATH:\"SET_EXPERIMENT_SRC_PATH\",SET_CREATE_EXPERIMENT_LOADING:\"SET_CREATE_EXPERIMENT_LOADING\",SET_EXPERIMENT_METADATA_FOR_EDIT:\"SET_EXPERIMENT_METADATA_FOR_EDIT\",SET_VISIBLE_POPOVER:\"SET_VISIBLE_POPOVER\",SET_EXPERIMENT_ERROR:\"SET_EXPERIMENT_ERROR\",OVERRIDE_CREATION_STEP:\"OVERRIDE_CREATION_STEP\",MODEL_UPDATE:\"MODEL_UPDATE\",SET_SPLIT_INFO:\"SET_SPLIT_INFO\",SET_SCHEMA:\"SET_SCHEMA\",SET_OUTCOME_COLUMNS:\"SET_OUTCOME_COLUMNS\",SET_DIRECTIVES:\"SET_DIRECTIVES\",SET_MODEL_NAME:\"SET_MODEL_NAME\",SET_MODEL_ID:\"SET_MODEL_ID\",SET_EXPERIMENT_MODEL_FOR_EDIT:\"SET_EXPERIMENT_MODEL_FOR_EDIT\",SET_MODEL_DESCRIPTION:\"SET_MODEL_DESCRIPTION\",SET_MODEL_ML_ALGORITHM:\"SET_MODEL_ML_ALGORITHM\",SET_VALID_ALGORITHMS_LIST:\"SET_VALID_ALGORITHMS_LIST\",SET_ALGORITHMS_LIST:\"SET_ALGORITHMS_LIST\",SET_WORKSPACE_ID:\"SET_WORKSPACE_ID\",SET_SPLIT_FINALIZED:\"SET_SPLIT_FINALIZED\",UPDATE_HYPER_PARAM:\"UPDATE_HYPER_PARAM\",SET_MODEL_TRAINED:\"SET_MODEL_TRAINED\",SET_MODEL_ERROR:\"SET_MODEL_ERROR\",RESET:\"RESET\"},p={EXPERIMENT:\"EXPERIMENT\",MODEL:\"MODEL\"},u={name:\"\",description:\"\",outcome:\"\",srcpath:\"\",loading:!1,popover:p.EXPERIMENT,isEdit:!1,workspaceId:null,error:null},d={name:\"\",description:\"\",modelId:null,directives:[],columns:[],schema:null,splitInfo:{},isSplitFinalized:!1,algorithm:{name:\"\"},validAlgorithmsList:[],algorithmsList:[],isModelTrained:!1,error:null},f={override:!1,step_name:s.DATAPREP_CONNECTIONS},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.m;switch(t.type){case l.SET_EXPERIMENT_NAME:return c({},e,{name:t.payload.name});case l.SET_EXPERIMENT_DESCRIPTION:return c({},e,{description:t.payload.description});case l.SET_EXPERIMENT_OUTCOME:return c({},e,{outcome:t.payload.outcome});case l.SET_EXPERIMENT_SRC_PATH:return c({},e,{srcpath:t.payload.srcpath});case l.SET_CREATE_EXPERIMENT_LOADING:return c({},e,{loading:t.payload.loading});case l.SET_WORKSPACE_ID:return c({},e,{workspaceId:t.payload.workspaceId});case l.SET_EXPERIMENT_METADATA_FOR_EDIT:case l.SET_EXPERIMENT_MODEL_FOR_EDIT:var n=t.payload.experimentDetails,a=n.name,o=n.description,i=n.outcome,s=n.srcpath,d=n.workspaceId;return c({},e,{name:a,description:o,outcome:i,srcpath:s,workspaceId:d,isEdit:!0,loading:!1,popover:p.MODEL});case l.SET_VISIBLE_POPOVER:return c({},e,{popover:t.payload.popover});case l.SET_EXPERIMENT_ERROR:return c({},e,{error:t.payload.error});case l.RESET:return u;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.m;switch(t.type){case l.SET_MODEL_ID:return c({},e,{modelId:t.payload.modelId});case l.SET_MODEL_NAME:return c({},e,{name:t.payload.name});case l.SET_MODEL_DESCRIPTION:return c({},e,{description:t.payload.description});case l.SET_SPLIT_INFO:return c({},e,{splitInfo:t.payload.splitInfo});case l.MODEL_UPDATE:return c({},e,{splitInfo:d.splitInfo});case l.SET_SPLIT_FINALIZED:return c({},e,{isSplitFinalized:t.payload.isSplitFinalized});case l.SET_OUTCOME_COLUMNS:return c({},e,{columns:t.payload.columns});case l.SET_DIRECTIVES:return c({},e,{directives:t.payload.directives});case l.SET_MODEL_ML_ALGORITHM:return c({},e,{algorithm:t.payload.algorithm});case l.SET_ALGORITHMS_LIST:return c({},e,{algorithmsList:t.payload.algorithmsList});case l.UPDATE_HYPER_PARAM:var n=t.payload,a=n.key,o=n.value;return c({},e,{algorithm:c({},e.algorithm,{hyperparameters:c({},e.algorithm.hyperparameters,i({},a,o))})});case l.SET_EXPERIMENT_METADATA_FOR_EDIT:case l.SET_SCHEMA:return c({},e,{schema:t.payload.schema||e.schema});case l.SET_EXPERIMENT_MODEL_FOR_EDIT:var s=t.payload.modelDetails,p=s.name,u=s.description,f=s.id;return c({},e,{name:p,description:u,modelId:f,splitInfo:t.payload.splitInfo});case l.SET_VALID_ALGORITHMS_LIST:return c({},e,{validAlgorithmsList:e.algorithmsList.filter((function(e){return-1!==t.payload.validAlgorithmsList.map((function(e){return e.name})).indexOf(e.algorithm)}))});case l.SET_MODEL_TRAINED:return c({},e,{isModelTrained:!0});case l.SET_MODEL_ERROR:return c({},e,{error:t.payload.error});case l.RESET:return d;default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.m,n=function(e){if(e.active_step.override)return e.active_step;var t=e.experiments_create,n=t.name,a=t.workspaceId,r=e.model_create,o=r.modelId,i=r.isSplitFinalized,l=r.algorithm;return a?a&&!o?c({},e.active_step,{step_name:s.DATAPREP}):o&&!i?c({},e.active_step,{step_name:s.DATASPLIT}):o&&!l.name.length?c({},e.active_step,{step_name:s.ALGORITHM_SELECTION}):e.active_step:c({},e.active_step,n?{step_name:s.DATAPREP}:{step_name:s.DATAPREP_CONNECTIONS})};switch(t.type){case l.SET_WORKSPACE_ID:var a=c({},e,{experiments_create:c({},e.experiments_create,{workspaceId:t.payload.workspaceId}),active_step:c({},e.active_step,{step_name:e.active_step.step_name})});return c({},e.active_step,{step_name:n(a).step_name});case l.MODEL_UPDATE:var o=c({},e,{active_step:{override:!1,step_name:e.active_step.step_name}});return{override:!1,step_name:n(o).step_name};case l.OVERRIDE_CREATION_STEP:return{override:!0,step_name:t.payload.active_step};case l.SET_SPLIT_FINALIZED:var i=c({},e,{model_create:c({},e.model_create,{isSplitFinalized:t.payload.isSplitFinalized}),active_step:c({},e.active_step,{override:!1})});return n(i);case l.SET_EXPERIMENT_METADATA_FOR_EDIT:var p=t.payload.experimentDetails,u=p.name,d=p.description,m=p.outcome,b=p.srcpath,g=p.workspaceId,h={experiments_create:c({},e.experiments_create,{name:u,description:d,outcome:m,srcpath:b,workspaceId:g}),model_create:e.model_create,active_step:e.active_step};return n(h);case l.SET_EXPERIMENT_MODEL_FOR_EDIT:var y=t.payload.experimentDetails,v=y.name,E=y.description,w=y.outcome,S=y.srcpath,O=y.workspaceId,x=t.payload.modelDetails,C=x.name,I=x.description,k=x.id,N={experiments_create:c({},e.experiments_create,{name:v,description:E,outcome:w,srcpath:S,workspaceId:O}),model_create:c({},e.model_create,{name:C,description:I,modelId:k}),active_step:e.active_step};return n(N);case l.RESET:return f;default:return n(e)}},h=Object(a.createStore)((function(e,t){return{experiments_create:m(e.experiments_create,t),model_create:b(e.model_create,t),active_step:g(e,t)}}),{experiments_create:u,model_create:d,active_step:f},Object(r.h)(\"CreateExperimentStore\")()),y={SPLITTING:\"Splitting\",COMPLETE:\"Complete\",FAILED:\"Failed\",CREATING:\"CREATING\"};t.e=h},1593:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return E}));var a=n(1),r=n.n(a),o=n(0),c=n.n(o),i=n(222),s=n.n(i),l=n(6),p=n.n(l);function u(e){return(u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||\"object\"!==u(t)&&\"function\"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1604);var E=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(o,e);var t,n,a,r=b(o);function o(){var e;d(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return v(h(e=r.call.apply(r,[this].concat(n))),\"state\",{entities:e.props.entities,sortByHeader:\"\",sortOrder:\"asc\",sortOnInitialLoad:\"boolean\"!=typeof e.props.sortOnInitialLoad||e.props.sortOnInitialLoad}),e}return t=o,(n=[{key:\"componentWillMount\",value:function(){if(this.state.sortOnInitialLoad){var e=this.state.entities,t=this.getDefaultSortedHeader();e=s()(e,[t],[this.state.sortOrder]),this.setState({entities:e,sortByHeader:t})}}},{key:\"componentWillReceiveProps\",value:function(e){this.setState({entities:e.entities})}},{key:\"getDefaultSortedHeader\",value:function(){for(var e=\"\",t=0;t<this.props.tableHeaders.length;t++)if(this.props.tableHeaders[t].defaultSortby){e=this.props.tableHeaders[t].property;break}return e||this.props.tableHeaders[0].property}},{key:\"sortBy\",value:function(e){var t=e.property,n=this.state.entities,a=this.state.sortOrder,r=this.state.sortByHeader;r===t?a=\"asc\"===a?\"desc\":\"asc\":(r=t,a=\"asc\"),n=e.sortFunc?s()(n,[e.sortFunc],[a]):s()(n,[r],[a]),this.setState({entities:n,sortOrder:a,sortByHeader:r})}},{key:\"renderSortableTableHeader\",value:function(e){return this.state.sortByHeader!==e.property?c.a.createElement(\"span\",{onClick:this.sortBy.bind(this,e)},e.label):c.a.createElement(\"span\",{onClick:this.sortBy.bind(this,e)},c.a.createElement(\"span\",{className:\"text-underline\"},e.label),\"asc\"===this.state.sortOrder?c.a.createElement(\"i\",{className:\"fa fa-caret-down fa-lg\"}):c.a.createElement(\"i\",{className:\"fa fa-caret-up fa-lg\"}))}},{key:\"render\",value:function(){var e=this,t=p()(\"table\",this.props.className);return c.a.createElement(\"table\",{className:t},c.a.createElement(\"thead\",null,c.a.createElement(\"tr\",null,this.props.tableHeaders.map((function(t,n){return c.a.createElement(\"th\",{key:n},t.property?e.renderSortableTableHeader(t):t.label)})))),this.props.renderTableBody(this.state.entities))}}])&&f(t.prototype,n),a&&f(t,a),o}(o.Component);E.propTypes={tableHeaders:r.a.arrayOf(r.a.shape({label:r.a.string,property:r.a.string,defaultSortby:r.a.bool})),renderTableBody:r.a.func,entities:r.a.arrayOf(r.a.object),className:r.a.string,sortOnInitialLoad:r.a.bool}},1600:function(e,t,n){\"use strict\";n.d(t,\"j\",(function(){return h})),n.d(t,\"i\",(function(){return y})),n.d(t,\"k\",(function(){return v})),n.d(t,\"x\",(function(){return E})),n.d(t,\"v\",(function(){return w})),n.d(t,\"r\",(function(){return S})),n.d(t,\"m\",(function(){return C})),n.d(t,\"l\",(function(){return I})),n.d(t,\"t\",(function(){return k})),n.d(t,\"y\",(function(){return T})),n.d(t,\"C\",(function(){return _})),n.d(t,\"b\",(function(){return j})),n.d(t,\"d\",(function(){return R})),n.d(t,\"c\",(function(){return M})),n.d(t,\"z\",(function(){return B})),n.d(t,\"g\",(function(){return U})),n.d(t,\"h\",(function(){return G})),n.d(t,\"p\",(function(){return z})),n.d(t,\"w\",(function(){return H})),n.d(t,\"o\",(function(){return q})),n.d(t,\"f\",(function(){return V})),n.d(t,\"A\",(function(){return N})),n.d(t,\"s\",(function(){return Q})),n.d(t,\"u\",(function(){return Y})),n.d(t,\"q\",(function(){return X})),n.d(t,\"n\",(function(){return A})),n.d(t,\"B\",(function(){return L})),n.d(t,\"e\",(function(){return F})),n.d(t,\"a\",(function(){return W}));var a=n(1576),r=n(1662),o=n(1603),c=n(1574),i=n(8),s=n(60),l=n(39),p=n(28),u=n(27),d=n(1628);function f(e){return(f=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){var t=e.target.value;a.e.dispatch({type:a.a.SET_EXPERIMENT_NAME,payload:{name:t}})}function y(e){var t=e.target.value;a.e.dispatch({type:a.a.SET_EXPERIMENT_DESCRIPTION,payload:{description:t}})}function v(e){var t=e.target.value;a.e.dispatch({type:a.a.SET_EXPERIMENT_OUTCOME,payload:{outcome:t}})}function E(e){a.e.dispatch({type:a.a.SET_EXPERIMENT_SRC_PATH,payload:{srcpath:e}})}function w(e){a.e.dispatch({type:a.a.SET_OUTCOME_COLUMNS,payload:{columns:e}})}function S(e){a.e.dispatch({type:a.a.SET_DIRECTIVES,payload:{directives:e}})}function O(e){var t=\"\".concat(location.pathname,\"?experimentId=\").concat(e);history.replaceState({url:t},document.title,t),a.e.dispatch({type:a.a.SET_VISIBLE_POPOVER,payload:{popover:a.c.MODEL}})}function x(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a.e.dispatch({type:a.a.SET_CREATE_EXPERIMENT_LOADING,payload:{loading:e}})}function C(e){var t=e.target.value;a.e.dispatch({type:a.a.SET_MODEL_NAME,payload:{name:t}})}function I(e){var t=e.target.value;a.e.dispatch({type:a.a.SET_MODEL_DESCRIPTION,payload:{description:t}})}function k(e){a.e.dispatch({type:a.a.SET_MODEL_ML_ALGORITHM,payload:{algorithm:e}})}function N(e,t){a.e.dispatch({type:a.a.UPDATE_HYPER_PARAM,payload:{key:e,value:t}})}function T(e){a.e.dispatch({type:a.a.SET_WORKSPACE_ID,payload:{workspaceId:e}})}function _(e){var t={name:\"avroSchema\",type:\"record\",fields:e};a.e.dispatch({type:a.a.SET_SCHEMA,payload:{schema:t}})}function P(e,t){t.id&&(t=t.id),c.a.getSplitDetails({namespace:Object(i.d)(),experimentId:e,splitId:t}).subscribe((function(e){a.e.dispatch({type:a.a.SET_SPLIT_INFO,payload:{splitInfo:e}})}),(function(t){Y(\"Failed to get split details of the experiment '\".concat(e,\"' - \").concat(t.response||t))}))}function j(){var e=a.e.getState(),t=e.model_create,n=e.experiments_create,r=n.name,o=n.description,p=n.outcome,u=n.srcpath,d=t.directives,f=Object(l.c)(d),m={name:r,description:o,outcome:p,srcpath:u,directives:d};s.a.getSchema({context:Object(i.d)(),workspaceId:n.workspaceId},f).mergeMap((function(e){var t=e.map((function(e){return Array.isArray(e.type)?e:b({},e,{type:[e.type]})})).find((function(e){return e.name===m.outcome})).type.filter((function(e){return\"null\"!==e})).pop();return m.outcomeType=t,_(e),c.a.createExperiment({namespace:Object(i.d)(),experimentId:m.name},m)})).subscribe(O.bind(null,n.name),(function(e){return Q(\"Failed to create the experiment '\".concat(r,\"' - \").concat(e.response||e))}))}function D(e,t){return p.Observable.create((function(n){var a,r,o,s;a=function(e){n.next(e)},r=function(){n.error(\"Couldn't create split\")},o={namespace:Object(i.d)(),experimentId:e,modelId:t},s=c.a.pollModel(o).subscribe((function(e){var t=e.status,n=e.split;if(\"Splitting\"!==t)return\"Data Ready\"===t||\"Split Failed\"===t?(s.unsubscribe(),a(n)):void r()}))}))}function A(e){a.e.dispatch({type:a.a.OVERRIDE_CREATION_STEP,payload:{active_step:e}})}function R(){var e=arguments,t=a.e.getState(),n=t.model_create,r=t.experiments_create,o=n.directives,s=n.schema,l=n.modelId,p=n.name,u={schema:s,directives:o,type:\"random\",parameters:{percent:\"80\"},description:\"Default Random split created for the model '\".concat(p,\"'\")};a.e.dispatch({type:a.a.SET_SPLIT_INFO,payload:{splitInfo:{id:null,status:a.d.CREATING}}}),c.a.createSplit({namespace:Object(i.d)(),experimentId:r.name,modelId:l},u).mergeMap((function(){return D(r.name,l)})).subscribe(P.bind(null,r.name),(function(e){Y(\"Failed to create split for the model '\".concat(p,\"' - \").concat(e.response||e)),a.e.dispatch({type:a.a.SET_SPLIT_INFO,payload:{splitInfo:{id:null}}})}),(function(){return console.log(\"Split Task complete \",e)}))}function L(){var e=a.e.getState(),t=e.experiments_create,n=e.model_create,r=n.directives,o={namespace:Object(i.d)(),experimentId:t.name,modelId:n.modelId};c.a.getModelStatus(o).flatMap((function(e){return d.a.PREPARING===e?p.Observable.create((function(e){return e.next()})):c.a.deleteSplitInModel(o)})).flatMap((function(){return c.a.updateDirectivesInModel(o,{directives:r})})).subscribe((function(){a.e.dispatch({type:a.a.MODEL_UPDATE})}))}function M(){var e=a.e.getState(),t=e.experiments_create,n=e.model_create,r=n.directives,o={name:n.name,description:n.description,directives:r};return c.a.createModelInExperiment({namespace:Object(i.d)(),experimentId:t.name},o).subscribe((function(e){var t=e.id;a.e.dispatch({type:a.a.SET_MODEL_ID,payload:{modelId:t}}),x(!1);var n=\"\".concat(location.pathname).concat(location.search,\"&modelId=\").concat(t);history.replaceState({url:n},document.title,n)}),(function(e){Q(\"Failed to create the model '\".concat(n.name,\"' - \").concat(e.response||e)),x(!1)}))}function B(){var e=a.e.getState(),t=e.experiments_create,n=e.model_create,o=t.name,s=n.modelId,l=n.name,p=o.replace(/[^\\w]/g,\"\"),u=l.replace(/[^\\w]/g,\"\"),d={algorithm:n.algorithm.name,hyperparameters:n.algorithm.hyperparameters,predictionsDataset:\"\".concat(p,\"_\").concat(u,\"_dataset\")};return c.a.trainModel({namespace:Object(i.d)(),experimentId:o,modelId:s},d).subscribe((function(){r.c.dispatch({type:r.a.SET_NEWLY_TRAINING_MODEL,payload:{model:n}}),a.e.dispatch({type:a.a.SET_MODEL_TRAINED})}),(function(e){Y(\"Failed to train the model '\".concat(l,\"': \").concat(e.response||e))}))}function F(e){var t={context:Object(i.d)(),path:e,lines:1e4,sampler:\"first\",scope:\"mmds\"},n={\"Content-Type\":\"text/plain\"},a=e.length;return a>5&&\".json\"===e.substr(a-5)&&(n[\"Content-Type\"]=\"application/json\"),s.a.readFile(t,null,n)}function W(e,t){return s.a.getWorkspace({context:Object(i.d)(),workspaceId:e}).mergeMap((function(n){var a=n.values[0],r={workspaceId:e,namespace:Object(i.d)()},o=Object(l.c)(t);return o.insights=a.properties,s.a.execute(r,o)}))}var U=function(e){var t,n;x();var r=Object(i.d)();c.a.getExperiment({namespace:r,experimentId:e}).mergeMap((function(e){return t=e,F(e.srcpath)})).mergeMap((function(e){var a=e.values[0].id;return t.workspaceId=a,S(n=t.directives),W(a,n)})).mergeMap((function(){var e=Object(l.c)(n);return s.a.getSchema({namespace:r,workspaceId:t.workspaceId},e)})).subscribe((function(e){var n={name:\"avroSchema\",type:\"record\",fields:e};a.e.dispatch({type:a.a.SET_EXPERIMENT_METADATA_FOR_EDIT,payload:{experimentDetails:t,schema:n}})}),(function(t){var n=t.response.message||t.response||t;x(!1),Q(\"Failed to retrieve the experiment '\".concat(e,\"' - \").concat(n))}))},G=function(e,t){var n,a;x(),c.a.getExperiment({namespace:Object(i.d)(),experimentId:e}).mergeMap((function(e){return n=e,F(e.srcpath)})).mergeMap((function(e){var a=e.values[0].id;return n.workspaceId=a,c.a.getModel({namespace:Object(i.d)(),experimentId:n.name,modelId:t})})).mergeMap((function(e){return a=e,W(n.workspaceId,e.directives)})).mergeMap((function(){var e=a.directives;S(e);var t=Object(l.c)(e);return s.a.getSchema({context:Object(i.d)(),workspaceId:n.workspaceId},t)})).mergeMap((function(e){return _(e),a.split?c.a.getSplitDetails({namespace:Object(i.d)(),experimentId:n.name,splitId:a.split}):p.Observable.create((function(e){e.next(!1)}))})).subscribe((function(e){K(n,a,e),\"object\"===f(e)&&\"Complete\"!==e.status&&D(n.name,t).subscribe(P.bind(null,n.name))}),(function(t){var r=t.response.message||t.response||t;Q(\"Failed to retrieve the model '\".concat(a.name,\"' of the experiment '\").concat(e,\"' - \").concat(r)),x(!1),K(n,a)}))};function K(e,t,n){var r={experimentDetails:e,modelDetails:t};n&&(r.splitInfo=n),a.e.dispatch({type:a.a.SET_EXPERIMENT_MODEL_FOR_EDIT,payload:r})}function z(){var e=a.e.getState().experiments_create,t=e.outcome,n=a.e.getState().model_create,r=n.directives,o=n.algorithmsList,c=Object(l.c)(r);s.a.getSchema({context:Object(i.d)(),workspaceId:e.workspaceId},c).subscribe((function(e){_(e);var n=e.find((function(e){return e.name===t})).type.filter((function(e){return\"null\"!==e})).pop();a.e.dispatch({type:a.a.SET_VALID_ALGORITHMS_LIST,payload:{validAlgorithmsList:-1!==u.f.indexOf(n)?o.filter((function(e){return\"REGRESSION\"===e.type})):o.filter((function(e){return\"CLASSIFICATION\"===e.type}))}})}),(function(e){Q(\"Failed to find algorithms for outcome: \".concat(e.response||e))}))}function H(){a.e.dispatch({type:a.a.SET_SPLIT_FINALIZED,payload:{isSplitFinalized:!0}})}function q(){a.e.dispatch({type:a.a.RESET})}function V(){c.a.getAlgorithms({namespace:Object(i.d)()}).subscribe((function(e){e=e.map((function(e){return b({},e,{name:e.algorithm})})),a.e.dispatch({type:a.a.SET_ALGORITHMS_LIST,payload:{algorithmsList:e}})}),(function(e){Q(\"Failed to fetch algorithms: \".concat(e.response||e))}))}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.e.dispatch({type:a.a.SET_EXPERIMENT_ERROR,payload:{error:e}})}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a.e.dispatch({type:a.a.SET_MODEL_ERROR,payload:{error:e}})}function X(){Object(o.c)().subscribe((function(){}),(function(e){Q(\"Failed to get list of algorithms: \".concat(e.response||e))}))}},1604:function(e,t,n){var a=n(19),r=n(1605);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},1605:function(e,t,n){(t=n(18)(!1)).push([e.i,\".table th span{cursor:pointer}.table th span .text-underline{text-decoration:underline}.table th span i{margin-left:3px}\",\"\"]),e.exports=t},1628:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return a}));var a={PREPARING:\"Preparing\",SPLITTING:\"Splitting\",SPLIT_FAILED:\"Split Failed\",DATA_READY:\"Data Ready\",TRAINING:\"Training\",TRAINED:\"Trained\",TRAINING_FAILED:\"Training Failed\",DEPLOYED:\"Deployed\"}},1654:function(e,t,n){var a=n(19),r=n(1655);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},1655:function(e,t,n){(t=n(18)(!1)).push([e.i,\".btn-with-loading>div{display:flex;align-items:center}.btn-with-loading svg.loading-bar{height:calc(31px - 1rem)}.btn-with-loading svg.loading-bar rect{fill:#cae7ef}.btn-with-loading.darker-loading-bars svg.loading-bar rect{fill:#045599}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},1662:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return d})),n.d(t,\"a\",(function(){return u}));var a=n(33),r=n(3),o=n(1623);function c(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={SET_EXPERIMENT_DETAILS:\"SET_EXPERIMENT_DETAILS\",SET_MODELS:\"SET_MODELS\",SET_MODEL_DETAILS:\"SET_MODEL_DETAILS\",SET_ACTIVE_MODEL:\"SET_ACTIVE_MODEL\",SET_LOADING:\"SET_LOADING\",SET_SPLITS:\"SET_SPLITS\",SET_MODEL_STATUS:\"SET_MODEL_STATUS\",SET_MODEL_PAGINATION:\"SET_MODEL_PAGINATION\",SET_MODELS_QUERY_PARAMS:\"SET_MODELS_QUERY_PARAMS\",SET_NEWLY_TRAINING_MODEL:\"SET_NEWLY_TRAINING_MODEL\",RESET_NEWLY_TRAINING_MODEL:\"RESET_NEWLY_TRAINING_MODEL\",SET_MODELS_SORT:\"SET_MODELS_SORT\",SET_ERROR:\"SET_ERROR\",SET_MODELS_LOADING:\"SET_MODELS_LOADING\",SET_MODELS_WITH_ERROR:\"SET_MODELS_WITH_ERROR\",RESET:\"RESET\"},d={name:\"\",description:\"\",srcpath:\"\",outcome:\"\",outcomeType:\"\",evaluationMetrics:{},algorithms:{},statuses:{},models:[],newlyTrainingModel:null,modelsOffset:0,modelsLimit:10,modelsTotalCount:0,modelsTotalPages:0,modelsSortMethod:o.d.ASC,modelsSortColumn:o.c,modelsLoading:[],modelsWithError:[],loading:!1,error:null},f=Object(a.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.m;switch(t.type){case u.SET_EXPERIMENT_DETAILS:var n=t.payload.experimentDetails,a=n.name,o=void 0===a?\"\":a,i=n.description,s=void 0===i?\"\":i,p=n.srcpath,f=void 0===p?\"\":p,m=n.outcome,b=void 0===m?\"\":m,g=n.outcomeType,h=void 0===g?\"\":g,y=n.evaluationMetrics,v=void 0===y?{}:y,E=n.algorithms,w=void 0===E?{}:E,S=n.statuses,O=void 0===S?{}:S;return l({},e,{name:o,description:s,srcpath:f,outcome:b,outcomeType:h,evaluationMetrics:v,algorithms:w,statuses:O});case u.SET_NEWLY_TRAINING_MODEL:return l({},e,{newlyTrainingModel:t.payload.model});case u.RESET_NEWLY_TRAINING_MODEL:return l({},e,{newlyTrainingModel:null});case u.SET_MODELS:var x=t.payload.models;return e.newlyTrainingModel&&(x=x.map((function(t){return t.id===e.newlyTrainingModel.modelId?l({},t,{active:!0}):t}))),l({},e,{models:x,modelsTotalCount:t.payload.totalCount,modelsTotalPages:Math.ceil(t.payload.totalCount/e.modelsLimit),loading:!1});case u.SET_MODEL_PAGINATION:return l({},e,{modelsOffset:t.payload.modelsOffset,modelsLimit:t.payload.modelsLimit||e.modelsLimit});case u.SET_MODELS_QUERY_PARAMS:return l({},e,{modelsOffset:t.payload.modelsOffset,modelsLimit:t.payload.modelsLimit||e.modelsLimit,modelsSortMethod:t.payload.modelsSortMethod,modelsSortColumn:t.payload.modelsSortColumn});case u.SET_ACTIVE_MODEL:return l({},e,{models:e.models.map((function(e){return l({},e,{active:e.active?!e.active:e.id===t.payload.activeModelId,loading:!1})}))});case u.SET_LOADING:return l({},e,{loading:!0});case u.SET_SPLITS:return l({},e,{models:e.models.map((function(e){var n=t.payload.splits.find((function(t){return t.id===e.split}));return n?l({},e,{splitDetails:n}):e}))});case u.SET_MODEL_STATUS:var C=c(e.modelsWithError),I=C.indexOf(t.payload.modelId);return-1!==I&&C.splice(I,1),l({},e,{models:e.models.map((function(e){return e.id===t.payload.modelId?l({},e,{status:t.payload.modelStatus}):e})),modelsWithError:C});case u.SET_MODELS_SORT:return l({},e,{modelsSortMethod:t.payload.modelsSortMethod,modelsSortColumn:t.payload.modelsSortColumn});case u.SET_ERROR:return l({},e,{error:t.payload.error});case u.SET_MODELS_LOADING:return l({},e,{modelsLoading:t.payload.modelsLoading});case u.SET_MODELS_WITH_ERROR:return l({},e,{modelsWithError:t.payload.modelsWithError});default:return e}}),d,Object(r.h)(\"ExperimentDetailStore\")());t.c=f},1700:function(e,t,n){var a=n(1701),r=n(733),o=a((function(e,t,n){return e+(n?\" \":\"\")+r(t)}));e.exports=o},1701:function(e,t,n){var a=n(1702),r=n(1703),o=n(1704),c=RegExp(\"['’]\",\"g\");e.exports=function(e){return function(t){return a(o(r(t).replace(c,\"\")),e,\"\")}}},1702:function(e,t){e.exports=function(e,t,n,a){var r=-1,o=null==e?0:e.length;for(a&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}},1703:function(e,t){e.exports=function(e){return e}},1704:function(e,t,n){var a=n(1705),r=n(1706),o=n(417),c=n(1707);e.exports=function(e,t,n){return e=o(e),void 0===(t=n?void 0:t)?r(e)?c(e):a(e):e.match(t)||[]}},1705:function(e,t){var n=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;e.exports=function(e){return e.match(n)||[]}},1706:function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}},1707:function(e,t){var n=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\\\\u2000-\\\\u206f \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",a=\"[\"+n+\"]\",r=\"\\\\d+\",o=\"[\\\\u2700-\\\\u27bf]\",c=\"[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]\",i=\"[^\\\\ud800-\\\\udfff\"+n+r+\"\\\\u2700-\\\\u27bfa-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xffA-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",s=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",l=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",p=\"[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]\",u=\"(?:\"+c+\"|\"+i+\")\",d=\"(?:\"+p+\"|\"+i+\")\",f=\"(?:[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]|\\\\ud83c[\\\\udffb-\\\\udfff])?\",m=\"[\\\\ufe0e\\\\ufe0f]?\"+f+(\"(?:\\\\u200d(?:\"+[\"[^\\\\ud800-\\\\udfff]\",s,l].join(\"|\")+\")[\\\\ufe0e\\\\ufe0f]?\"+f+\")*\"),b=\"(?:\"+[o,s,l].join(\"|\")+\")\"+m,g=RegExp([p+\"?\"+c+\"+(?:['’](?:d|ll|m|re|s|t|ve))?(?=\"+[a,p,\"$\"].join(\"|\")+\")\",d+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=\"+[a,p+u,\"$\"].join(\"|\")+\")\",p+\"?\"+u+\"+(?:['’](?:d|ll|m|re|s|t|ve))?\",p+\"+(?:['’](?:D|LL|M|RE|S|T|VE))?\",\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",r,b].join(\"|\"),\"g\");e.exports=function(e){return e.match(g)||[]}},1848:function(e,t,n){var a=n(519),r=n(740),o=n(2283),c=n(518),i=Math.max,s=Math.min;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var p=l;return void 0!==n&&(p=(p=c(n))<0?i(l+p,0):s(p,l-1)),t==t?o(e,t,p):a(e,r,p,!0)}},2277:function(e,t,n){var a=n(19),r=n(2278);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2278:function(e,t,n){(t=n(18)(!1)).push([e.i,\".dataprep-browser-top-panel{height:50px;background-color:#eee;border-bottom:1px solid #ccc}.dataprep-browser-top-panel .title>h5{padding-left:15px;margin-bottom:0;margin-top:0;line-height:50px;font-weight:500}.dataprep-browser-top-panel .title>h5 .fa{margin-right:10px;cursor:pointer}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2279:function(e,t,n){var a=n(19),r=n(2280);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2280:function(e,t,n){(t=n(18)(!1)).push([e.i,\".database-browser{height:calc(100vh - (53px + 48px))}.database-browser .database-browser-header,.database-browser .database-browser-content{padding-left:15px;padding-right:15px}.database-browser .database-browser-content{height:calc(100% - 50px - 39px)}.database-browser .database-content-table{padding:0;height:100%}.database-browser .database-content-table .row{margin:0}.database-browser .database-content-table .database-content-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;font-weight:600}.database-browser .database-content-table .database-content-body{height:calc(100% - 38px);overflow-y:auto}.database-browser .database-content-table .database-content-body a:hover{text-decoration:none}.database-browser .database-content-table .database-content-body .content-row{border-bottom:1px solid #ccc;line-height:36px;color:#333;cursor:pointer}.database-browser .database-content-table .database-content-body .content-row:hover{background:#ccc}.database-browser .tables-count{color:gray;font-size:12px}.database-browser .database-browser-header{display:flex;justify-content:space-between;align-items:center;height:46px}.database-browser .database-browser-header .database-metadata{padding-left:5px}.database-browser .empty-search-container{display:flex;flex-wrap:wrap;flex:1;width:100%}.database-browser .empty-search-container .empty-search{font-size:18px;font-weight:500;margin-left:auto;margin-right:auto;margin-top:25vh;max-width:80%;word-wrap:break-word}.database-browser .empty-search-container .empty-search hr{color:#999;background-color:#999}.database-browser .empty-search-container .empty-search span{font-size:14px}.database-browser .empty-search-container .empty-search ul{padding:0;list-style:none;font-size:14px}.database-browser .empty-search-container .empty-search ul .link-text{cursor:pointer;color:var(--brand-primary-color)}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2281:function(e,t,n){var a=n(19),r=n(2282);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2282:function(e,t,n){(t=n(18)(!1)).push([e.i,\".file-path-container{color:#333}.file-path-container a{color:#333}.file-path-container a>span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100px}.file-path-container a:hover{text-decoration:none;color:#333}.file-path-container a.active-directory{font-weight:600}.file-path-container .path-divider{margin-left:5px;margin-right:5px}.file-path-container .collapsed-dropdown,.file-path-container .paths{display:inline-block}.file-path-container .collapsed-dropdown .collapsed-dropdown-toggle>button{border:none;padding:5px;margin-top:-5px}.file-path-container .collapsed-dropdown .collapsed-dropdown-toggle>button:focus{outline:none}.file-path-container .collapsed-dropdown .dropdown-menu{top:calc(100% - 15px);line-height:35px;box-shadow:0 3px 15px 1px rgba(0,0,0,.3)}.file-path-container .collapsed-dropdown .dropdown-menu .dropdown-item{padding:0;height:35px}.file-path-container .collapsed-dropdown .dropdown-menu .dropdown-item a{display:inline-block;width:100%;max-width:350px;padding-left:10px;padding-right:10px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\",\"\"]),e.exports=t},2283:function(e,t){e.exports=function(e,t,n){for(var a=n+1;a--;)if(e[a]===t)return a;return a}},2284:function(e,t,n){var a=n(19),r=n(2285);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2285:function(e,t,n){(t=n(18)(!1)).push([e.i,\".file-browser-container{height:calc(100vh - (53px + 48px))}.file-browser-container .directory-content-table{padding:0;height:calc(100% - 50px - 39px)}.file-browser-container .directory-content-table .row{margin:0}.file-browser-container .directory-content-table .row.selected{background-color:#f5f5f5}.file-browser-container .directory-content-table .content-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;height:36px;overflow:hidden;font-weight:600}.file-browser-container .directory-content-table .content-header span{cursor:pointer}.file-browser-container .directory-content-table .content-header .sort-caret{margin-left:5px}.file-browser-container .directory-content-table .content-body{max-height:calc(100% - 38px);overflow-y:auto}.file-browser-container .directory-content-table .content-body a:hover{text-decoration:none}.file-browser-container .directory-content-table .content-body .row-container{cursor:pointer}.file-browser-container .directory-content-table .content-body .content-row{border-bottom:1px solid #ccc;line-height:36px;color:#333}.file-browser-container .directory-content-table .content-body .content-row:hover{background-color:#eee}.file-browser-container .directory-content-table .content-body .content-row.disabled{cursor:not-allowed;color:#aaa}.file-browser-container .directory-content-table .content-body .content-row .type-icon{margin-right:5px}.file-browser-container .directory-content-table .content-body .content-row .folder-icon{color:#ffba01}.file-browser-container .directory-content-table .content-body .content-row .file-icon{color:#09f}.file-browser-container .directory-content-table .content-body .content-row>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.file-browser-container .empty-search-container{display:flex;flex-wrap:wrap;flex:1;width:100%}.file-browser-container .empty-search-container .empty-search{font-size:18px;font-weight:500;margin-left:auto;margin-right:auto;margin-top:25vh;max-width:80%;word-wrap:break-word}.file-browser-container .empty-search-container .empty-search hr{color:#999;background-color:#999}.file-browser-container .empty-search-container .empty-search span{font-size:14px}.file-browser-container .empty-search-container .empty-search ul{padding:0;list-style:none;font-size:14px}.file-browser-container .empty-search-container .empty-search ul .link-text{cursor:pointer;color:var(--brand-primary-color)}.file-browser-container .top-panel .title span.fa.fa-fw.disabled{cursor:not-allowed}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2286:function(e,t,n){var a=n(19),r=n(2287);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2287:function(e,t,n){(t=n(18)(!1)).push([e.i,\".truncated-listing-info-container{display:flex;justify-content:flex-end;align-items:center}.truncated-listing-info-container>:first-child{margin-right:3px}.truncated-listing-info-container .icon-svg{font-size:1.1rem}.truncated-listing-info-container .popper.tooltip{padding:5px}\",\"\"]),e.exports=t},2288:function(e,t,n){var a=n(19),r=n(2289);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2289:function(e,t,n){(t=n(18)(!1)).push([e.i,\".s3-browser{height:100%}.s3-browser .s3-content{height:calc(100% - 50px - 39px)}.s3-browser .s3-content>div{height:100%}.s3-browser .s3-content .s3-content-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;font-weight:600}.s3-browser .s3-content .s3-content-header .row{margin:0}.s3-browser .s3-content .s3-content-body{height:calc(100% - 38px);overflow-y:auto}.s3-browser .s3-content .s3-content-body a:hover{text-decoration:none}.s3-browser .s3-content .s3-content-body .s3-buckets{height:100%}.s3-browser .s3-content .s3-content-body .s3-buckets .icon-svg{margin:0 5px 0 0;color:#ffba01}.s3-browser .s3-content .s3-content-body .s3-buckets .icon-svg.icon-file-o{color:#09f}.s3-browser .s3-content .s3-content-body .s3-buckets:not(.empty-message)>div{cursor:pointer}.s3-browser .s3-content .s3-content-body .s3-buckets.empty-message .row,.s3-browser .s3-content .s3-content-body .s3-buckets.empty-message [class*=col-],.s3-browser .s3-content .s3-content-body .s3-buckets.empty-message .empty-search-container{height:100%}.s3-browser .s3-content .s3-content-body .s3-buckets.empty-message .empty-search-container{cursor:default}.s3-browser .s3-content .s3-content-body .s3-buckets.empty-message .empty-search-container .empty-search{line-height:1.5}.s3-browser .s3-content .s3-content-body .s3-buckets a,.s3-browser .s3-content .s3-content-body .s3-buckets>div{color:#333}.s3-browser .s3-content .s3-content-body .s3-buckets .disabled{cursor:not-allowed;color:#aaa}.s3-browser .s3-content .s3-content-body .s3-buckets .selected{background-color:#f5f5f5}.s3-browser .s3-content .s3-content-body .s3-buckets .row{margin:0;border-bottom:1px solid #ccc;line-height:36px;color:inherit}.s3-browser .s3-content .s3-content-body .s3-buckets .row>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2290:function(e,t,n){var a=n(19),r=n(2291);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2291:function(e,t,n){(t=n(18)(!1)).push([e.i,\".kafka-browser{height:100%}.kafka-browser .kafka-browser-header,.kafka-browser .kafka-browser-content{padding-left:15px;padding-right:15px}.kafka-browser .kafka-browser-content{height:calc(100% - 50px - 46px)}.kafka-browser .kafka-content-table{padding:0;height:100%}.kafka-browser .kafka-content-table .row{margin:0}.kafka-browser .kafka-content-table .kafka-content-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;font-weight:600}.kafka-browser .kafka-content-table .kafka-content-body{height:calc(100% - 38px);overflow-y:auto}.kafka-browser .kafka-content-table .kafka-content-body a:hover{text-decoration:none}.kafka-browser .kafka-content-table .kafka-content-body .content-row{border-bottom:1px solid #ccc;line-height:36px;color:#333;cursor:pointer}.kafka-browser .kafka-content-table .kafka-content-body .content-row:hover{background:#ccc}.kafka-browser .tables-count{color:gray;font-size:12px}.kafka-browser .kafka-browser-header{display:flex;justify-content:space-between;align-items:center;height:46px}.kafka-browser .kafka-browser-header .kafka-metadata{padding-left:5px}.kafka-browser .empty-search-container{display:flex;flex-wrap:wrap;flex:1;width:100%}.kafka-browser .empty-search-container .empty-search{font-size:18px;font-weight:500;margin-left:auto;margin-right:auto;margin-top:25vh;max-width:80%;word-wrap:break-word}.kafka-browser .empty-search-container .empty-search hr{color:#999;background-color:#999}.kafka-browser .empty-search-container .empty-search span{font-size:14px}.kafka-browser .empty-search-container .empty-search ul{padding:0;list-style:none;font-size:14px}.kafka-browser .empty-search-container .empty-search ul .link-text{cursor:pointer;color:var(--brand-primary-color)}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2292:function(e,t,n){var a=n(19),r=n(2293);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2293:function(e,t,n){(t=n(18)(!1)).push([e.i,\"#gcs-buckets-container a.content-row{display:block}#gcs-buckets-container .content-row.selected{background-color:#f5f5f5}#gcs-buckets-container .content-row:hover{background-color:#eee}\",\"\"]),e.exports=t},2294:function(e,t,n){var a=n(19),r=n(2295);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2295:function(e,t,n){(t=n(18)(!1)).push([e.i,\".gcs-browser{height:100%}.gcs-browser .gcs-content{height:calc(100% - 50px - 39px)}.gcs-browser .gcs-content>div{height:100%}.gcs-browser .gcs-content .gcs-content-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;font-weight:600}.gcs-browser .gcs-content .gcs-content-header .row{margin:0}.gcs-browser .gcs-content .gcs-content-body{height:calc(100% - 38px);overflow-y:auto}.gcs-browser .gcs-content .gcs-content-body a:hover{text-decoration:none}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets{height:100%}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets .icon-svg{margin:0 5px 0 0;color:#ffba01}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets .icon-svg.icon-file-o{color:#09f}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets:not(.empty-message)>div{cursor:pointer}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets.empty-message .row,.gcs-browser .gcs-content .gcs-content-body .gcs-buckets.empty-message [class*=col-],.gcs-browser .gcs-content .gcs-content-body .gcs-buckets.empty-message .empty-search-container{height:100%}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets.empty-message .empty-search-container{cursor:default}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets.empty-message .empty-search-container .empty-search{line-height:1.5}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets a,.gcs-browser .gcs-content .gcs-content-body .gcs-buckets>div{color:#333}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets .disabled{cursor:not-allowed;color:#aaa}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets .row{margin:0;border-bottom:1px solid #ccc;line-height:36px;color:inherit}.gcs-browser .gcs-content .gcs-content-body .gcs-buckets .row>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2296:function(e,t,n){var a=n(19),r=n(2297);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2297:function(e,t,n){(t=n(18)(!1)).push([e.i,\".bigquery-browser{height:100%;display:grid;grid-template-rows:50px calc(100% - 50px)}.bigquery-browser .row{margin:0}.bigquery-browser .list-view-container{display:grid;grid-template-rows:39px calc(100% - 39px)}.bigquery-browser .list-view-container .sub-panel span,.bigquery-browser .list-view-container .sub-panel a.dataset-path{margin-right:5px}.bigquery-browser .list-view-container .sub-panel .dataset-path{cursor:pointer;font-weight:600;text-decoration:none;color:#333}.bigquery-browser .list-view-container .table-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;font-weight:600}.bigquery-browser .list-view-container .table-body{height:calc(100% - 38px);overflow-y:auto}.bigquery-browser .list-view-container .table-body a{display:block}.bigquery-browser .list-view-container .table-body a:hover{text-decoration:none}.bigquery-browser .list-view-container .table-body .content-row{border-bottom:1px solid #ccc;line-height:36px;color:#333;cursor:pointer}.bigquery-browser .list-view-container .table-body .content-row .icon-svg{margin-right:5px}.bigquery-browser .list-view-container .table-body .content-row:hover{background:#ccc}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2298:function(e,t,n){var a=n(19),r=n(2299);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2299:function(e,t,n){(t=n(18)(!1)).push([e.i,\".spanner-browser{height:100%;display:grid;grid-template-rows:50px calc(100% - 50px)}.spanner-browser .row{margin:0}.spanner-browser .list-view-container{display:grid;grid-template-rows:39px calc(100% - 39px)}.spanner-browser .list-view-container .sub-panel{justify-content:space-between}.spanner-browser .list-view-container .sub-panel span,.spanner-browser .list-view-container .sub-panel a.instance-path,.spanner-browser .list-view-container .sub-panel a.database-path{margin-right:5px}.spanner-browser .list-view-container .sub-panel .instance-path,.spanner-browser .list-view-container .sub-panel .database-path{cursor:pointer;font-weight:600;text-decoration:none;color:#333}.spanner-browser .list-view-container .table-header{border-bottom:1px solid #ccc;border-top:1px solid #ccc;background-color:#eee;line-height:36px;font-weight:600}.spanner-browser .list-view-container .table-body{height:calc(100% - 38px);overflow-y:auto}.spanner-browser .list-view-container .table-body a{display:block}.spanner-browser .list-view-container .table-body a:hover{text-decoration:none}.spanner-browser .list-view-container .table-body .content-row{border-bottom:1px solid #ccc;line-height:36px;color:#333;cursor:pointer}.spanner-browser .list-view-container .table-body .content-row .icon-svg{margin-right:5px}.spanner-browser .list-view-container .table-body .content-row .instance-icon{fill:#0076dc}.spanner-browser .list-view-container .table-body .content-row:hover{background:#ccc}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2300:function(e,t,n){var a=n(19),r=n(2301);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2301:function(e,t,n){(t=n(18)(!1)).push([e.i,\".connections-upload-container .upload-content-container{padding:10px}.connections-upload-container .file-drop-container{padding:75px}.connections-upload-container .upload-row{margin-top:10px}.connections-upload-container .upload-row .helper-text{margin-left:25px}.connections-upload-container .upload-row .control-label{margin-right:10px}.connections-upload-container .upload-row .form-control,.connections-upload-container .upload-row .btn-primary{width:100px}.connections-upload-container .upload-error{color:#fa4347;margin-top:10px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2302:function(e,t,n){var a=n(19),r=n(2303);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2303:function(e,t,n){(t=n(18)(!1)).push([e.i,\".expandable-menu.menu-item.expandable .expandable-title>div{display:inline-block}\",\"\"]),e.exports=t},2304:function(e,t,n){var a=n(417);e.exports=function(){var e=arguments,t=a(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},2305:function(e,t,n){var a=n(19),r=n(2306);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2306:function(e,t,n){(t=n(18)(!1)).push([e.i,'.database-options{padding:10px}.database-options .db-image-container,.database-options .db-info{display:inline-block;vertical-align:middle}.database-options .db-image-container{width:50px;height:50px;margin-right:15px}.database-options .db-image{transform:scale(0.5) translate(-50%, -50%)}.database-options .db-info{width:calc(100% - 65px)}.database-options .db-name{font-size:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.database-options .db-installed{font-size:12px}.database-options .db-installed .upload{text-decoration:underline;cursor:pointer}.database-options .db-installed .check-icon{color:#3cc801;margin-left:5px;margin-right:3px}.database-options .database-option{padding:10px}.database-options .database-option.installed{cursor:pointer}.database-options .options-title{font-size:14px}.database-detail .database-detail-content{max-height:60vh;overflow-y:auto;overflow-x:hidden;padding-right:50px}.database-detail .image-container{height:50px;width:50px;display:inline-block;margin-right:10px}.database-detail .db-image{transform:scale(0.5) translate(-50%, -50%);margin-right:0}.database-detail .db-label{display:inline-block;max-width:calc(100% - 60px);margin-top:10px;vertical-align:top}.database-detail .driver-info{height:70px}.database-detail .driver-info>div:first-child{height:70px;font-size:14px;font-weight:500}.database-detail .driver-info>div:first-child span{vertical-align:top}.database-detail .driver-info .driver-detail{margin-top:12px}.database-detail .driver-info .driver-detail .fa.fa-fw{margin-left:5px;margin-right:5px;color:#3cc801}.database-detail .connection-check,.database-detail .loading-indicator{margin-left:10px;vertical-align:middle}.database-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.database-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.database-detail .custom-input{margin-top:5px}.database-detail .asterisk{color:#d40001}.database-detail .divider{margin-left:10px;margin-right:10px}.database-detail .connection-type{line-height:32px;cursor:pointer}.database-detail .connection-type .active{font-weight:600;text-decoration:underline}.database-detail .back-link-container{margin-top:30px}.database-detail .back-link-container .back-link{cursor:pointer}.database-detail .error-container{margin:10px -10px -15px -10px}.db-image{width:100px;height:100px;margin-right:10px;display:inline-block}.db-db2{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 0px}.db-oracle{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -100px}.db-oracle-thin{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -100px}.db-mssql{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -200px}.db-netezza{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -300px}.db-mysql{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -400px}.db-teradata{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -500px}.db-postgresql,.db-postgresql65{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -600px}.db-other{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -700px}.db-sqlserver42{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -800px}.db-hive2binary,.db-hive2http{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -900px}.db-redshift{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -1000px}.db-sap-hana{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -1100px}.db-cloudsql-mysql,.db-cloudsql-postgresql{background-image:url(\"/cdap_assets/img/db-sprite.png\");background-position:0 -1200px}',\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2307:function(e,t,n){var a=n(19),r=n(2308);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2308:function(e,t,n){(t=n(18)(!1)).push([e.i,\".host-port-editor-container .host-port-row-container{margin-bottom:10px;display:flex;align-items:center}.host-port-editor-container .host-port-row-container .port-input-container,.host-port-editor-container .host-port-row-container .host-input-container,.host-port-editor-container .host-port-row-container .port-label,.host-port-editor-container .host-port-row-container .action-buttons-container{display:inline-block}.host-port-editor-container .host-port-row-container .port-label{width:40px;margin-left:10px}.host-port-editor-container .host-port-row-container .action-buttons-container{width:80px;display:flex;justify-content:space-evenly}.host-port-editor-container .host-port-row-container .action-buttons-container .add-row-btn{color:inherit}.host-port-editor-container .host-port-row-container .port-input-container{width:100px}.host-port-editor-container .host-port-row-container .host-input-container{width:calc(100% - 100px - 50px - 80px)}\",\"\"]),e.exports=t},2309:function(e,t,n){var a=n(19),r=n(2310);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2310:function(e,t,n){(t=n(18)(!1)).push([e.i,\".kafka-connection-modal.modal-dialog .modal-body{max-height:50vh;overflow-y:auto}.kafka-connection-modal.modal-dialog .kafka-detail{overflow-x:hidden}.kafka-connection-modal.modal-dialog .kafka-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.kafka-connection-modal.modal-dialog .kafka-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.kafka-connection-modal.modal-dialog .kafka-detail .input-name{width:calc(100% - 100px - 50px - 80px)}.kafka-connection-modal.modal-dialog .kafka-detail .connection-check{margin-left:5px}.kafka-connection-modal.modal-dialog .kafka-detail .asterisk{color:#d40001}.kafka-connection-modal.modal-dialog .kafka-detail .action-buttons-container .btn.btn-link{padding:7px 5px}.kafka-connection-modal.modal-dialog .kafka-detail .action-buttons-container .add-row-btn i{vertical-align:middle}.kafka-connection-modal.modal-dialog .test-connection-button{margin-left:5px}.kafka-connection-modal.modal-dialog .loading-indicator{vertical-align:middle;margin-left:5px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2311:function(e,t,n){var a=n(19),r=n(2312);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2312:function(e,t,n){(t=n(18)(!1)).push([e.i,\".modal-dialog.s3-connection-modal .s3-detail{padding:5px}.modal-dialog.s3-connection-modal .s3-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.modal-dialog.s3-connection-modal .s3-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.modal-dialog.s3-connection-modal .s3-detail .connection-check{margin-left:5px}.modal-dialog.s3-connection-modal .s3-detail .asterisk{color:#d40001}.modal-dialog.s3-connection-modal .s3-detail .action-buttons-container .btn.btn-link{padding:7px 5px}.modal-dialog.s3-connection-modal .s3-detail .action-buttons-container .add-row-btn i{vertical-align:middle}.modal-dialog.s3-connection-modal .s3-detail .test-connection-button{margin-left:5px}.modal-dialog.s3-connection-modal .s3-detail .loading-indicator{vertical-align:middle;margin-left:5px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2313:function(e,t,n){var a=n(19),r=n(2314);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2314:function(e,t,n){(t=n(18)(!1)).push([e.i,\".modal-dialog.gcs-connection-modal .gcs-detail{padding:5px}.modal-dialog.gcs-connection-modal .gcs-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.modal-dialog.gcs-connection-modal .gcs-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.modal-dialog.gcs-connection-modal .gcs-detail .connection-check{margin-left:5px}.modal-dialog.gcs-connection-modal .gcs-detail .asterisk{color:#d40001}.modal-dialog.gcs-connection-modal .gcs-detail .action-buttons-container .btn.btn-link{padding:7px 5px}.modal-dialog.gcs-connection-modal .gcs-detail .action-buttons-container .add-row-btn i{vertical-align:middle}.modal-dialog.gcs-connection-modal .gcs-detail .test-connection-button{margin-left:5px}.modal-dialog.gcs-connection-modal .gcs-detail .loading-indicator{vertical-align:middle;margin-left:5px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2315:function(e,t,n){var a=n(19),r=n(2316);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2316:function(e,t,n){(t=n(18)(!1)).push([e.i,\".modal-dialog.bigquery-connection-modal .bigquery-detail{padding:5px}.modal-dialog.bigquery-connection-modal .bigquery-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.modal-dialog.bigquery-connection-modal .bigquery-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.modal-dialog.bigquery-connection-modal .bigquery-detail .connection-check{margin-left:5px}.modal-dialog.bigquery-connection-modal .bigquery-detail .asterisk{color:#d40001}.modal-dialog.bigquery-connection-modal .bigquery-detail .action-buttons-container .btn.btn-link{padding:7px 5px}.modal-dialog.bigquery-connection-modal .bigquery-detail .action-buttons-container .add-row-btn i{vertical-align:middle}.modal-dialog.bigquery-connection-modal .bigquery-detail .test-connection-button{margin-left:5px}.modal-dialog.bigquery-connection-modal .bigquery-detail .loading-indicator{vertical-align:middle;margin-left:5px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2317:function(e,t,n){var a=n(19),r=n(2318);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2318:function(e,t,n){(t=n(18)(!1)).push([e.i,\".modal-dialog.spanner-connection-modal .spanner-detail{padding:5px}.modal-dialog.spanner-connection-modal .spanner-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.modal-dialog.spanner-connection-modal .spanner-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.modal-dialog.spanner-connection-modal .spanner-detail .connection-check{margin-left:5px}.modal-dialog.spanner-connection-modal .spanner-detail .asterisk{color:#d40001}.modal-dialog.spanner-connection-modal .spanner-detail .action-buttons-container .btn.btn-link{padding:7px 5px}.modal-dialog.spanner-connection-modal .spanner-detail .action-buttons-container .add-row-btn i{vertical-align:middle}.modal-dialog.spanner-connection-modal .spanner-detail .test-connection-button{margin-left:5px}.modal-dialog.spanner-connection-modal .spanner-detail .loading-indicator{vertical-align:middle;margin-left:5px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2319:function(e,t,n){var a=n(19),r=n(2320);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2320:function(e,t,n){(t=n(18)(!1)).push([e.i,\".adls-connection-modal .adls-detail .col-form-label{font-weight:500;font-size:14px;padding-top:4px}.adls-connection-modal .adls-detail .col-form-label .asterisk{position:relative;top:-3px;left:2px}.adls-connection-modal .adls-detail .connection-check{margin-left:5px}.adls-connection-modal .adls-detail .asterisk{color:#d40001}.adls-connection-modal .adls-detail .action-buttons-container .btn.btn-link{padding:7px 5px}.adls-connection-modal .adls-detail .action-buttons-container .add-row-btn i{vertical-align:middle}.adls-connection-modal .adls-detail .test-connection-button{margin-left:5px}.adls-connection-modal .adls-detail .loading-indicator{vertical-align:middle;margin-left:5px}.adls-connection-modal .adls-detail .radio-label{margin-right:20px;margin-left:15px}.adls-connection-modal .adls-detail .radio-label input[type=radio]{margin-right:5px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2321:function(e,t,n){var a=n(19),r=n(2322);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2322:function(e,t,n){(t=n(18)(!1)).push([e.i,\".expanded-menu-popover-icon{padding:10px 0}.expanded-menu-popover-icon>.fa{margin-right:0;width:20px}.popover.connection-action-popover{border-radius:0;z-index:1061;display:block;min-width:100px;border-color:#bbb}.popover.connection-action-popover.bs-tether-element-attached-right{margin-left:0}.popover.connection-action-popover.bs-tether-element-attached-top{margin-top:-20px}.popover.connection-action-popover:before,.popover.connection-action-popover:after{display:none}.popover.connection-action-popover .popover-body{padding:0}.popover.connection-action-popover .connection-action-item{padding:10px 15px;cursor:pointer}.popover.connection-action-popover .connection-action-item:hover{background-color:#f5f5f5}.popover.connection-action-popover.bs-popover-top>.arrow:before{border-top-color:#bbb}.popover.connection-action-popover.bs-popover-bottom>.arrow:before{border-bottom-color:#bbb}.connection-delete-confirmation-modal .modal-content{border-radius:0}.connection-delete-confirmation-modal .modal-header{border-bottom:0}.connection-delete-confirmation-modal .modal-header .close{font-size:1.5rem;opacity:1;line-height:1.5}.connection-delete-confirmation-modal .modal-body h4{margin-bottom:25px}.connection-delete-confirmation-modal .modal-body p{margin-bottom:0}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2323:function(e,t,n){var a=n(19),r=n(2324);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2324:function(e,t,n){(t=n(18)(!1)).push([e.i,\".dataprep-connections-container{height:calc(100vh - (53px + 48px));border-right:1px solid #ccc}.dataprep-connections-container .connections-panel,.dataprep-connections-container .connections-content{float:left;height:100%}.dataprep-connections-container .connections-panel{display:grid;grid-template-rows:50px 1fr 60px;width:250px;background-color:#eee;border-right:1px solid #ccc}.dataprep-connections-container .connections-panel .panel-title{margin:15px 0;padding-left:15px;cursor:pointer;text-overflow:ellipsis}.dataprep-connections-container .connections-panel .panel-title h5{font-size:14px;font-weight:600;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden}.dataprep-connections-container .connections-panel .panel-title h5 .panel-toggle-icon{padding-right:5px;vertical-align:top}.dataprep-connections-container .connections-panel .connections-menu{border-bottom:1px solid #ccc;overflow-y:auto}.dataprep-connections-container .connections-panel .connections-menu .menu-item{padding:0;cursor:pointer}.dataprep-connections-container .connections-panel .connections-menu .menu-item .fa{margin-right:10px}.dataprep-connections-container .connections-panel .connections-menu .menu-item:not(:last-child){border-bottom:1px solid #ccc}.dataprep-connections-container .connections-panel .connections-menu .menu-item.expandable-menu{padding:10px 0}.dataprep-connections-container .connections-panel .connections-menu .menu-item a{color:#333;display:inline-block;width:100%;padding:10px 15px 10px 35px}.dataprep-connections-container .connections-panel .connections-menu .menu-item a:active,.dataprep-connections-container .connections-panel .connections-menu .menu-item a:focus{text-decoration:none;outline:0}.dataprep-connections-container .connections-panel .connections-menu .menu-item a:hover{text-decoration:none;font-weight:600}.dataprep-connections-container .connections-panel .connections-menu .menu-item a.active{font-weight:600;color:var(--brand-primary-color);background:#fff}.dataprep-connections-container .connections-panel .connections-menu .menu-item a.active~.expanded-menu-popover-icon{background:#fff}.dataprep-connections-container .connections-panel .connections-menu .menu-item .menu-item-expanded-list{padding:10px 0 10px 54px;width:calc(100% - 40px);overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.dataprep-connections-container .connections-panel .connections-menu .menu-item .expanded-menu-popover-icon{width:40px;height:39px;display:inline-block}.dataprep-connections-container .connections-panel .connections-menu .menu-item .expanded-menu-popover-icon>.fa{margin-right:0}.dataprep-connections-container .connections-panel .connections-menu .menu-item.expandable .expandable-title{padding-bottom:5px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dataprep-connections-container .connections-content{width:calc(100% - 250px)}.dataprep-connections-container .connections-content .sub-panel{padding:4px 10px;display:flex;align-items:center}.dataprep-connections-container .connections-content .sub-panel .path-container,.dataprep-connections-container .connections-content .sub-panel .info-container{width:50%}.dataprep-connections-container .connections-content .sub-panel .path-container{padding-right:10px}.dataprep-connections-container .connections-content .sub-panel .path-container .file-path-container{height:100%}.dataprep-connections-container .connections-content .sub-panel .path-container .file-path-container .paths{display:inline-flex;align-items:center;height:inherit;width:100%;overflow:hidden}.dataprep-connections-container .connections-content .sub-panel .path-container .file-path-container .paths a.active-directory{overflow:hidden;text-overflow:ellipsis}.dataprep-connections-container .connections-content .sub-panel .path-container .file-path-container .collapsed-paths{display:flex;height:100%;align-items:center}.dataprep-connections-container .connections-content .sub-panel .info-container{display:flex;justify-content:center;align-items:center;padding-left:10px;justify-content:flex-end}.dataprep-connections-container .connections-content .sub-panel .info-container .info{flex:.7;font-size:12px;color:#999;text-align:right;padding-right:5px;overflow:hidden;word-break:inherit;text-overflow:ellipsis;white-space:nowrap}.dataprep-connections-container .connections-content .sub-panel .info-container .search-container{flex:.3}.dataprep-connections-container .connections-content.expanded{width:100%}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2325:function(e,t,n){var a=n(19),r=n(2326);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2326:function(e,t,n){(t=n(18)(!1)).push([e.i,\".new-experiment-popover{padding:0;min-width:270px}.new-experiment-popover .popover-container{margin:10px;border:1px solid #ccc;padding:0 10px 10px}.new-experiment-popover .popover-container .popover-heading{padding:10px;display:block;margin:0 -10px 10px -10px;background:#eee;font-size:14px}.new-experiment-popover .popover-container .form-control.btn{margin:0}.new-experiment-popover .popover-container .form-group .control-label{font-size:13px;font-weight:500}.new-experiment-popover .popover-container .form-group textarea{min-height:100px;max-height:250px}.new-experiment-popover .popover-container button{width:100%}.new-model-popover{padding:20px}.new-model-popover .form-group .control-label{font-size:13px;font-weight:500}.new-model-popover .form-group textarea{min-height:100px;max-height:250px}.new-model-popover .experiment-metadata-wrapper{color:#ccc;margin:5px 0;display:flex}.new-model-popover .experiment-metadata-wrapper>div:first-child{margin-right:5px}.new-model-popover button{width:100%}.create_new_experiment_popover .popper{min-width:270px;text-align:left}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2327:function(e,t,n){var a=n(19),r=n(2328);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2328:function(e,t,n){(t=n(18)(!1)).push([e.i,\".hyper-param-widget{display:grid;grid-template-columns:repeat(2, 1fr)}.hyper-param-widget .param-label{margin-right:5px;display:inline-flex;min-width:100px;overflow:hidden;text-overflow:ellipsis;justify-content:flex-end;align-items:center}.hyper-param-widget .bool-widget{display:flex;align-items:center}.hyper-param-widget .bool-widget label{display:inline-flex;margin:0;align-items:center}.hyper-param-widget .bool-widget label span{margin-right:5px}.hyper-param-widget .bool-widget label input[type=radio]{width:20px}\",\"\"]),e.exports=t},2329:function(e,t,n){var a=n(19),r=n(2330);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2330:function(e,t,n){(t=n(18)(!1)).push([e.i,\".ml-algorithm-selection{padding:20px;height:calc(100% - (80px + 50px));overflow:auto}.ml-algorithm-selection h3{margin-bottom:20px}.ml-algorithm-selection .btn.btn-primary{margin:20px}.ml-algorithm-selection .ml-algorithm-list-details{display:flex}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-hyper-parameters-wrapper{border:1px solid #bbb;height:100%;padding:10px}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-hyper-parameters{display:grid;grid-template-columns:repeat(2, 1fr);grid-auto-rows:30px;padding:20px 50px;grid-gap:20px}@media(max-width: 1000px){.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-hyper-parameters{grid-template-columns:1fr}}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view{margin-right:100px;min-width:350px}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-category-title{color:#ccc;margin-bottom:10px}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-list-item{border-top:1px solid #ccc;cursor:pointer;display:flex;padding:8px;align-items:center}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-list-item:hover,.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-list-item.selected{background:rgba(255,213,0,.3)}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-list-item:last-child{border-bottom:1px solid #ccc}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-list-item input[type=radio]{margin-right:5px;cursor:pointer}.ml-algorithm-selection .ml-algorithm-list-details .ml-algorithm-list-view .ml-algorithm-list-item .control-label{cursor:pointer;margin:0}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2331:function(e,t,n){var a=n(738)(n(2332));e.exports=a},2332:function(e,t,n){var a=n(519),r=n(223),o=n(518),c=Math.max,i=Math.min;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=s-1;return void 0!==n&&(l=o(n),l=n<0?c(s+l,0):i(l,s-1)),a(e,r(t,3),l,!0)}},2333:function(e,t,n){var a=n(19),r=n(2334);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2334:function(e,t,n){(t=n(18)(!1)).push([e.i,\".split-info-table .split-info-collapsable-section{padding:5px 0;border-bottom:1px solid #ccc;margin:5px 0;cursor:pointer}.split-info-table .split-info-table-container .split-table-search{display:flex;justify-content:space-between;align-items:center}.split-info-table .split-info-table-container .split-table-search .filter-container{display:flex}.split-info-table .split-info-table-container .split-table-search .filter-container>span{margin:0 5px;display:flex;align-items:center}.split-info-table .split-info-table-container .split-table-search .filter-container>span>input[type=checkbox]{margin:0 5px;position:static}.split-info-table .split-info-table-container .split-info-numerical-table .table tbody tr,.split-info-table .split-info-table-container .split-info-categorical-table .table tbody tr{cursor:pointer}.split-info-table .split-info-table-container .split-info-numerical-table .table tbody tr:hover,.split-info-table .split-info-table-container .split-info-categorical-table .table tbody tr:hover{background:#f5f5f5}.split-info-table .split-info-table-container .split-info-numerical-table .table tbody tr.active,.split-info-table .split-info-table-container .split-info-categorical-table .table tbody tr.active{background:rgba(255,213,0,.3)}.split-info-table .split-info-table-container .split-info-numerical-table .table tbody tr .outcome-field .icon-svg.icon-star,.split-info-table .split-info-table-container .split-info-categorical-table .table tbody tr .outcome-field .icon-svg.icon-star{color:var(--brand-primary-color);margin-right:5px;height:12px}.split-info-table .split-info-table-container .split-info-numerical-table .split-table-header,.split-info-table .split-info-table-container .split-info-categorical-table .split-table-header{width:100%;background:#ccc;padding:5px;border-radius:2px;color:#fff;font-weight:500;margin:10px 0}.split-info-table .split-info-table-container .table-field-search{width:200px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2335:function(e,t,n){var a=n(19),r=n(2336);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2336:function(e,t,n){(t=n(18)(!1)).push([e.i,\".split-info{padding:15px 0}.split-info .split-info-graph-wrapper{height:300px;margin-top:-10px}.split-info .active-column-container{font-size:1.2rem;margin:5px 0 0 0}.split-info .active-column-container .icon-svg.icon-star{color:var(--brand-primary-color);margin-right:5px;height:12px}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2337:function(e,t,n){var a=n(19),r=n(2338);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2338:function(e,t,n){(t=n(18)(!1)).push([e.i,\".split-data-step{padding:20px;height:calc(100% - (80px + 50px));overflow:auto}.split-data-step .split-error-container{padding-left:10px}.split-data-step .split-error-container a{text-decoration:none}.split-data-step .done-action-container{display:inline-block;margin:0 10px}.split-data-step .done-action-container>:first-child{margin-right:10px}.split-data-step .btn.btn-primary .btn-inner-container{display:flex;align-items:center}.split-data-step .btn.btn-primary .btn-inner-container>svg{margin-right:10px}.split-data-step .btn.btn-primary .btn-inner-container>span{line-height:1}.split-data-step .action-button-group button{margin:0 5px 0 0}\",\"\"]),e.exports=t},2339:function(e,t,n){var a=n(19),r=n(2340);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2340:function(e,t,n){(t=n(18)(!1)).push([e.i,\".experiment-metadata{display:flex;flex-wrap:wrap;padding:20px;border-bottom:1px solid #ccc}.experiment-metadata>div{margin:0 20px 0 0}.experiment-metadata>div.grayed{color:#ccc}.experiment-metadata>div>*{margin:0 5px}.experiment-metadata>div .model-description-wrapper{display:flex}.experiment-metadata>div .model-description-wrapper .model-description{margin-left:10px;max-width:200px;white-space:nowrap;display:inline-block;overflow:hidden;text-overflow:ellipsis}.experiment-metadata .btn.btn-link{padding:0;margin:0;vertical-align:top}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2341:function(e,t,n){var a=n(19),r=n(2342);\"string\"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,\"\"]]);var o={insert:\"head\",singleton:!1},c=(a(e.i,r,o),r.locals?r.locals:{});e.exports=c},2342:function(e,t,n){(t=n(18)(!1)).push([e.i,\".experiments-create-view{height:100%;overflow-y:hidden;position:relative}.experiments-create-view .experiments-toppanel{margin-left:0;margin-right:0;border-bottom:1px solid #bbb}.experiments-create-view .experiments-toppanel .icon-svg.icon-close{font-size:20px;cursor:pointer;color:#000}.experiments-create-view .dataprep-connections-container{height:100%;overflow-y:auto}.experiments-create-view .dataprep-connections-container .file-browser-container{height:100%}.experiments-create-view .dataprep-connections-container .dataprep-browser-top-panel .title h5 .fa.fa-fw{display:none}.experiments-create-view .dataprephome-wrapper{height:calc(100vh - (53px + 50px + 50px))}.experiments-create-view .dataprephome-wrapper .dataprep-container .dataprep-error-alert-container{top:0}.experiments-create-view .dataprephome-wrapper .dataprep-container .dataprep-body{height:calc(100% - 50px)}.experiments-create-view .dataprephome-wrapper .dataprep-container .top-section .top-section-content .top-panel .action-buttons{z-index:998}.experiments-create-view .dataprephome-wrapper .dataprep-container .top-section .top-section-content .top-panel .action-buttons .more-dropdown .popper{margin-right:0}.experiments-create-view .dataprephome-wrapper .dataprep-container .top-section .top-section-content .top-panel .action-buttons .dataprep-plus-button{display:none}.experiments-create-view .dataprephome-wrapper .dataprep-container .top-section .top-section-content .top-panel .action-buttons>.btn.btn-primary{display:none}.experiments-create-view .experiments-model-panel{height:50px;position:absolute;right:80px;top:59px;z-index:999}.experiments-create-view .experiments-model-panel>.btn.btn-primary{padding-right:30px;padding-left:30px}.experiments-create-view>.experiments-split-data>.experiment-metadata{height:80px}.experiments-create-view>.experiments-split-data>.experiment-metadata>div{width:25%;word-break:break-word;margin:0}.experiments-create-view>:not([class*=experiments-]){height:calc(100% - 50px)}.experiments-create-view.add-model .top-section .panel-toggle{display:none}.experiments-create-view.add-model .top-section .top-section-content{width:100%}\",\"\"]),t.locals={white01:\"#fff\",green01:\"#01b133\",green02:\"#3cc801\",green03:\"#8af302\",green04:\"#0f9d58\",green05:\"#0b8043\",green06:\"#4ab63c\",blue01:\"#045599\",blue02:\"#0076dc\",blue03:\"#09f\",blue04:\"#58b7f6\",blue05:\"#7cd2eb\",blue06:\"#cae7ef\",blue07:\"#3c4355\",bluegrey01:\"#454a57\",bluegrey02:\"#4e5568\",bluegrey03:\"#5d6789\",bluegrey04:\"#979fbb\",bluegrey05:\"#bac1d8\",bluegrey06:\"#dce0ea\",orange01:\"#f60\",orange02:\"#fa8a00\",orange03:\"#ffa727\",orange04:\"#ffcc80\",orange05:\"#ffe0b2\",grey01:\"#333\",grey02:\"#666\",grey03:\"#999\",grey04:\"#bbb\",grey05:\"#ccc\",grey06:\"#dbdbdb\",grey07:\"#eee\",grey071:\"#e0e0e0\",grey08:\"#f5f5f5\",grey09:\"#e8e8e8\",grey10:\"#ebebeb\",grey11:\"#dfe2e9\",red01:\"#a40403\",red02:\"#d40001\",red03:\"#d15668\",yellow01:\"#ffba01\",yellow02:\"#ffd500\",yellow02lighter:\"rgba(255,213,0,.3)\",primary:\"#1a73e8\"},e.exports=t},2379:function(e,t,n){\"use strict\";n.r(t);var a=n(1),r=n.n(a),o=n(0),c=n.n(o),i=n(1731),s=n(14),l=n(6),p=n.n(l),u=n(33),d=n(3);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=\"SET_FILE_SYSTEM_CONTENTS\",h=\"SET_FILE_SYSTEM_PATH\",y=\"SET_FILE_SYSTEM_LOADING\",v=\"SET_DATABASE_PROPERTIES\",E=\"SET_DATABASE_CONNECTION_ID\",w=\"SET_DATABASE_LOADING\",S=\"SET_ACTIVE_BROWSER\",O=\"SET_KAFKA_PROPERTIES\",x=\"SET_KAFKA_CONNECTION_ID\",C=\"SET_KAFKA_LOADING\",I=\"SET_S3_LOADING\",k=\"SET_S3_ACTIVE_BUCKET_DETAILS\",N=\"SET_S3_CONNECTION_DETAILS\",T=\"SET_S3_CONNECTION_ID\",_=\"SET_S3_PREFIX\",P=\"SET_S3_SEARCH\",j=\"SET_GCS_LOADING\",D=\"SET_GCS_ACTIVE_BUCKET_DETAILS\",A=\"SET_GCS_CONNECTION_DETAILS\",R=\"SET_GCS_CONNECTION_ID\",L=\"SET_GCS_PREFIX\",M=\"SET_GCS_SEARCH\",B=\"SET_BIGQUERY_CONNECTION_ID\",F=\"SET_BIGQUERY_CONNECTION_DETAILS\",W=\"SET_BIGQUERY_LOADING\",U=\"SET_BIGQUERY_DATASET_LIST\",G=\"SET_BIGQUERY_TABLE_LIST\",K=\"SET_SPANNER_CONNECTION_ID\",z=\"SET_SPANNER_CONNECTION_DETAILS\",H=\"SET_SPANNER_LOADING\",q=\"SET_SPANNER_INSTANCE_LIST\",V=\"SET_SPANNER_DATABASE_LIST\",Q=\"SET_SPANNER_TABLE_LIST\",Y=\"SET_ADLS_PROPERTIES\",X=\"SET_ADLS_CONNECTION_ID\",Z=\"SET_ADLS_LOADING\",$=\"SET_ADLS_PREFIX\",J=\"SET_ADLS_CONNECTION_DETAILS\",ee=\"SET_ADLS_FILE_SYSTEM_CONTENTS\",te=\"SET_ADLS_FILE_SYSTEM_PATH\",ne=\"SET_ADLS_FILE_SYSTEM_LOADING\",ae=\"SET_ERROR\",re=\"RESET\",oe={contents:[],loading:!1,path:\"\",search:\"\"},ce={info:{},tables:[],loading:!1,connectionId:\"\"},ie={info:{},topics:[],loading:!1,connectionId:\"\"},se={info:{},loading:!1,activeBucketDetails:[],truncated:!1,prefix:\"\",connectionId:\"\",search:\"\"},le={info:{},loading:!1,activeBucketDetails:[],truncated:!1,prefix:\"\",connectionId:\"\",search:\"\"},pe={info:{},loading:!1,connectionId:\"\",datasetId:null,datasetList:[],tableList:[]},ue={info:{},loading:!1,connectionId:\"\",instanceId:null,dabaseId:null,instanceList:[],databaseList:[],tableList:[]},de={info:{},connectionId:\"\",contents:[],path:\"\",search:\"\",loading:!1},fe={name:\"\"},me=Object(u.createStore)(Object(u.combineReducers)({file:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case g:return m({},e,{loading:!1,contents:t.payload.contents,search:\"\"});case h:return m({},e,{path:t.payload.path,search:\"\"});case y:return m({},e,{loading:t.payload.loading});case ae:return m({},e,{loading:!1,search:\"\"});case re:return oe;default:return e}},database:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case E:return t.payload.connectionId===e.connectionId?e:m({},ce,{connectionId:t.payload.connectionId});case v:return Object.assign({},e,{info:Object(d.E)(t,\"payload\",\"info\")||e.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,tables:Object(d.E)(t,\"payload\",\"tables\"),error:null,loading:!1});case w:return Object.assign({},e,{loading:t.payload.loading,error:null});case ae:return m({},e,{loading:!1});case S:case re:return ce;default:return e}},kafka:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case x:return t.payload.connectionId===e.connectionId?e:m({},ie,{connectionId:t.payload.connectionId});case O:return Object.assign({},e,{info:Object(d.E)(t,\"payload\",\"info\")||e.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,topics:Object(d.E)(t,\"payload\",\"topics\"),error:null,loading:!1});case C:return Object.assign({},e,{loading:t.payload.loading,error:null});case ae:return m({},e,{loading:!1});case S:case re:return ie;default:return e}},activeBrowser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case S:return Object.assign({},e,{name:t.payload.name});default:return e}},s3:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case T:return t.payload.connectionId===e.connectionId?e:m({},se,{connectionId:t.payload.connectionId});case N:return m({},e,{info:t.payload.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,error:null});case I:return m({},e,{loading:!0});case k:return m({},e,{activeBucketDetails:t.payload.activeBucketDetails,truncated:t.payload.truncated,loading:!1});case _:return m({},e,{prefix:t.payload.prefix});case P:return m({},e,{search:t.payload.search});case ae:return m({},e,{loading:!1});case S:case re:return se;default:return e}},gcs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case R:return t.payload.connectionId===e.connectionId?e:m({},le,{connectionId:t.payload.connectionId});case A:return m({},e,{info:t.payload.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,error:null});case j:return m({},e,{loading:!0});case D:return m({},e,{activeBucketDetails:t.payload.activeBucketDetails,truncated:t.payload.truncated,loading:!1});case L:return m({},e,{prefix:t.payload.prefix});case M:return m({},e,{search:t.payload.search});case ae:return m({},e,{loading:!1});case S:case re:return le;default:return e}},bigquery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case B:return t.payload.connectionId===e.connectionId?e:m({},pe,{connectionId:t.payload.connectionId});case F:return m({},e,{info:t.payload.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,error:null});case W:return m({},e,{loading:!0});case U:return m({},e,{loading:!1,datasetList:t.payload.datasetList,datasetId:null});case G:return m({},e,{loading:!1,datasetList:[],datasetId:t.payload.datasetId,tableList:t.payload.tableList});case ae:return m({},e,{loading:!1});case S:case re:return pe;default:return e}},spanner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case K:return t.payload.connectionId===e.connectionId?e:m({},e,{connectionId:t.payload.connectionId});case z:return m({},e,{info:t.payload.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,error:null});case H:return m({},e,{loading:!0});case q:return m({},e,{loading:!1,instanceList:t.payload.instanceList,instanceId:null,databaseId:null});case V:return m({},e,{loading:!1,instanceList:[],instanceId:t.payload.instanceId,databaseList:t.payload.databaseList,databaseId:null});case Q:return m({},e,{loading:!1,databaseList:[],databaseId:t.payload.databaseId,tableList:t.payload.tableList});case ae:return m({},e,{loading:!1});case S:case re:return ue;default:return e}},adls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case X:return t.payload.connectionId===e.connectionId?e:m({},e,{connectionId:t.payload.connectionId});case J:return m({},e,{info:t.payload.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,error:null});case Z:return m({},e,{loading:!0});case Y:return Object.assign({},e,{info:Object(d.E)(t,\"payload\",\"info\")||e.info,connectionId:Object(d.E)(t,\"payload\",\"connectionId\")||e.connectionId,error:null,loading:!1});case ee:return m({},e,{loading:!1,contents:t.payload.contents,search:\"\"});case te:return m({},e,{path:t.payload.path,search:\"\"});case ae:return m({},e,{loading:!1});case $:return m({},e,{prefix:t.payload.prefix});case S:case re:return de;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.m;switch(t.type){case ae:return t.payload.error;default:return e}}}),{file:oe,database:ce,kafka:ie,activeBrowser:fe,s3:se,gcs:le,bigquery:pe,spanner:ue,adls:de,error:null},Object(d.h)(\"DataPrepBrowserStore\")()),be=n(60),ge=n(8),he=n(2),ye=n.n(he),ve=n(42),Ee=n(4),we=n(15),Se=n.n(we),Oe=function(e){me.dispatch({type:S,payload:e})},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;me.dispatch({type:ae,payload:{error:e}})},Ce=function(){me.dispatch({type:re})},Ie=n(22),ke=n.n(Ie),Ne=n(81),Te=n.n(Ne),_e=function(e){return e.replace(/\\/\\//,\"/\")},Pe=function(e){e=_e(e),je(),De(e);var t=ge.a.getState().selectedNamespace;be.a.explorer({context:t,path:e,hidden:!0}).subscribe((function(e){var t;me.dispatch({type:g,payload:{contents:(t=e.values,t.map((function(e){return e.uniqueId=ke()(),e[\"last-modified\"]=Te()(e[\"last-modified\"]).format(\"MM/DD/YY HH:mm\"),e.displaySize=Object(d.j)(e.size,d.a,!0),e.directory&&(e.type=ye.a.translate(\"\".concat(\"features.FileBrowser\",\".directory\"))),e.type=\"UNKNOWN\"===e.type?\"--\":e.type,e})))}})}),(function(e){xe(e)}))},je=function(){me.dispatch({type:y,payload:{loading:!0}})},De=function(e){me.dispatch({type:h,payload:{path:e}})},Ae=function(e){var t=me.getState(),n=t.database;t.activeBrowser.name!==e.name&&Oe(e);var a=e.id;if(n.connectionId!==a){me.dispatch({type:E,payload:{connectionId:a}}),me.dispatch({type:w,payload:{loading:!0}});var r={context:ge.a.getState().selectedNamespace,connectionId:a};be.a.getConnection(r).subscribe((function(e){be.a.listTables(r).subscribe((function(t){Re({info:e,tables:t.values,connectionId:r.connectionId})}),(function(e){xe(e)}))}),(function(e){xe(e)}))}},Re=function(e){me.dispatch({type:v,payload:e})},Le=function(e){var t=me.getState(),n=t.kafka;t.activeBrowser.name!==e.name&&Oe(e);var a=e.id;if(n.connectionId!==a){me.dispatch({type:x,payload:{connectionId:a}}),Be();var r=ge.a.getState().selectedNamespace,o={context:r,connectionId:a};be.a.getConnection(o).subscribe((function(e){be.a.listTopics({context:r},e).subscribe((function(t){Me({info:e,topics:t.values,connectionId:o.connectionId})}),(function(e){xe(e)}))}),(function(e){xe(e)}))}},Me=function(e){me.dispatch({type:O,payload:e})},Be=function(){me.dispatch({type:C,payload:{loading:!0}})};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){var t=me.getState(),n=t.s3;t.activeBrowser.name!==e.name&&Oe(e);var a=e.id,r=e.path;if(n.connectionId!==a){var o={context:ge.a.getState().selectedNamespace,connectionId:a};me.dispatch({type:T,payload:{connectionId:a}}),He(),be.a.getConnection(o).subscribe((function(e){me.dispatch({type:N,payload:{info:e,connectionId:a}}),r?Ke(r):ze()}),(function(e){xe(e)}))}else r&&r!==n.prefix&&Ke(r)},Ke=function(e){me.dispatch({type:_,payload:{prefix:e}}),ze(e)},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=me.getState().s3,n=t.connectionId,a=t.loading;a||He();var r=ge.a.getState(),o=r.selectedNamespace,c={context:o,connectionId:n};e&&(c=We({},c,{path:e})),be.a.exploreBucketDetails(c).subscribe((function(e){me.dispatch({type:k,payload:{activeBucketDetails:e.values,truncated:\"true\"===e.truncated||!1}})}),(function(e){xe(e)}))},He=function(){me.dispatch({type:I})},qe=function(e){me.dispatch({type:P,payload:{search:e}})};function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=function(e){var t=me.getState(),n=t.gcs;t.activeBrowser.name!==e.name&&Oe(e);var a=e.id,r=e.path;if(n.connectionId!==a){me.dispatch({type:R,payload:{connectionId:a}}),Je();var o={context:ge.a.getState().selectedNamespace,connectionId:a};be.a.getConnection(o).subscribe((function(e){me.dispatch({type:A,payload:{info:e,connectionId:a}}),r?Ze(r):$e()}),(function(e){xe(e)}))}else r&&r!==n.prefix&&Ze(r)},Ze=function(e){me.dispatch({type:L,payload:{prefix:e}}),$e(e)},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",t=me.getState().gcs,n=t.connectionId,a=t.loading;a||Je();var r=ge.a.getState(),o=r.selectedNamespace,c={context:o,connectionId:n};e&&(c=Qe({},c,{path:e})),be.a.exploreGCSBucketDetails(c).subscribe((function(e){me.dispatch({type:D,payload:{activeBucketDetails:e.values,truncated:\"true\"===e.truncated||!1}})}),(function(e){xe(e)}))},Je=function(){me.dispatch({type:j})},et=function(e){me.dispatch({type:M,payload:{search:e}})},tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=me.getState(),a=n.bigquery,r=n.activeBrowser;r.name!==e.name&&Oe(e);var o=e.id;if(a.connectionId!==o){rt(),me.dispatch({type:B,payload:{connectionId:o}});var c=Object(ge.d)(),i={context:c,connectionId:o};be.a.getConnection(i).subscribe((function(e){me.dispatch({type:F,payload:{info:e,connectionId:o}}),t&&nt(o)}),(function(e){xe(e)}))}},nt=function(e){rt();var t={context:Object(ge.d)(),connectionId:e};be.a.bigQueryGetDatasets(t).subscribe((function(e){me.dispatch({type:U,payload:{datasetList:e.values}})}),(function(e){xe(e)}))},at=function(e,t){rt();var n={context:Object(ge.d)(),connectionId:e,datasetId:t};be.a.bigQueryGetTables(n).subscribe((function(e){me.dispatch({type:G,payload:{datasetId:t,tableList:e.values}})}),(function(e){xe(e)}))},rt=function(){me.dispatch({type:W})},ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=me.getState(),a=n.spanner,r=n.activeBrowser;r.name!==e.name&&Oe(e);var o=e.id;if(a.connectionId!==o){me.dispatch({type:K,payload:{connectionId:o}}),lt();var c=Object(ge.d)(),i={context:c,connectionId:o};be.a.getConnection(i).subscribe((function(e){me.dispatch({type:z,payload:{info:e,connectionId:o}}),t&&ct(o)}),(function(e){xe(e)}))}},ct=function(e){lt();var t={context:Object(ge.d)(),connectionId:e};be.a.spannerGetInstances(t).subscribe((function(e){me.dispatch({type:q,payload:{instanceList:e.values}})}),(function(e){xe(e)}))},it=function(e,t){lt();var n={context:Object(ge.d)(),connectionId:e,instanceId:t};be.a.spannerGetDatabases(n).subscribe((function(e){me.dispatch({type:V,payload:{instanceId:t,databaseList:e.values}})}),(function(e){xe(e)}))},st=function(e,t,n){lt();var a={context:Object(ge.d)(),connectionId:e,instanceId:t,databaseId:n};be.a.spannerGetTables(a).subscribe((function(e){me.dispatch({type:Q,payload:{databaseId:n,tableList:e.values}})}),(function(e){xe(e)}))},lt=function(){me.dispatch({type:H})},pt=function(e){return e.replace(/\\/\\//,\"/\")},ut=function(e){var t=me.getState(),n=t.adls;t.activeBrowser.name!==e.name&&Oe(e);var a=e.id,r=e.path;if(n.connectionId!==a){me.dispatch({type:X,payload:{connectionId:a}}),bt();var o={context:ge.a.getState().selectedNamespace,connectionId:a};be.a.getConnection(o).subscribe((function(e){var t=Object(d.E)(e,\"values\",0);me.dispatch({type:J,payload:{info:t,connectionId:a}}),r?dt(r):ft()}),(function(e){xe(e)}))}else r&&r!==n.prefix&&dt(r)},dt=function(e){me.dispatch({type:$,payload:{prefix:e}}),ft(e)},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"/\",t=me.getState().adls,n=t.connectionId,a=t.loading;a||bt();var r=ge.a.getState(),o=r.selectedNamespace;e&&(e=pt(e),gt(),ht(e)),be.a.adlsFileExplorer({context:o,path:e,connectionId:n}).subscribe((function(e){me.dispatch({type:ee,payload:{contents:mt(e.values)}})}),(function(e){xe(e)}))},mt=function(e){return e.map((function(e){return e.uniqueId=ke()(),e[\"last-modified\"]=Te()(e[\"last-modified\"]).format(\"MM/DD/YY HH:mm\"),e.displaySize=Object(d.j)(e.size,d.a,!0),e.directory&&(e.type=ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".directory\"))),e.type=\"UNKNOWN\"===e.type?\"--\":e.type,e}))},bt=function(){me.dispatch({type:Z})},gt=function(){me.dispatch({type:ne,payload:{loading:!0}})},ht=function(e){me.dispatch({type:te,payload:{path:e}})},yt=n(154),vt=n.n(yt),Et=n(21),wt=n(24);function St(e){return function(e){if(Array.isArray(e))return Ot(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ot(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function xt(e){var t=e.connectionId,n=e.browserI18NName,a=e.path,r=ye.a.translate(\"\".concat(\"features.DataPrep.DataPrepBrowser\",\".\").concat(n,\".pageTitle\"),{connectionId:t,productName:wt.a.productName});return Object(d.A)(a)||(r=\"\".concat(r,\" - \").concat(a)),c.a.createElement(vt.a,{title:r})}xt.propTypes={connectionId:r.a.string,browserI18NName:r.a.string,path:r.a.string};var Ct,It=Object(Et.connect)((function(e,t){return{connectionId:e[t.browserStateName].connectionId,path:Object(d.A)(t.locationToPathInState)||!Array.isArray(t.locationToPathInState)?null:d.E.apply(void 0,[e,t.browserStateName].concat(St(t.locationToPathInState)))}}))(xt),kt=n(13),Nt=(Ct=function(e,t){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ct(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});n(2277);var Tt,_t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Nt(t,e),t.prototype.render=function(){return o.createElement(\"div\",{className:\"dataprep-browser-top-panel\"},o.createElement(\"div\",{className:\"title\"},o.createElement(\"h5\",null,o.createElement(kt.a,{condition:this.props.showPanelToggle},o.createElement(\"span\",{className:p()(\"fa fa-fw\",{disabled:!this.props.allowSidePanelToggle}),onClick:this.props.toggle},o.createElement(s.a,{name:\"icon-chevron-right\"}))),o.createElement(\"span\",null,this.props.browserTitle))))},t}(o.PureComponent);!function(e){e.UPLOAD=\"UPLOAD\",e.FILE=\"FILE\",e.DATABASE=\"DATABASE\",e.TABLE=\"TABLE\",e.S3=\"S3\",e.GCS=\"GCS\",e.BIGQUERY=\"BIGQUERY\",e.KAFKA=\"KAFKA\",e.SPANNER=\"SPANNER\",e.ADLS=\"ADLS\"}(Tt||(Tt={}));var Pt=n(29),jt=n.n(Pt),Dt=n(412);function At(e){return(At=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Bt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Kt(e);if(t){var r=Kt(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ut(this,n)}}function Ut(e,t){return!t||\"object\"!==At(t)&&\"function\"!=typeof t?Gt(e):t}function Gt(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Kt(e){return(Kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2279);var Ht=\"features.DataPrep.DataPrepBrowser.DatabaseBrowser\",qt=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(o,e);var t,n,a,r=Wt(o);function o(){var e;Mt(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return zt(Gt(e=r.call.apply(r,[this].concat(n))),\"state\",{info:me.getState().database.info,connectionId:me.getState().database.connectionId,connectionName:\"\",tables:[],loading:!0,search:\"\",searchFocus:!0}),zt(Gt(e),\"eventEmitter\",Se()(Se.a)),zt(Gt(e),\"eventBasedFetchTable\",(function(t){e.state.connectionId===t&&Ae({name:Tt.DATABASE,id:t})})),zt(Gt(e),\"handleSearch\",(function(t){e.setState({search:t.target.value})})),zt(Gt(e),\"prepTable\",(function(t){var n=ge.a.getState().selectedNamespace,a={context:n,connectionId:e.state.connectionId,tableId:t,lines:100};e.props.scope&&(a.scope=e.props.scope),be.a.readTable(a).subscribe((function(t){var a=t.values[0].id;e.props.onWorkspaceCreate&&\"function\"==typeof e.props.onWorkspaceCreate?e.props.onWorkspaceCreate(a):Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a))}),(function(e){var n=e,a=ye.a.translate(\"\".concat(Ht,\".defaultErrorMessage\"),{tableId:t});jt()(Object(d.E)(e,\"response\",\"message\"))&&(n=Lt({},e=e||{},{response:Lt({},e.response||{},{message:a})})),xe(n)}))})),e}return t=o,(n=[{key:\"componentDidMount\",value:function(){var e=this;this.eventEmitter.on(\"DATAPREP_CONNECTION_EDIT_DATABASE\",this.eventBasedFetchTable),this.storeSubscription=me.subscribe((function(){var t=me.getState(),n=t.database;t.activeBrowser.name===Tt.DATABASE&&e.setState({info:n.info,connectionId:n.connectionId,loading:n.loading,tables:n.tables,search:\"\"})}))}},{key:\"componentWillUnmount\",value:function(){this.eventEmitter.off(\"DATAPREP_CONNECTION_EDIT_DATABASE\",this.eventBasedFetchTable),\"function\"==typeof this.storeSubscription&&this.storeSubscription()}},{key:\"renderEmpty\",value:function(){var e=this;return 0!==this.state.search.length?c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(Ht,\".EmptyMessage.title\"),{searchText:this.state.search})),c.a.createElement(\"hr\",null),c.a.createElement(\"span\",null,\" \",ye.a.translate(\"\".concat(Ht,\".EmptyMessage.suggestionTitle\")),\" \"),c.a.createElement(\"ul\",null,c.a.createElement(\"li\",null,c.a.createElement(\"span\",{className:\"link-text\",onClick:function(){e.setState({search:\"\",searchFocus:!0})}},ye.a.translate(\"\".concat(Ht,\".EmptyMessage.clearLabel\"))),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(Ht,\".EmptyMessage.suggestion1\"))))))):c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(Ht,\".EmptyMessage.emptyDatabase\"),{connectionName:this.state.connectionName}))))}},{key:\"render\",value:function(){var e=this;if(this.state.loading)return c.a.createElement(ve.a,null);var t,n=this.state.tables;return this.state.search&&(n=this.state.tables.filter((function(t){return-1!==t.name.toLowerCase().indexOf(e.state.search.toLowerCase())}))),c.a.createElement(\"div\",{className:\"database-browser\"},c.a.createElement(Et.Provider,{store:me},c.a.createElement(It,{browserI18NName:\"DatabaseBrowser\",browserStateName:\"database\"})),c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"\".concat(Ht,\".title\")),showPanelToggle:this.props.showPanelToggle}),c.a.createElement(\"div\",null,c.a.createElement(\"div\",{className:\"database-browser-header\"},c.a.createElement(\"div\",{className:\"database-metadata\"},c.a.createElement(\"h5\",null,Object(d.E)(this.state.info,\"info\",\"name\")),c.a.createElement(\"span\",{className:\"tables-count\"},ye.a.translate(\"\".concat(Ht,\".tableCount\"),{context:n.length}))),c.a.createElement(\"div\",{className:\"table-name-search\"},c.a.createElement(Ee.Input,{placeholder:ye.a.translate(\"\".concat(Ht,\".searchPlaceholder\")),value:this.state.search,onChange:this.handleSearch,autoFocus:this.state.searchFocus})))),c.a.createElement(\"div\",{className:\"database-browser-content\"},(t=n).length?c.a.createElement(\"div\",{className:\"database-content-table\"},c.a.createElement(\"div\",{className:\"database-content-header\"},c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12\"},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(Ht,\".table.namecollabel\")))))),c.a.createElement(\"div\",{className:\"database-content-body\"},t.map((function(t,n){return c.a.createElement(\"div\",{key:\"\".concat(t.name,\"-\").concat(n),className:\"row content-row\",onClick:e.prepTable.bind(e,t.name)},c.a.createElement(\"div\",{className:\"col-12\"},c.a.createElement(\"span\",null,t.name)))})))):e.renderEmpty()))}}])&&Bt(t.prototype,n),a&&Bt(t,a),o}(o.Component);zt(qt,\"propTypes\",{toggle:r.a.func,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string]),showPanelToggle:r.a.bool});var Vt=n(25),Qt=n(98),Yt=n(509);function Xt(e){return(Xt=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jt(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=nn(e);if(t){var r=nn(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||\"object\"!==Xt(t)&&\"function\"!=typeof t?tn(e):t}function tn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(2281);var an=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(o,e);var t,n,a,r=Jt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={originalPath:\"\",paths:[]},t.handlePropagation=t.handlePropagation.bind(tn(t)),t}return t=o,(n=[{key:\"componentWillReceiveProps\",value:function(e){e.originalPath!==e.fullpath&&this.processPath(e)}},{key:\"processPath\",value:function(e){var t=this,n=e.fullpath.split(\"/\").filter((function(e){return e.length>0})),a=this.props.baseStatePath;\"/\"!==a[a.length-1]&&(a=\"\".concat(a,\"/\"));var r=[{id:ke()(),name:\"Root\",link:a}];n.forEach((function(e,a){var o=n.slice(0,a+1).join(\"/\"),c=t.props.baseStatePath;c=\"\".concat(c,\"/\").concat(o),r.push({id:ke()(),name:e,link:c})})),this.setState({paths:r,originalPath:e.fullpath})}},{key:\"handlePropagation\",value:function(e,t){if(!this.props.enableRouting&&(Object(d.G)(t),this.props.onPathChange&&\"function\"==typeof this.props.onPathChange)){var n=e.slice(this.props.baseStatePath.length);return this.props.onPathChange(n),!1}}},{key:\"renderCollapsedDropdown\",value:function(e){var t=this;return c.a.createElement(\"div\",{className:\"collapsed-dropdown\"},c.a.createElement(Qt.a,{className:\"collapsed-dropdown-toggle\"},c.a.createElement(Ee.DropdownToggle,null,\"...\"),c.a.createElement(Ee.DropdownMenu,null,e.map((function(e,n){return c.a.createElement(Ee.DropdownItem,{key:n,title:e.name,tag:\"div\"},c.a.createElement(Yt.a,{key:e.id,to:e.link,onClick:t.handlePropagation.bind(t,e.link),isNativeLink:!t.props.enableRouting},e.name))})))))}},{key:\"renderBreadcrumb\",value:function(e){var t=this,n=e.map((function(e){return e.name})).join(\"/\")||\"\";return c.a.createElement(\"div\",{className:\"paths\",title:n},e.map((function(n,a){return c.a.createElement(Yt.a,{key:n.id,to:n.link,className:p()({\"active-directory\":a===e.length-1}),onClick:t.handlePropagation.bind(t,n.link),isNativeLink:!t.props.enableRouting},c.a.createElement(\"span\",null,n.name),a!==e.length-1?c.a.createElement(\"span\",{className:\"path-divider\"},\"/\"):null)})))}},{key:\"renderCollapsedView\",value:function(){var e=this.state.paths.length-3+1,t=this.state.paths.slice(0,e),n=this.state.paths.slice(e),a=this.renderCollapsedDropdown(t),r=this.renderBreadcrumb(n);return c.a.createElement(\"div\",{className:\"collapsed-paths\"},a,c.a.createElement(\"span\",{className:\"path-divider\"},\"/\"),r)}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"file-path-container\"},this.state.paths.length>3?this.renderCollapsedView():this.renderBreadcrumb(this.state.paths))}}])&&Zt(t.prototype,n),a&&Zt(t,a),o}(o.Component);an.propTypes={baseStatePath:r.a.string,fullpath:r.a.string,enableRouting:r.a.bool,onPathChange:r.a.func,originalPath:r.a.string};var rn=n(222),on=n.n(rn),cn=n(50),sn=n.n(cn),ln=n(9),pn=n(1848),un=n.n(pn);function dn(e){return(dn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function mn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function bn(e,t){return(bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=vn(e);if(t){var r=vn(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return hn(this,n)}}function hn(e,t){return!t||\"object\"!==dn(t)&&\"function\"!=typeof t?yn(e):t}function yn(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2284);var wn=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(o,e);var t,n,a,r=gn(o);function o(){var e;fn(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return En(yn(e=r.call.apply(r,[this].concat(n))),\"state\",{contents:[],path:\"\",statePath:Object(d.E)(e.props,\"match\",\"url\")||\"\",loading:!0,search:\"\",sort:\"name\",sortOrder:\"asc\",searchFocus:!0}),En(yn(e),\"preventPropagation\",(function(t){e.props.enableRouting||Object(d.G)(t)})),En(yn(e),\"handleSearch\",(function(t){e.setState({search:t.target.value})})),e}return t=o,(n=[{key:\"componentDidMount\",value:function(){var e=this;if(this._isMounted=!0,this.props.enableRouting)this.fetchDirectory(this.props);else{var t=this.getFilePath();this.dataprepSubscription=ln.a.subscribe((function(){var t=e.getFilePath();jt()(t)||t===e.state.path||Pe(t)})),Pe(t)}this.browserStoreSubscription=me.subscribe((function(){var t=me.getState(),n=t.file;t.activeBrowser.name===Tt.FILE&&e._isMounted&&e.setState({contents:n.contents,loading:n.loading,path:n.path,search:n.search})}))}},{key:\"componentWillUnmount\",value:function(){this._isMounted=!1,\"function\"==typeof this.dataprepSubscription&&this.dataprepSubscription(),\"function\"==typeof this.browserStoreSubscription&&this.browserStoreSubscription(),Object(d.E)(this.explorePathObservable,\"unsubscribe\")&&\"function\"==typeof this.explorePathObservable.unsubscribe&&this.explorePathObservable.unsubscribe()}},{key:\"componentWillReceiveProps\",value:function(e){if(this.props.enableRouting)this.fetchDirectory(e);else{var t=this.getFilePath();jt()(t)||t===this.state.path||Pe(t)}}},{key:\"getFilePath\",value:function(){var e=ln.a.getState().dataprep.workspaceInfo,t=Object(d.E)(e,\"properties\",\"path\");return t=sn()(t)?this.state.path:t.slice(0,un()(t,\"/\")+1),(sn()(t)||\"file\"!==Object(d.E)(e,\"properties\",\"connection\"))&&(t=\"/\"),t}},{key:\"getFileName\",value:function(){var e=ln.a.getState().dataprep.workspaceInfo;return Object(d.E)(e,\"properties\",\"name\")}},{key:\"fetchDirectory\",value:function(e){var t;this.props.noState?t=this.props.initialDirectoryPath:(Object(d.E)(e,\"match\",\"url\")&&(t=(t=window.location.pathname.replace(/\\/cdap/,\"\").slice(e.match.url.length))||this.props.initialDirectoryPath||\"/\"),t!==this.state.path&&t&&Pe(t))}},{key:\"orderBy\",value:function(e){e!==this.state.sort?this.setState({sort:e,sortOrder:\"asc\"}):this.setState({sortOrder:\"asc\"===this.state.sortOrder?\"desc\":\"asc\"})}},{key:\"ingestFile\",value:function(e){var t=this,n=ge.a.getState().selectedNamespace,a=this.props.scope,r={context:n,path:e.path,lines:1e4,sampler:\"first\"};a&&(\"string\"==typeof a?r.scope=a:\"boolean\"==typeof a&&(r.scope=\"mmds\"));var o={\"Content-Type\":e.type};be.a.readFile(r,null,o).subscribe((function(e){var a=e.values[0].id;t.props.onWorkspaceCreate&&\"function\"==typeof t.props.onWorkspaceCreate?t.props.onWorkspaceCreate(a):Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a))}),(function(e){xe(e)}))}},{key:\"renderCollapsedContent\",value:function(e,t){return c.a.createElement(\"div\",{key:e.uniqueId,className:p()(\"row content-row\",{disabled:!e.directory&&!e.wrangle,selected:t})},c.a.createElement(\"div\",{className:\"col-8 name\"},c.a.createElement(\"span\",{className:p()(\"type-icon fa fa-fw\",{\"folder-icon fa-folder-o\":e.directory,\"file-icon fa-file-o\":!e.directory})}),c.a.createElement(\"span\",{title:e.name},e.name)),c.a.createElement(\"div\",{className:\"col-4\"},c.a.createElement(\"span\",{title:e.type},e.type)))}},{key:\"renderRowContent\",value:function(e){var t=!1;return this.state.path===this.getFilePath()&&e.name===this.getFileName()&&(t=!0),this.props.noState||!this.props.enableRouting?this.renderCollapsedContent(e,t):c.a.createElement(\"div\",{key:e.uniqueId,className:p()(\"row content-row\",{disabled:!e.directory&&!e.wrangle,selected:t})},c.a.createElement(\"div\",{className:\"col-3 name\"},c.a.createElement(\"span\",{className:p()(\"type-icon fa fa-fw\",{\"folder-icon fa-folder-o\":e.directory,\"file-icon fa-file-o\":!e.directory})}),c.a.createElement(\"span\",{title:e.name},e.name)),c.a.createElement(\"div\",{className:\"col-2\"},c.a.createElement(\"span\",{title:e.type},e.type)),c.a.createElement(\"div\",{className:\"col-1\"},c.a.createElement(\"span\",{title:e.displaySize},e.directory?\"--\":e.displaySize)),c.a.createElement(\"div\",{className:\"col-2\"},c.a.createElement(\"span\",{title:e[\"last-modified\"]},e[\"last-modified\"])),c.a.createElement(\"div\",{className:\"col-1\"},c.a.createElement(\"span\",{title:e.owner},e.owner)),c.a.createElement(\"div\",{className:\"col-1\"},c.a.createElement(\"span\",{title:e.group},e.group)),c.a.createElement(\"div\",{className:\"col-2\"},c.a.createElement(\"span\",{title:e.permission},e.permission)))}},{key:\"renderDirectory\",value:function(e){if(this.props.noState||!this.props.enableRouting)return c.a.createElement(\"div\",{key:e.uniqueId,className:\"row-container\",onClick:Pe.bind(this,e.path)},this.renderRowContent(e,!1));var t=\"\".concat(this.state.statePath).concat(e.path);return t=_e(t),c.a.createElement(Vt.Link,{key:e.uniqueId,to:t},this.renderRowContent(e,!1))}},{key:\"renderFileContent\",value:function(e,t){return c.a.createElement(\"div\",{key:e.uniqueId,className:\"row-container\",onClick:this.ingestFile.bind(this,e)},this.renderRowContent(e,t))}},{key:\"renderRow\",value:function(e){return e.directory?this.renderDirectory(e):e.wrangle?this.renderFileContent(e):this.renderRowContent(e)}},{key:\"renderEmptySearch\",value:function(){var e=this;return c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.FileBrowser\",\".EmptyMessage.title\"),{searchText:this.state.search})),c.a.createElement(\"hr\",null),c.a.createElement(\"span\",null,\" \",ye.a.translate(\"\".concat(\"features.FileBrowser\",\".EmptyMessage.suggestionTitle\")),\" \"),c.a.createElement(\"ul\",null,c.a.createElement(\"li\",null,c.a.createElement(\"span\",{className:\"link-text\",onClick:function(){e.setState({search:\"\"})}},ye.a.translate(\"\".concat(\"features.FileBrowser\",\".EmptyMessage.clearLabel\"))),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.FileBrowser\",\".EmptyMessage.suggestion1\")))))))}},{key:\"renderContent\",value:function(){var e=this;if(this.state.loading)return c.a.createElement(ve.a,null);if(0===this.state.contents.length)return c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.FileBrowser\",\".EmptyMessage.noFilesOrDirectories\")))));var t=this.state.contents;if(this.state.search.length>0&&0===(t=this.state.contents.filter((function(t){var n=t.name.toLowerCase(),a=e.state.search.toLowerCase();return-1!==n.indexOf(a)}))).length)return this.renderEmptySearch();t=on()(t,[function(t){var n=t[e.state.sort];return\"string\"!=typeof n?n:n.toLowerCase()}],[this.state.sortOrder]);var n={name:\"col-3\",type:\"col-2\",size:\"col-1\",\"last-modified\":\"col-2\",owner:\"col-1\",group:\"col-1\",permission:\"col-2\"};!this.props.noState&&this.props.enableRouting||(n={name:\"col-8\",type:\"col-4\"});var a=Object.keys(n);return c.a.createElement(\"div\",{className:\"directory-content-table\"},c.a.createElement(\"div\",{className:\"content-header row\"},a.map((function(t){return c.a.createElement(\"div\",{key:t,className:n[t]},c.a.createElement(\"span\",{onClick:e.orderBy.bind(e,t)},ye.a.translate(\"\".concat(\"features.FileBrowser\",\".Table.\").concat(t)),e.state.sort!==t?null:c.a.createElement(\"span\",{className:p()(\"fa sort-caret\",{\"fa-caret-down\":\"asc\"===e.state.sortOrder,\"fa-caret-up\":\"desc\"===e.state.sortOrder})})))}))),c.a.createElement(\"div\",{className:\"content-body clearfix\"},t.map((function(t){return e.renderRow(t)}))))}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"file-browser-container\"},c.a.createElement(_t,{allowSidePanelToggle:this.props.allowSidePanelToggle,toggle:this.props.toggle,browserTitle:this.props.browserTitle,showPanelToggle:this.props.showPanelToggle}),c.a.createElement(\"div\",{className:\"sub-panel\"},c.a.createElement(\"div\",{className:\"path-container\"},c.a.createElement(an,{baseStatePath:this.state.statePath,fullpath:this.state.path,enableRouting:this.props.enableRouting,onPathChange:Pe})),c.a.createElement(\"div\",{className:\"info-container\",title:ye.a.translate(\"\".concat(\"features.FileBrowser\",\".TopPanel.directoryMetrics\"),{count:this.state.contents.length})},c.a.createElement(\"div\",{className:\"info\"},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.FileBrowser\",\".TopPanel.directoryMetrics\"),{count:this.state.contents.length}))),c.a.createElement(\"div\",{className:\"search-container\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:ye.a.translate(\"\".concat(\"features.FileBrowser\",\".TopPanel.searchPlaceholder\")),value:this.state.search,onChange:this.handleSearch,autoFocus:this.state.searchFocus})))),this.renderContent())}}])&&mn(t.prototype,n),a&&mn(t,a),o}(o.Component);En(wn,\"defaultProps\",{enableRouting:!0,scope:!1,browserTitle:ye.a.translate(\"\".concat(\"features.FileBrowser\",\".TopPanel.selectData\")),allowSidePanelToggle:!0}),En(wn,\"propTypes\",{allowSidePanelToggle:r.a.bool,location:r.a.object,match:r.a.object,initialDirectoryPath:r.a.string,noState:r.a.bool,toggle:r.a.func.isRequired,enableRouting:r.a.bool,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string]),browserTitle:r.a.string,showPanelToggle:r.a.bool});var Sn=n(507),On=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),xn=function(){return(xn=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Cn=function(e,t){var n,a,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},In=function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};(function(e,t,n,a){new(n||(n=Promise))((function(r,o){function c(e){try{s(a.next(e))}catch(e){o(e)}}function i(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((a=a.apply(e,t||[])).next())}))})(void 0,void 0,void 0,(function(){return Cn(this,(function(e){switch(e.label){case 0:return\"undefined\"!=typeof IntersectionObserver?[3,2]:[4,n.e(31).then(n.t.bind(null,2377,7))];case 1:return e.sent(),[3,3];case 2:Promise.resolve(),e.label=3;case 3:return[2]}}))}));var kn=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={windowSize:t.DEFAULT_WINDOW_SIZE,data:n.props.data.map((function(e,t){return xn(xn({},e),{scrollId:t})}))},n.io=new IntersectionObserver((function(e){var a,r,o=n.state.windowSize;try{for(var c=In(e),i=c.next();!i.done;i=c.next()){var s=i.value,l=s.target.getAttribute(\"id\");l=l.split(\"-\").pop();var p=parseInt(l,10);s.isIntersecting&&(o=p+50>n.state.windowSize?p+t.DEFAULT_WINDOW_SIZE:p)}}catch(e){a={error:e}}finally{try{i&&!i.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}o>n.state.windowSize&&n.setState({windowSize:o})}),{root:document.getElementById(\"s3-buckets-container\"),threshold:[0,1]}),n.renderIcon=function(e){switch(e){case\"bucket\":return o.createElement(s.a,{name:\"icon-S3_bucket\"});case\"directory\":return o.createElement(s.a,{name:\"icon-folder-o\"});default:return o.createElement(s.a,{name:\"icon-file-o\"})}},n.getPrefix=function(e,t){var n,a=function(e){return e.length>1&&\"/\"===e[e.length-1]?e.slice(0,e.length-1):e};return\"bucket\"===e.type?\"/\"+e.name:a(t)+\"/\"+(n=e.name,a(n)+\"/\")},n.onClickHandler=function(e,t,a,r,o){return a.directory?e?void 0:(a.directory&&Ke(n.getPrefix(a,r)),Object(d.G)(o),!1):(a.wrangle&&n.props.onWorkspaceCreate(a),Object(d.G)(o),!1)},n}return On(t,e),t.prototype.componentDidMount=function(){var e=this;Array.from(document.querySelectorAll(\"#s3-buckets-container .row\")).forEach((function(t){e.io.observe(t)}))},t.prototype.componentDidUpdate=function(){var e=this;Array.from(document.querySelectorAll(\"#s3-buckets-container .row\")).forEach((function(t){e.io.observe(t)}))},t.prototype.componentWillReceiveProps=function(e){this.setState({data:e.data.map((function(e,t){return xn(xn({},e),{scrollId:t})}))})},t.prototype.renderData=function(){var e=this,t=this.props,n=t.enableRouting,a=t.onWorkspaceCreate,r=t.prefix,c=this.state.data,i=n?Vt.Link:\"div\",s=window.location.pathname.replace(/\\/cdap/,\"\"),l=ln.a.getState().dataprep.insights,u=l.connectionid,f=l.key,m=\"/\"+l[\"bucket-name\"]+\"/\"+f+\"/\";return n?o.createElement(\"div\",{className:\"s3-buckets\",id:\"s3-buckets-container\"},c.slice(0,this.state.windowSize).map((function(t,c){var l=Object(d.s)(t[\"last-modified\"],!0),f=e.getPrefix(t,r),b=u===e.props.connectionId&&f===m;return o.createElement(i,{className:p()({disabled:!t.directory&&!t.wrangle,selected:b}),to:s+\"?prefix=\"+f,onClick:e.onClickHandler.bind(null,n,a,t,r),key:t.name+\"-\"+c},o.createElement(\"div\",{className:\"row\",id:\"s3connection-\"+t.scrollId},o.createElement(\"div\",{className:\"col-3\"},e.renderIcon(t.type),t.name),o.createElement(\"div\",{className:\"col-3\"},t.owner||\"--\"),o.createElement(\"div\",{className:\"col-3\"},t.size||\"--\"),o.createElement(\"div\",{className:\"col-3\"},l)))}))):o.createElement(\"div\",{className:\"s3-buckets\",id:\"s3-buckets-container\"},c.slice(0,this.state.windowSize).map((function(t,c){var l=e.getPrefix(t,r),d=u===e.props.connectionId&&l===m;return o.createElement(i,{className:p()({disabled:!t.directory&&!t.wrangle,selected:d}),to:s+\"?prefix=\"+e.getPrefix(t,r),onClick:e.onClickHandler.bind(null,n,a,t,r),key:t.name+\"-\"+c},o.createElement(\"div\",{className:\"row\",id:\"s3connection-\"+t.scrollId},o.createElement(\"div\",{className:\"col-12\"},e.renderIcon(t.type),t.name)))})))},t.prototype.renderContents=function(){var e=this.props,t=e.search,n=e.data,a=e.clearSearch;return n.length?this.renderData():o.createElement(\"div\",{className:\"s3-buckets empty-message\"},o.createElement(\"div\",{className:\"row\"},o.createElement(\"div\",{className:\"col-12\"},o.createElement(Sn.a,{searchText:t},o.createElement(\"ul\",null,o.createElement(\"li\",null,o.createElement(\"span\",{className:\"link-text\",onClick:a},ye.a.translate(\"features.EmptyMessageContainer.clearLabel\")),o.createElement(\"span\",null,ye.a.translate(\"features.DataPrep.DataPrepBrowser.S3Browser.BucketData.Content.EmptymessageContainer.suggestion1\"))))))))},t.prototype.render=function(){return o.createElement(\"div\",{className:\"s3-content-body\"},this.renderContents())},t.DEFAULT_WINDOW_SIZE=100,t}(o.PureComponent),Nn=\"features.DataPrep.DataPrepBrowser.S3Browser.BucketData\",Tn={clearSearch:r.a.func,data:r.a.arrayOf(r.a.object),search:r.a.string,loading:r.a.bool,enableRouting:r.a.bool,prefix:r.a.string,onWorkspaceCreate:r.a.func,connectionId:r.a.string},_n=function(e){return e.enableRouting?c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Nn,\".Headers.Name\"))),c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Nn,\".Headers.Owner\"))),c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Nn,\".Headers.Size\"))),c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Nn,\".Headers.LastModified\")))):c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12\"},ye.a.translate(\"\".concat(Nn,\".Headers.Name\"))))};_n.propTypes=Tn;var Pn=function(e){var t=e.data,n=e.search,a=e.clearSearch,r=e.loading,o=e.prefix,i=e.enableRouting,s=e.onWorkspaceCreate,l=e.connectionId;if(r)return c.a.createElement(ve.a,null);var p=t.filter((function(e){if(n&&n.length&&e.name){var t=e.name.indexOf(n);return e.type&&\"bucket\"===e.type?-1!==t||e.owner&&-1!==e.owner.indexOf(n):-1!==t||e.path&&-1!==e.path.indexOf(n)}return!0}));return c.a.createElement(\"div\",null,c.a.createElement(kt.a,{condition:p.length},c.a.createElement(\"div\",{className:\"s3-content-header\"},c.a.createElement(_n,{enableRouting:i}))),c.a.createElement(kn,{search:n,clearSearch:a,data:p,prefix:o,enableRouting:i,onWorkspaceCreate:s,connectionId:l}))};Pn.propTypes=Tn;var jn=Object(Et.connect)((function(e,t){var n=t.enableRouting,a=void 0===n||n,r=t.onWorkspaceCreate,o=void 0===r?function(){}:r;return{data:e.s3.activeBucketDetails,search:e.s3.search,loading:e.s3.loading,prefix:e.s3.prefix,connectionId:e.s3.connectionId,enableRouting:a,onWorkspaceCreate:o}}),(function(){return{clearSearch:function(){qe(\"\")}}}))(Pn);function Dn(e){return(Dn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Wn(e);if(t){var r=Wn(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Fn(this,n)}}function Fn(e,t){return!t||\"object\"!==Dn(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Wn(e){return(Wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Un=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(o,e);var t,n,a,r=Bn(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),r.call(this,e)}return t=o,(n=[{key:\"processPath\",value:function(e){var t=e.fullpath;\"/\"===t[t.length-1]&&(t=t.slice(0,t.length-1));var n=t.split(/\\//),a=[],r=this.props.baseStatePath||window.location.pathname.replace(/\\/cdap/,\"\");\"/\"===t?a.push({name:\"Root\",id:ke()(),link:\"\".concat(r,\"?prefix=/\")}):n.forEach((function(e,t){var o=n.slice(0,t+1).join(\"/\");if(\"\"===e)return o=\"/\",void a.push({id:ke()(),name:\"Root\",link:\"\".concat(r,\"?prefix=\").concat(o)});o=\"/\"!==o[o.length-1]?\"\".concat(o,\"/\"):o,a.push({id:ke()(),link:\"\".concat(r,\"?prefix=\").concat(o),name:e})})),this.setState({paths:a,originalPath:t})}}])&&Ln(t.prototype,n),a&&Ln(t,a),o}(an),Gn=Object(Et.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{fullpath:e.s3.prefix})}),(function(){return{onPathChange:function(e){var t=e.split(\"=\").pop();t=\"/\"!==t[t.length-1]?\"\".concat(t,\"/\"):t,Ke(t)}}}))(Un),Kn=n(221);n(2286);var zn=function(e){var t=e.bucketData,n=e.loading,a=e.truncated;if(n)return c.a.createElement(\"span\",null,\".\");var r=t.filter((function(e){return e.directory})).length,o=t.length-r;return a?c.a.createElement(\"div\",{className:\"truncated-listing-info-container\"},c.a.createElement(Kn.a,{target:function(){return c.a.createElement(s.a,{name:\"icon-exclamation-triangle\",className:\"text-warning\"})},showOn:\"Hover\",placement:\"left\",tag:\"span\"},ye.a.translate(\"features.DataPrep.DataPrepBrowser.S3Browser.TopPanel.ListingInfo.truncatedContentsTooltip\")),c.a.createElement(\"span\",null,ye.a.translate(\"features.DataPrep.DataPrepBrowser.S3Browser.TopPanel.ListingInfo.truncatedLabel\",{filesCount:o,dirsCount:r}))):c.a.createElement(\"span\",null,\" \",ye.a.translate(\"features.DataPrep.DataPrepBrowser.S3Browser.TopPanel.ListingInfo.label\",{filesCount:o,dirsCount:r}),\" \")};zn.propTypes={bucketData:r.a.arrayOf(r.a.object),truncated:r.a.bool,loading:r.a.bool};var Hn=Object(Et.connect)((function(e){return{bucketData:e.s3.activeBucketDetails,truncated:e.s3.truncated,loading:e.s3.loading}}))(zn),qn=function(e){var t=e.search,n=e.onChange;return c.a.createElement(Ee.Input,{placeholder:ye.a.translate(\"features.DataPrep.DataPrepBrowser.S3Browser.Search.placeholder\"),value:t,onChange:n})};qn.propTypes={search:r.a.string,onChange:r.a.func};var Vn=Object(Et.connect)((function(e){return{search:e.s3.search}}),(function(){return{onChange:function(e){qe(e.target.value)}}}))(qn);function Qn(e){return(Qn=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Yn(){return(Yn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Xn(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Zn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $n(e,t){return($n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jn(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=na(e);if(t){var r=na(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ea(this,n)}}function ea(e,t){return!t||\"object\"!==Qn(t)&&\"function\"!=typeof t?ta(e):t}function ta(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2288);var ra=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$n(e,t)}(o,e);var t,n,a,r=Jn(o);function o(){var e;Xn(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return aa(ta(e=r.call.apply(r,[this].concat(n))),\"onWorkspaceCreate\",(function(t){var n=ge.a.getState().selectedNamespace,a=me.getState().s3,r=a.connectionId,o=a.prefix;o.slice(1).split(\"/\").length>1&&(o=o.slice(0,o.slice(1).indexOf(\"/\")+1)),He();var c={\"Content-Type\":t.type},i={context:n,connectionId:r,activeBucket:o,key:t.path,lines:1e4,sampler:\"first\"};e.props.scope&&(i.scope=e.props.scope),be.a.readS3File(i,null,c).subscribe((function(t){var a=t.values[0].id;e.props.enableRouting&&Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a)),e.props.onWorkspaceCreate&&\"function\"==typeof e.props.onWorkspaceCreate&&e.props.onWorkspaceCreate(a)}),(function(e){xe(e)}))})),aa(ta(e),\"renderContentBody\",(function(){return e.props.enableRouting?c.a.createElement(Vt.Switch,null,c.a.createElement(Vt.Route,{path:\"\".concat(\"/ns/:namespace/connections/s3/:s3Id\"),render:function(){return c.a.createElement(jn,Yn({},e.props,{onWorkspaceCreate:e.onWorkspaceCreate}))}})):c.a.createElement(jn,Yn({},e.props,{onWorkspaceCreate:e.onWorkspaceCreate}))})),e}return t=o,(n=[{key:\"render\",value:function(){return c.a.createElement(Et.Provider,{store:me},c.a.createElement(\"div\",{className:\"s3-browser\"},this.props.enableRouting?c.a.createElement(It,{browserI18NName:\"S3Browser\",browserStateName:\"s3\",locationToPathInState:[\"prefix\"]}):null,c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"\".concat(\"features.DataPrep.DataPrepBrowser.S3Browser\",\".TopPanel.selectData\")),showPanelToggle:this.props.showPanelToggle}),c.a.createElement(\"div\",{className:p()(\"sub-panel\",{\"routing-disabled\":!this.props.enableRouting})},c.a.createElement(\"div\",{className:\"path-container\"},c.a.createElement(Gn,{baseStatePath:this.props.enableRouting?this.props.match.url:\"/\",enableRouting:this.props.enableRouting})),c.a.createElement(\"div\",{className:\"info-container\"},c.a.createElement(\"span\",{className:\"info\"},c.a.createElement(Hn,null)),c.a.createElement(\"div\",{className:\"search-container\"},c.a.createElement(Vn,null)))),c.a.createElement(\"div\",{className:\"s3-content\"},this.renderContentBody())))}}])&&Zn(t.prototype,n),a&&Zn(t,a),o}(o.Component);function oa(e){return(oa=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ca(){return(ca=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function ia(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function sa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pa(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=fa(e);if(t){var r=fa(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ua(this,n)}}function ua(e,t){return!t||\"object\"!==oa(t)&&\"function\"!=typeof t?da(e):t}function da(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aa(ra,\"propTypes\",{toggle:r.a.func,match:r.a.object,enableRouting:r.a.bool,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string]),showPanelToggle:r.a.bool}),aa(ra,\"defaultProps\",{enableRouting:!0});var ba=\"features.DataPrep.DataPrepBrowser.KafkaBrowser\";n(2290);var ga=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(o,e);var t,n,a,r=pa(o);function o(){var e;ia(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ma(da(e=r.call.apply(r,[this].concat(n))),\"state\",{connectionId:me.getState().kafka.connectionId,info:me.getState().kafka.info,loading:me.getState().kafka.loading,search:\"\",searchFocus:!0,error:null,topics:[]}),ma(da(e),\"eventEmitter\",Se()(Se.a)),ma(da(e),\"eventBasedFetchTopics\",(function(t){e.state.connectionId===t&&Le({name:Tt.KAFKA,id:t})})),ma(da(e),\"handleSearch\",(function(t){e.setState({search:t.target.value})})),e}return t=o,(n=[{key:\"componentDidMount\",value:function(){var e=this;this.eventEmitter.on(\"DATAPREP_CONNECTION_EDIT_KAFKA\",this.eventBasedFetchTopics),this.storeSubscription=me.subscribe((function(){var t=me.getState(),n=t.kafka;t.activeBrowser.name===Tt.KAFKA&&e.setState({info:n.info,connectionId:n.connectionId,topics:n.topics,loading:n.loading})}))}},{key:\"componentWillUnmount\",value:function(){this.eventEmitter.off(\"DATAPREP_CONNECTION_EDIT_KAFKA\",this.eventBasedFetchTopics),\"function\"==typeof this.storeSubscription&&this.storeSubscription()}},{key:\"prepTopic\",value:function(e){var t=this;this.setState({loading:!0});var n=ge.a.getState().selectedNamespace,a={context:n,connectionId:this.state.connectionId,topic:e,lines:100};this.props.scope&&(a.scope=this.props.scope),be.a.readTopic(a).subscribe((function(e){var a=e.values[0].id;t.props.onWorkspaceCreate&&\"function\"==typeof t.props.onWorkspaceCreate?t.props.onWorkspaceCreate(a):Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a))}),(function(e){xe(e)}))}},{key:\"renderEmpty\",value:function(){var e=this;return 0!==this.state.search.length?c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(ba,\".EmptyMessage.title\"),{searchText:this.state.search})),c.a.createElement(\"hr\",null),c.a.createElement(\"span\",null,\" \",ye.a.translate(\"\".concat(ba,\".EmptyMessage.suggestionTitle\")),\" \"),c.a.createElement(\"ul\",null,c.a.createElement(\"li\",null,c.a.createElement(\"span\",{className:\"link-text\",onClick:function(){e.setState({search:\"\",searchFocus:!0})}},ye.a.translate(\"\".concat(ba,\".EmptyMessage.clearLabel\"))),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(ba,\".EmptyMessage.suggestion1\"))))))):c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(ba,\".EmptyMessage.emptyKafka\"),{connectionName:this.state.connectionName}))))}},{key:\"renderContents\",value:function(e){var t=this;return e.length?c.a.createElement(\"div\",{className:\"kafka-content-table\"},c.a.createElement(\"div\",{className:\"kafka-content-header\"},c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12\"},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(ba,\".table.topics\")))))),c.a.createElement(\"div\",{className:\"kafka-content-body\"},e.map((function(e){return c.a.createElement(\"div\",{className:\"row content-row\",onClick:t.prepTopic.bind(t,e),key:e},c.a.createElement(\"div\",{className:\"col-12\"},c.a.createElement(\"span\",null,e)))})))):this.renderEmpty()}},{key:\"render\",value:function(){var e=this;if(this.state.loading)return c.a.createElement(ve.a,null);var t=this.state.topics;this.state.search&&(t=this.state.topics.filter((function(t){return-1!==t.toLowerCase().indexOf(e.state.search.toLowerCase())})));var n=function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e.props.enableRouting?c.a.createElement(It,ca({browserI18NName:\"KafkaBrowser\",browserStateName:\"kafka\"},n)):null};return c.a.createElement(\"div\",{className:\"kafka-browser\"},c.a.createElement(Et.Provider,{store:me},c.a.createElement(n,null)),c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"\".concat(ba,\".title\")),showPanelToggle:this.props.showPanelToggle}),c.a.createElement(kt.a,{condition:!this.state.error},c.a.createElement(\"div\",{className:\"kafka-browser-header\"},c.a.createElement(\"div\",{className:\"kafka-metadata\"},c.a.createElement(\"h5\",null,this.state.info.name),c.a.createElement(\"span\",{className:\"tables-count\"},ye.a.translate(\"\".concat(ba,\".topicCount\"),{count:this.state.topics.length}))),c.a.createElement(\"div\",{className:\"table-name-search\"},c.a.createElement(Ee.Input,{placeholder:ye.a.translate(\"\".concat(ba,\".searchPlaceholder\")),value:this.state.search,onChange:this.handleSearch,autoFocus:this.state.searchFocus})))),c.a.createElement(\"div\",{className:\"kafka-browser-content\"},this.renderContents(t)))}}])&&sa(t.prototype,n),a&&sa(t,a),o}(o.Component);function ha(e){return(ha=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sa(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=xa(e);if(t){var r=xa(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Oa(this,n)}}function Oa(e,t){return!t||\"object\"!==ha(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ma(ga,\"propTypes\",{toggle:r.a.func,enableRouting:r.a.bool,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string]),showPanelToggle:r.a.bool}),ma(ga,\"defaultProps\",{enableRouting:!0});var Ca=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(o,e);var t,n,a,r=Sa(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),r.call(this,e)}return t=o,(n=[{key:\"processPath\",value:function(e){var t=e.fullpath;\"/\"===t[t.length-1]&&(t=t.slice(0,t.length-1));var n=t.split(/\\//),a=[],r=this.props.baseStatePath||window.location.pathname.replace(/\\/cdap/,\"\");\"/\"===t?a.push({name:\"Root\",id:ke()(),link:\"\".concat(r,\"?prefix=/\")}):n.forEach((function(e,t){var o=n.slice(0,t+1).join(\"/\");if(\"\"===e)return o=\"/\",void a.push({id:ke()(),name:\"Root\",link:\"\".concat(r,\"?prefix=\").concat(o)});o=\"/\"!==o[o.length-1]?\"\".concat(o,\"/\"):o,a.push({id:ke()(),link:\"\".concat(r,\"?prefix=\").concat(o),name:e})})),this.setState({paths:a,originalPath:t})}}])&&Ea(t.prototype,n),a&&Ea(t,a),o}(an),Ia=Object(Et.connect)((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(n),!0).forEach((function(t){va(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ya(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{fullpath:e.gcs.prefix})}),(function(){return{onPathChange:function(e){var t=e.split(\"=\").pop();t=\"/\"!==t[t.length-1]?\"\".concat(t,\"/\"):t,Ze(t)}}}))(Ca),ka=function(e){var t=e.bucketData,n=e.loading,a=e.truncated;if(n)return c.a.createElement(\"span\",null,\".\");var r=t.filter((function(e){return e.directory})).length,o=t.length-r;return a?c.a.createElement(\"div\",{className:\"truncated-listing-info-container\"},c.a.createElement(Kn.a,{target:function(){return c.a.createElement(s.a,{name:\"icon-exclamation-triangle\",className:\"text-warning\"})},showOn:\"Hover\",placement:\"left\",tag:\"span\"},ye.a.translate(\"features.DataPrep.DataPrepBrowser.GCSBrowser.TopPanel.ListingInfo.truncatedContentsTooltip\")),c.a.createElement(\"span\",null,ye.a.translate(\"features.DataPrep.DataPrepBrowser.GCSBrowser.TopPanel.ListingInfo.truncatedLabel\",{filesCount:o,dirsCount:r}))):c.a.createElement(\"span\",null,\" \",ye.a.translate(\"features.DataPrep.DataPrepBrowser.GCSBrowser.TopPanel.ListingInfo.label\",{filesCount:o,dirsCount:r}),\" \")};ka.propTypes={bucketData:r.a.arrayOf(r.a.object),truncated:r.a.bool,loading:r.a.bool};var Na=Object(Et.connect)((function(e){return{bucketData:e.gcs.activeBucketDetails,truncated:e.gcs.truncated,loading:e.gcs.loading}}))(ka),Ta=function(e){var t=e.search,n=e.onChange;return c.a.createElement(Ee.Input,{placeholder:ye.a.translate(\"features.DataPrep.DataPrepBrowser.GCSBrowser.Search.placeholder\"),value:t,onChange:n,\"data-cy\":\"gcs-search-box\"})};Ta.propTypes={search:r.a.string,onChange:r.a.func};var _a=Object(Et.connect)((function(e){return{search:e.gcs.search}}),(function(){return{onChange:function(e){et(e.target.value)}}}))(Ta),Pa=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),ja=function(){return(ja=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Da=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function c(e){try{s(a.next(e))}catch(e){o(e)}}function i(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,i)}s((a=a.apply(e,t||[])).next())}))},Aa=function(e,t){var n,a,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},\"function\"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,a=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!(r=c.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(e,c)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},Ra=function(e){var t=\"function\"==typeof Symbol&&Symbol.iterator,n=t&&e[t],a=0;if(n)return n.call(e);if(e&&\"number\"==typeof e.length)return{next:function(){return e&&a>=e.length&&(e=void 0),{value:e&&e[a++],done:!e}}};throw new TypeError(t?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")};n(2292),Da(void 0,void 0,void 0,(function(){return Aa(this,(function(e){switch(e.label){case 0:return\"undefined\"!=typeof IntersectionObserver?[3,2]:[4,n.e(31).then(n.t.bind(null,2377,7))];case 1:return e.sent(),[3,3];case 2:Promise.resolve(),e.label=3;case 3:return[2]}}))}));var La=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={windowSize:t.DEFAULT_WINDOW_SIZE,data:n.props.data.map((function(e,t){return ja(ja({},e),{scrollId:t})}))},n.io=new IntersectionObserver((function(e){var a,r,o=n.state.windowSize;try{for(var c=Ra(e),i=c.next();!i.done;i=c.next()){var s=i.value,l=s.target.getAttribute(\"id\");l=l.split(\"-\").pop();var p=parseInt(l,10);s.isIntersecting&&(o=p+50>n.state.windowSize?p+t.DEFAULT_WINDOW_SIZE:p)}}catch(e){a={error:e}}finally{try{i&&!i.done&&(r=c.return)&&r.call(c)}finally{if(a)throw a.error}}o>n.state.windowSize&&n.setState({windowSize:o})}),{root:document.getElementById(\"gcs-buckets-container\"),threshold:[0,1]}),n.getPrefix=function(e,t){return e.path?e.path:\"\"+t+e.name+\"/\"},n.onClickHandler=function(e,t,a,r,o){return a.directory?e?void 0:(a.directory&&Ze(n.getPrefix(a,r)),Object(d.G)(o),!1):(a.wrangle&&n.props.onWorkspaceCreate(a),Object(d.G)(o),!1)},n}return Pa(t,e),t.prototype.componentDidMount=function(){var e=this;Array.from(document.querySelectorAll(\"#gcs-buckets-container .row\")).forEach((function(t){e.io.observe(t)}))},t.prototype.componentDidUpdate=function(){var e=this;Array.from(document.querySelectorAll(\"#gcs-buckets-container .row\")).forEach((function(t){e.io.observe(t)}))},t.prototype.componentWillReceiveProps=function(e){this.setState({data:e.data.map((function(e,t){return ja(ja({},e),{scrollId:t})}))})},t.prototype.renderData=function(){var e=this,t=this.props,n=t.enableRouting,a=t.onWorkspaceCreate,r=t.prefix,c=this.state.data,i=n?Vt.Link:\"div\",l=window.location.pathname.replace(/\\/cdap/,\"\"),u=ln.a.getState().dataprep.insights,f=u.connectionid,m=u.uri,b=m?m.substring(4):\"\";return n?o.createElement(\"div\",{className:\"gcs-buckets\",id:\"gcs-buckets-container\"},c.slice(0,this.state.windowSize).map((function(t,c){var u=Object(d.s)(t.updated,!1),m=Object(d.j)(t.size,d.a,!0)||\"--\",g=t.directory?ye.a.translate(\"features.DataPrep.DataPrepBrowser.GCSBrowser.BrowserData.Content.directory\"):t.type,h=e.getPrefix(t,r),y=f===e.props.connectionId&&h===b;return\"UNKNOWN\"===t.type&&(g=\"--\"),o.createElement(i,{key:t.name,className:p()(\"content-row\",{disabled:!t.directory&&!t.wrangle,selected:y}),to:l+\"?prefix=\"+h,onClick:e.onClickHandler.bind(null,n,a,t,r)},o.createElement(\"div\",{className:\"row\",id:\"gcsconnection-\"+t.scrollId},o.createElement(\"div\",{className:\"col-3\"},o.createElement(s.a,{name:t.directory?\"icon-folder-o\":\"icon-file-o\"}),t.name),o.createElement(\"div\",{className:\"col-3\"},g),o.createElement(\"div\",{className:\"col-3\"},m),o.createElement(\"div\",{className:\"col-3\"},u)))}))):o.createElement(\"div\",{className:\"gcs-buckets\",id:\"gcs-buckets-container\"},c.slice(0,this.state.windowSize).map((function(t,c){var u=e.getPrefix(t,r),d=f===e.props.connectionId&&u===b;return o.createElement(i,{key:t.name,className:p()(\"content-row\",{disabled:!t.directory&&!t.wrangle,selected:d}),to:l+\"?prefix=\"+e.getPrefix(t,r),onClick:e.onClickHandler.bind(null,n,a,t,r)},o.createElement(\"div\",{className:\"row\",id:\"gcsconnection-\"+t.scrollId},o.createElement(\"div\",{className:\"col-12\"},o.createElement(s.a,{name:t.directory?\"icon-folder-o\":\"icon-file-o\"}),t.name)))})))},t.prototype.renderContents=function(){var e=this.props,t=e.search,n=e.data,a=e.clearSearch;return n.length?this.renderData():o.createElement(\"div\",{className:\"gcs-buckets empty-message\"},o.createElement(\"div\",{className:\"row\"},o.createElement(\"div\",{className:\"col-12\"},o.createElement(Sn.a,{searchText:t},o.createElement(\"ul\",null,o.createElement(\"li\",null,o.createElement(\"span\",{className:\"link-text\",onClick:a},ye.a.translate(\"features.EmptyMessageContainer.clearLabel\")),o.createElement(\"span\",null,ye.a.translate(\"features.DataPrep.DataPrepBrowser.GCSBrowser.BrowserData.Content.EmptymessageContainer.suggestion1\"))))))))},t.prototype.render=function(){return o.createElement(\"div\",{className:\"gcs-content-body\"},this.renderContents())},t.DEFAULT_WINDOW_SIZE=100,t}(o.PureComponent),Ma=\"features.DataPrep.DataPrepBrowser.GCSBrowser.BrowserData\",Ba={clearSearch:r.a.func,data:r.a.arrayOf(r.a.object),search:r.a.string,loading:r.a.bool,enableRouting:r.a.bool,prefix:r.a.string,onWorkspaceCreate:r.a.func,connectionId:r.a.string},Fa=function(e){return e.enableRouting?c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Ma,\".Headers.Name\"))),c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Ma,\".Headers.Type\"))),c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Ma,\".Headers.Size\"))),c.a.createElement(\"div\",{className:\"col-3\"},ye.a.translate(\"\".concat(Ma,\".Headers.LastModified\")))):c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12\"},ye.a.translate(\"\".concat(Ma,\".Headers.Name\"))))};Fa.propTypes=Ba;var Wa=function(e){var t=e.data,n=e.search,a=e.clearSearch,r=e.loading,o=e.prefix,i=e.enableRouting,s=e.onWorkspaceCreate,l=e.connectionId;if(r)return c.a.createElement(ve.a,null);if(!t.length&&!n.length)return c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(Ma,\".Content.emptyBucket\")))));var p=t.filter((function(e){if(n&&n.length&&e.name){var t=e.name.indexOf(n);return e.type&&\"bucket\"===e.type?-1!==t||e.owner&&-1!==e.owner.indexOf(n):-1!==t||e.path&&-1!==e.path.indexOf(n)}return!0}));return c.a.createElement(\"div\",null,c.a.createElement(kt.a,{condition:p.length},c.a.createElement(\"div\",{className:\"gcs-content-header\"},c.a.createElement(Fa,{enableRouting:i}))),c.a.createElement(La,{search:n,clearSearch:a,data:p,prefix:o,enableRouting:i,onWorkspaceCreate:s,connectionId:l}))};Wa.propTypes=Ba;var Ua=Object(Et.connect)((function(e,t){var n=t.enableRouting,a=void 0===n||n,r=t.onWorkspaceCreate,o=void 0===r?function(){}:r;return{data:e.gcs.activeBucketDetails,search:e.gcs.search,loading:e.gcs.loading,prefix:e.gcs.prefix,connectionId:e.gcs.connectionId,enableRouting:a,onWorkspaceCreate:o}}),(function(){return{clearSearch:function(){et(\"\")}}}))(Wa);function Ga(e){return(Ga=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ka(){return(Ka=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function za(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ha(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qa(e,t){return(qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Xa(e);if(t){var r=Xa(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Qa(this,n)}}function Qa(e,t){return!t||\"object\"!==Ga(t)&&\"function\"!=typeof t?Ya(e):t}function Ya(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Xa(e){return(Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2294);var $a=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qa(e,t)}(o,e);var t,n,a,r=Va(o);function o(){var e;za(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Za(Ya(e=r.call.apply(r,[this].concat(n))),\"onWorkspaceCreate\",(function(t){var n=ge.a.getState().selectedNamespace,a=me.getState().gcs.connectionId;Je();var r={\"Content-Type\":t.type},o={context:n,connectionId:a,activeBucket:t.bucket,blob:t.blob,lines:1e4,sampler:\"first\"};e.props.scope&&(o.scope=e.props.scope),be.a.readGCSFile(o,null,r).subscribe((function(t){var a=t.values[0].id;e.props.enableRouting&&Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a)),e.props.onWorkspaceCreate&&\"function\"==typeof e.props.onWorkspaceCreate&&e.props.onWorkspaceCreate(a)}),(function(e){xe(e)}))})),Za(Ya(e),\"renderContentBody\",(function(){return e.props.enableRouting?c.a.createElement(Vt.Switch,null,c.a.createElement(Vt.Route,{path:\"\".concat(\"/ns/:namespace/connections/gcs/:gcsId\"),render:function(){return c.a.createElement(Ua,Ka({},e.props,{onWorkspaceCreate:e.onWorkspaceCreate}))}})):c.a.createElement(Ua,Ka({},e.props,{onWorkspaceCreate:e.onWorkspaceCreate}))})),e}return t=o,(n=[{key:\"render\",value:function(){return c.a.createElement(Et.Provider,{store:me},c.a.createElement(\"div\",{className:\"gcs-browser\"},this.props.enableRouting?c.a.createElement(It,{browserI18NName:\"GCSBrowser\",browserStateName:\"gcs\",locationToPathInState:[\"prefix\"]}):null,c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"\".concat(\"features.DataPrep.DataPrepBrowser.GCSBrowser\",\".TopPanel.selectData\")),showPanelToggle:this.props.showPanelToggle}),c.a.createElement(\"div\",{className:p()(\"sub-panel\",{\"routing-disabled\":!this.props.enableRouting})},c.a.createElement(\"div\",{className:\"path-container\"},c.a.createElement(Ia,{baseStatePath:this.props.enableRouting?this.props.match.url:\"/\",enableRouting:this.props.enableRouting})),c.a.createElement(\"div\",{className:\"info-container\"},c.a.createElement(\"span\",{className:\"info\"},c.a.createElement(Na,null)),c.a.createElement(\"div\",{className:\"search-container\"},c.a.createElement(_a,null)))),c.a.createElement(\"div\",{className:\"gcs-content\"},this.renderContentBody())))}}])&&Ha(t.prototype,n),a&&Ha(t,a),o}(o.Component);function Ja(e){return(Ja=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function er(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function tr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=cr(e);if(t){var r=cr(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return rr(this,n)}}function rr(e,t){return!t||\"object\"!==Ja(t)&&\"function\"!=typeof t?or(e):t}function or(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function cr(e){return(cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Za($a,\"propTypes\",{toggle:r.a.func,location:r.a.object,match:r.a.object,enableRouting:r.a.bool,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string]),showPanelToggle:r.a.bool}),Za($a,\"defaultProps\",{enableRouting:!0});var sr=\"features.DataPrep.DataPrepBrowser.BigQueryBrowser\",lr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}(o,e);var t,n,a,r=ar(o);function o(){var e;er(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return ir(or(e=r.call.apply(r,[this].concat(n))),\"state\",{connectionId:e.props.connectionId||Object(d.E)(e.props,\"match\",\"params\",\"connectionId\")}),ir(or(e),\"clickHandler\",(function(t){e.props.enableRouting||at(e.props.connectionId,t)})),e}return t=o,(n=[{key:\"componentDidMount\",value:function(){if(this.props.enableRouting){var e=this.props.match.params.connectionId;nt(e)}}},{key:\"componentDidUpdate\",value:function(){var e=this.props.connectionId||Object(d.E)(this.props,\"match\",\"params\",\"connectionId\");e!==this.state.connectionId&&(nt(e),this.setState({connectionId:e}))}},{key:\"render\",value:function(){var e=this;if(this.props.loading)return c.a.createElement(ve.a,null);var t=this.props.datasetList;if(!t.length)return c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(sr,\".EmptyMessage.emptyDatasetList\"),{connectionName:this.props.connectionId}))));var n=Object(ge.d)();return c.a.createElement(\"div\",{className:\"list-view-container\"},c.a.createElement(\"div\",{className:\"sub-panel\"},ye.a.translate(\"\".concat(sr,\".datasetCount\"),{context:t.length})),c.a.createElement(\"div\",{className:\"list-table\"},c.a.createElement(\"div\",{className:\"table-header\"},c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12\"},ye.a.translate(\"\".concat(sr,\".name\"))))),c.a.createElement(\"div\",{className:\"table-body\"},t.map((function(t){var a=e.props.enableRouting?Vt.Link:\"div\",r=\"/ns/\".concat(n,\"/connections/bigquery/\").concat(e.props.connectionId,\"/datasets/\").concat(t.name);return c.a.createElement(a,{key:t.name,to:r,onClick:e.clickHandler.bind(null,t.name)},c.a.createElement(\"div\",{className:\"row content-row\"},c.a.createElement(\"div\",{className:\"col-12\"},c.a.createElement(s.a,{name:\"icon-database\"}),t.name)))})))))}}])&&tr(t.prototype,n),a&&tr(t,a),o}(o.Component);ir(lr,\"propTypes\",{datasetList:r.a.array,connectionId:r.a.string,enableRouting:r.a.bool,loading:r.a.bool,match:r.a.object}),ir(lr,\"defaultProps\",{enableRouting:!0});var pr=Object(Et.connect)((function(e){return{datasetList:e.bigquery.datasetList,connectionId:e.bigquery.connectionId,loading:e.bigquery.loading}}))(lr);function ur(e){return(ur=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function dr(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function fr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mr(e,t){return(mr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function br(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=yr(e);if(t){var r=yr(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return gr(this,n)}}function gr(e,t){return!t||\"object\"!==ur(t)&&\"function\"!=typeof t?hr(e):t}function hr(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Er=\"features.DataPrep.DataPrepBrowser.BigQueryBrowser\",wr=function(e){var t=e.tableList,n=e.datasetId,a=e.createWorkspace;return t.length?c.a.createElement(\"div\",{className:\"list-table\"},c.a.createElement(\"div\",{className:\"table-header\"},c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-12\"},ye.a.translate(\"\".concat(Er,\".name\"))))),c.a.createElement(\"div\",{className:\"table-body\"},t.map((function(e){return c.a.createElement(\"div\",{key:e.id,onClick:a.bind(null,e.id)},c.a.createElement(\"div\",{className:\"row content-row\"},c.a.createElement(\"div\",{className:\"col-12\"},c.a.createElement(s.a,{name:\"icon-table\"}),e.id)))})))):c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(Er,\".EmptyMessage.emptyTableList\"),{datasetName:n}))))};wr.propTypes={tableList:r.a.array,datasetId:r.a.string,createWorkspace:r.a.func};var Sr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mr(e,t)}(o,e);var t,n,a,r=br(o);function o(){var e;dr(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vr(hr(e=r.call.apply(r,[this].concat(n))),\"createWorkspace\",(function(t){rt();var n=Object(ge.d)(),a={context:n,connectionId:e.props.connectionId,datasetId:e.props.datasetId,tableId:t};e.props.scope&&(a.scope=e.props.scope),be.a.readBigQueryTable(a).subscribe((function(t){var a=Object(d.E)(t,\"values\",0,\"id\");e.props.onWorkspaceCreate&&\"function\"==typeof e.props.onWorkspaceCreate?e.props.onWorkspaceCreate(a):Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a))}),(function(e){xe(e)}))})),e}return t=o,(n=[{key:\"componentWillMount\",value:function(){if(this.props.enableRouting){var e=this.props.match.params,t=e.datasetId,n=e.connectionId;at(n,t)}}},{key:\"render\",value:function(){if(this.props.loading)return c.a.createElement(ve.a,null);var e=this.props.enableRouting?Vt.Link:\"span\",t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections/bigquery/\").concat(this.props.connectionId);return c.a.createElement(\"div\",{className:\"list-view-container\"},c.a.createElement(\"div\",{className:\"sub-panel\"},c.a.createElement(\"div\",{className:\"path\"},c.a.createElement(e,{to:n,className:\"dataset-path\",onClick:nt.bind(null,this.props.connectionId)},ye.a.translate(\"\".concat(Er,\".datasets\"))),c.a.createElement(\"span\",null,\" / \"),c.a.createElement(\"span\",null,this.props.datasetId))),c.a.createElement(wr,{tableList:this.props.tableList,datasetId:this.props.datasetId,createWorkspace:this.createWorkspace}))}}])&&fr(t.prototype,n),a&&fr(t,a),o}(o.Component);vr(Sr,\"propTypes\",{tableList:r.a.array,datasetId:r.a.string,connectionId:r.a.string,enableRouting:r.a.bool,match:r.a.object,loading:r.a.bool,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string])}),vr(Sr,\"defaultProps\",{enableRouting:!0});var Or=Object(Et.connect)((function(e){return{tableList:e.bigquery.tableList,datasetId:e.bigquery.datasetId,connectionId:e.bigquery.connectionId,loading:e.bigquery.loading}}))(Sr),xr=function(e){var t=e.datasetId,n=e.onWorkspaceCreate,a=e.scope;return t?c.a.createElement(Or,{enableRouting:!1,onWorkspaceCreate:n,scope:a}):c.a.createElement(pr,{enableRouting:!1})};xr.propTypes={datasetId:r.a.string,scope:r.a.oneOfType([r.a.bool,r.a.string]),onWorkspaceCreate:r.a.func};var Cr=Object(Et.connect)((function(e){return{datasetId:e.bigquery.datasetId}}))(xr);function Ir(e){return(Ir=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function kr(){return(kr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Nr(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Tr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _r(e,t){return(_r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pr(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Dr(e);if(t){var r=Dr(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return jr(this,n)}}function jr(e,t){return!t||\"object\"!==Ir(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2296);var Rr=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_r(e,t)}(o,e);var t,n,a,r=Pr(o);function o(){return Nr(this,o),r.apply(this,arguments)}return t=o,(n=[{key:\"render\",value:function(){var e=this;return c.a.createElement(Et.Provider,{store:me},c.a.createElement(\"div\",{className:\"bigquery-browser\"},this.props.enableRouting?c.a.createElement(It,{browserI18NName:\"BigQueryBrowser\",browserStateName:\"bigquery\",locationToPathInState:[\"datasetId\"]}):null,c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"\".concat(\"features.DataPrep.DataPrepBrowser.BigQueryBrowser\",\".title\")),showPanelToggle:this.props.showPanelToggle}),this.props.enableRouting?c.a.createElement(Vt.Switch,null,c.a.createElement(Vt.Route,{exact:!0,path:\"/ns/:namespace/connections/bigquery/:connectionId\",component:pr}),c.a.createElement(Vt.Route,{exact:!0,path:\"/ns/:namespace/connections/bigquery/:connectionId/datasets/:datasetId\",render:function(t){return c.a.createElement(Or,kr({},t,{scope:e.props.scope}))}})):c.a.createElement(Cr,{onWorkspaceCreate:this.props.onWorkspaceCreate,scope:this.props.scope})))}}])&&Tr(t.prototype,n),a&&Tr(t,a),o}(o.Component);Ar(Rr,\"propTypes\",{toggle:r.a.func,onWorkspaceCreate:r.a.func,enableRouting:r.a.bool,scope:r.a.oneOfType([r.a.bool,r.a.string]),showPanelToggle:r.a.bool}),Ar(Rr,\"defaultProps\",{enableRouting:!0});var Lr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Mr=\"features.DataPrep.DataPrepBrowser.SpannerBrowser\",Br=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={connectionId:t.props.connectionId||Object(d.E)(t.props,\"match\",\"params\",\"connectionId\")},t.clickHandler=function(e){t.props.enableRouting||it(t.props.connectionId,e)},t}return Lr(t,e),t.prototype.componentDidMount=function(){if(this.props.enableRouting){var e=this.props.match.params.connectionId;ct(e)}},t.prototype.componentDidUpdate=function(){var e=this.props.connectionId||Object(d.E)(this.props,\"match\",\"params\",\"connectionId\");e!==this.state.connectionId&&(ct(e),this.setState({connectionId:e}))},t.prototype.render=function(){var e=this;if(this.props.loading)return o.createElement(ve.a,null);var t=this.props.instanceList,n=this.props.connectionId||Object(d.E)(this.props,\"match\",\"params\",\"connectionId\");if(!t.length)return o.createElement(\"div\",{className:\"empty-search-container\"},o.createElement(\"div\",{className:\"empty-search text-center\"},o.createElement(\"strong\",null,ye.a.translate(Mr+\".EmptyMessage.emptyInstanceList\",{connectionName:n}))));var a=Object(ge.d)();return o.createElement(\"div\",{className:\"list-view-container\"},o.createElement(\"div\",{className:\"sub-panel\"},ye.a.translate(Mr+\".instanceCount\",{context:t.length})),o.createElement(\"div\",{className:\"list-table\"},o.createElement(\"div\",{className:\"table-header\"},o.createElement(\"div\",{className:\"row\"},o.createElement(\"div\",{className:\"col-12\"},ye.a.translate(Mr+\".name\")))),o.createElement(\"div\",{className:\"table-body\"},t.map((function(t){var r=e.props.enableRouting?Vt.Link:\"div\",c=\"/ns/\"+a+\"/connections/spanner/\"+n+\"/instances/\"+t.name;return o.createElement(r,{key:t.name,to:c,onClick:e.clickHandler.bind(null,t.name)},o.createElement(\"div\",{className:\"row content-row\"},o.createElement(\"div\",{className:\"col-12\"},o.createElement(s.a,{name:\"icon-database\",className:\"instance-icon\"}),t.name)))})))))},t.defaultProps={enableRouting:!0},t}(o.PureComponent),Fr=Object(Et.connect)((function(e){return{instanceList:e.spanner.instanceList,connectionId:e.spanner.connectionId,loading:e.spanner.loading}}))(Br),Wr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Ur=\"features.DataPrep.DataPrepBrowser.SpannerBrowser\",Gr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clickHandler=function(e){if(!t.props.enableRouting){var n=t.props,a=n.connectionId,r=n.instanceId;st(a,r,e)}},t}return Wr(t,e),t.prototype.componentDidMount=function(){if(this.props.enableRouting){var e=this.props.match.params,t=e.connectionId,n=e.instanceId;it(t,n)}},t.prototype.render=function(){var e=this;if(this.props.loading)return o.createElement(ve.a,null);var t=this.props.databaseList,n=this.props.connectionId||Object(d.E)(this.props,\"match\",\"params\",\"connectionId\"),a=this.props.instanceId||Object(d.E)(this.props,\"match\",\"params\",\"instanceId\");if(!t.length)return o.createElement(\"div\",{className:\"empty-search-container\"},o.createElement(\"div\",{className:\"empty-search text-center\"},o.createElement(\"strong\",null,ye.a.translate(Ur+\".EmptyMessage.emptyDatabaseList\",{connectionName:n,instanceName:a}))));var r=this.props.enableRouting?Vt.Link:\"span\",c=Object(ge.d)(),i=\"/ns/\"+c+\"/connections/spanner/\"+n;return o.createElement(\"div\",{className:\"list-view-container\"},o.createElement(\"div\",{className:\"sub-panel\"},o.createElement(\"div\",{className:\"path\"},o.createElement(r,{to:i,className:\"instance-path\",onClick:ct.bind(null,n)},ye.a.translate(Ur+\".instances\")),o.createElement(\"span\",null,\" / \"),o.createElement(\"span\",null,a)),o.createElement(\"div\",null,ye.a.translate(Ur+\".databaseCount\",{context:t.length}))),o.createElement(\"div\",{className:\"list-table\"},o.createElement(\"div\",{className:\"table-header\"},o.createElement(\"div\",{className:\"row\"},o.createElement(\"div\",{className:\"col-12\"},ye.a.translate(Ur+\".name\")))),o.createElement(\"div\",{className:\"table-body\"},t.map((function(t){var r=e.props.enableRouting?Vt.Link:\"div\",i=\"/ns/\"+c+\"/connections/spanner/\"+n+\"/instances/\"+a+\"/databases/\"+t.name;return o.createElement(r,{key:t.name,to:i,onClick:e.clickHandler.bind(null,t.name)},o.createElement(\"div\",{className:\"row content-row\"},o.createElement(\"div\",{className:\"col-12\"},o.createElement(s.a,{name:\"icon-database\"}),t.name)))})))))},t.defaultProps={enableRouting:!0},t}(o.PureComponent),Kr=Object(Et.connect)((function(e){return{instanceId:e.spanner.instanceId,databaseList:e.spanner.databaseList,connectionId:e.spanner.connectionId,loading:e.spanner.loading}}))(Gr),zr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Hr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return zr(t,e),t.prototype.componentDidMount=function(){if(this.props.enableRouting){var e=this.props.match.params,t=e.connectionId,n=e.instanceId,a=e.databaseId;st(t,n,a)}},t.prototype.createWorkspace=function(e){var t=this;lt();var n=Object(ge.d)(),a=this.props.connectionId||Object(d.E)(this.props,\"match\",\"params\",\"connectionId\"),r=this.props.instanceId||Object(d.E)(this.props,\"match\",\"params\",\"instanceId\"),o=this.props.databaseId||Object(d.E)(this.props,\"match\",\"params\",\"databaseId\"),c={context:n,connectionId:a,instanceId:r,databaseId:o,tableId:e};this.props.scope&&(c.scope=this.props.scope),be.a.readSpannerTable(c).subscribe((function(e){var a=Object(d.E)(e,\"values\",0,\"id\");\"function\"!=typeof t.props.onWorkspaceCreate?Dt.a.push(\"/ns/\"+n+\"/wrangler/\"+a):t.props.onWorkspaceCreate(a)}),(function(e){xe(e)}))},t.prototype.render=function(){var e=this;if(this.props.loading)return o.createElement(ve.a,null);var t=this.props.tableList,n=this.props.connectionId||Object(d.E)(this.props,\"match\",\"params\",\"connectionId\"),a=this.props.instanceId||Object(d.E)(this.props,\"match\",\"params\",\"instanceId\"),r=this.props.databaseId||Object(d.E)(this.props,\"match\",\"params\",\"databaseId\");if(!t.length)return o.createElement(\"div\",{className:\"empty-search-container\"},o.createElement(\"div\",{className:\"empty-search text-center\"},o.createElement(\"strong\",null,ye.a.translate(\"features.DataPrep.DataPrepBrowser.SpannerBrowser.EmptyMessage.emptyTableList\",{connectionName:n,instanceName:a,name:r}))));var c=this.props.enableRouting?Vt.Link:\"span\",i=\"/ns/\"+Object(ge.d)()+\"/connections/spanner/\"+n,l=i+\"/instances/\"+a;return o.createElement(\"div\",{className:\"list-view-container\"},o.createElement(\"div\",{className:\"sub-panel\"},o.createElement(\"div\",{className:\"path\"},o.createElement(c,{to:i,className:\"instance-path\",onClick:ct.bind(null,n)},ye.a.translate(\"features.DataPrep.DataPrepBrowser.SpannerBrowser.instances\")),o.createElement(\"span\",null,\" / \"),o.createElement(c,{to:l,className:\"database-path\",onClick:it.bind(null,n,a)},a),o.createElement(\"span\",null,\" / \"),o.createElement(\"span\",null,r)),o.createElement(\"div\",null,ye.a.translate(\"features.DataPrep.DataPrepBrowser.SpannerBrowser.tableCount\",{context:t.length}))),o.createElement(\"div\",{className:\"list-table\"},o.createElement(\"div\",{className:\"table-header\"},o.createElement(\"div\",{className:\"row\"},o.createElement(\"div\",{className:\"col-12\"},ye.a.translate(\"features.DataPrep.DataPrepBrowser.SpannerBrowser.name\")))),o.createElement(\"div\",{className:\"table-body\"},t.map((function(t){return o.createElement(\"div\",{key:t.name,onClick:e.createWorkspace.bind(e,t.name)},o.createElement(\"div\",{className:\"row content-row\"},o.createElement(\"div\",{className:\"col-12\"},o.createElement(s.a,{name:\"icon-table\"}),t.name)))})))))},t.defaultProps={enableRouting:!0},t}(o.PureComponent),qr=Object(Et.connect)((function(e){return{instanceId:e.spanner.instanceId,tableList:e.spanner.tableList,connectionId:e.spanner.connectionId,databaseId:e.spanner.databaseId,loading:e.spanner.loading}}))(Hr),Vr=Object(Et.connect)((function(e){return{instanceId:e.spanner.instanceId,databaseId:e.spanner.databaseId}}))((function(e){var t=e.instanceId,n=e.databaseId,a=e.onWorkspaceCreate,r=e.scope;return n?o.createElement(qr,{enableRouting:!1,onWorkspaceCreate:a,scope:r}):t?o.createElement(Kr,{enableRouting:!1}):o.createElement(Fr,{enableRouting:!1})})),Qr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Yr=function(){return(Yr=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};n(2298);var Xr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Qr(t,e),t.prototype.render=function(){var e=this,t=\"/ns/:namespace/connections/spanner/:connectionId\",n=t+\"/instances/:instanceId\";return o.createElement(Et.Provider,{store:me},o.createElement(\"div\",{className:\"spanner-browser\"},this.props.enableRouting?o.createElement(It,{browserI18NName:\"SpannerBrowser\",browserStateName:\"spanner\",locationToPathInState:[\"datasetId\"]}):null,o.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"features.DataPrep.DataPrepBrowser.SpannerBrowser.title\"),showPanelToggle:this.props.showPanelToggle}),this.props.enableRouting?o.createElement(Vt.Switch,null,o.createElement(Vt.Route,{exact:!0,path:t,component:Fr}),o.createElement(Vt.Route,{exact:!0,path:n,component:Kr}),o.createElement(Vt.Route,{exact:!0,path:\"/ns/:namespace/connections/spanner/:connectionId/instances/:instanceId/databases/:databaseId\",render:function(t){return o.createElement(qr,Yr({},t,{scope:e.props.scope}))}})):o.createElement(Vr,{onWorkspaceCreate:this.props.onWorkspaceCreate,scope:this.props.scope})))},t.defaultProps={enableRouting:!0},t}(o.PureComponent);function Zr(e){return(Zr=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function $r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Jr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function eo(e,t){return(eo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function to(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ro(e);if(t){var r=ro(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return no(this,n)}}function no(e,t){return!t||\"object\"!==Zr(t)&&\"function\"!=typeof t?ao(e):t}function ao(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var co=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eo(e,t)}(o,e);var t,n,a,r=to(o);function o(){var e;$r(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return oo(ao(e=r.call.apply(r,[this].concat(n))),\"state\",{contents:[],path:\"\",statePath:Object(d.E)(e.props,\"match\",\"url\")||\"\",loading:!0,search:\"\",sort:\"name\",sortOrder:\"asc\",searchFocus:!0,connectionId:me.getState().adls.connectionId}),oo(ao(e),\"preventPropagation\",(function(t){e.props.enableRouting||Object(d.G)(t)})),oo(ao(e),\"handleSearch\",(function(t){e.setState({search:t.target.value})})),e}return t=o,(n=[{key:\"parsePath\",value:function(){var e=this;if(this._isMounted=!0,this.props.enableRouting)this.fetchADLSDirectory(this.props);else{var t=this.getFilePath();this.dataprepSubscription=ln.a.subscribe((function(){var t=e.getFilePath();jt()(t)||t===e.state.path||ft(t)})),ft(t)}}},{key:\"componentDidMount\",value:function(){var e=this;this.parsePath(),this.browserStoreSubscription=me.subscribe((function(){var t=me.getState(),n=t.adls;t.activeBrowser.name===Tt.ADLS&&e._isMounted&&e.setState({contents:n.contents,info:n.info,connectionId:n.connectionId,loading:n.loading,path:n.path,search:n.search})}))}},{key:\"componentWillUnmount\",value:function(){this._isMounted=!1,\"function\"==typeof this.dataprepSubscription&&this.dataprepSubscription(),\"function\"==typeof this.browserStoreSubscription&&this.browserStoreSubscription(),Object(d.E)(this.explorePathObservable,\"unsubscribe\")&&\"function\"==typeof this.explorePathObservable.unsubscribe&&this.explorePathObservable.unsubscribe(),Ce(),Oe({name:\"\"})}},{key:\"componentWillReceiveProps\",value:function(e){if(this.props.enableRouting)this.fetchADLSDirectory(e);else{var t=this.getFilePath();jt()(t)||t===this.state.path||ft(t)}}},{key:\"getFilePath\",value:function(){var e=ln.a.getState().dataprep.workspaceInfo,t=Object(d.E)(e,\"properties\",\"path\");return t=sn()(t)?this.state.path:t.slice(0,un()(t,\"/\")+1),(sn()(t)||\"file\"!==Object(d.E)(e,\"properties\",\"connection\"))&&(t=\"/\"),t}},{key:\"fetchADLSDirectory\",value:function(e){var t;this.props.noState?t=this.props.initialDirectoryPath:(Object(d.E)(e,\"match\",\"url\")&&(t=(t=window.location.pathname.replace(/\\/cdap/,\"\").slice(e.match.url.length))||this.props.initialDirectoryPath||\"/\"),t!==this.state.path&&t&&ft(t))}},{key:\"orderBy\",value:function(e){e!==this.state.sort?this.setState({sort:e,sortOrder:\"asc\"}):this.setState({sortOrder:\"asc\"===this.state.sortOrder?\"desc\":\"asc\"})}},{key:\"ingestFile\",value:function(e){var t=this,n=ge.a.getState().selectedNamespace,a=this.props.scope,r={context:n,path:e.path,lines:1e3,sampler:\"\",fraction:10,connectionId:me.getState().adls.connectionId};a&&(\"string\"==typeof a?r.scope=a:\"boolean\"==typeof a&&(r.scope=\"mmds\")),bt(),be.a.adlsReadFile(r,null,{\"Content-Type\":\"text/plain\"}).subscribe((function(e){var a=e.values[0].id;t.props.onWorkspaceCreate&&\"function\"==typeof t.props.onWorkspaceCreate?t.props.onWorkspaceCreate(a):Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(a))}),(function(e){xe(e)}))}},{key:\"renderCollapsedContent\",value:function(e){return c.a.createElement(\"div\",{key:e.uniqueId,className:p()(\"row content-row\",{disabled:!e.directory&&!e.wrangle})},c.a.createElement(\"div\",{className:\"col-8 name\"},c.a.createElement(\"span\",{className:p()(\"type-icon fa fa-fw\",{\"folder-icon fa-folder-o\":e.directory,\"file-icon fa-file-o\":!e.directory})}),c.a.createElement(\"span\",{title:e.name},e.name)),c.a.createElement(\"div\",{className:\"col-4\"},c.a.createElement(\"span\",{title:e.type},e.type)))}},{key:\"renderRowContent\",value:function(e){return this.props.noState||!this.props.enableRouting?this.renderCollapsedContent(e):c.a.createElement(\"div\",{key:e.uniqueId,className:p()(\"row content-row\",{disabled:!e.directory&&!e.wrangle})},c.a.createElement(\"div\",{className:\"col-3 name\"},c.a.createElement(\"span\",{className:p()(\"type-icon fa fa-fw\",{\"folder-icon fa-folder-o\":e.directory,\"file-icon fa-file-o\":!e.directory})}),c.a.createElement(\"span\",{title:e.name},e.name)),c.a.createElement(\"div\",{className:\"col-2\"},c.a.createElement(\"span\",{title:e.type},e.type)),c.a.createElement(\"div\",{className:\"col-1\"},c.a.createElement(\"span\",{title:e.displaySize},e.directory?\"--\":e.displaySize)),c.a.createElement(\"div\",{className:\"col-2\"},c.a.createElement(\"span\",{title:e[\"last-modified\"]},e[\"last-modified\"])),c.a.createElement(\"div\",{className:\"col-1\"},c.a.createElement(\"span\",{title:e.owner},e.owner)),c.a.createElement(\"div\",{className:\"col-1\"},c.a.createElement(\"span\",{title:e.group},e.group)),c.a.createElement(\"div\",{className:\"col-2\"},c.a.createElement(\"span\",{title:e.permission},e.permission)))}},{key:\"renderDirectory\",value:function(e){if(this.props.noState||!this.props.enableRouting)return c.a.createElement(\"div\",{key:e.uniqueId,className:\"row-container\",onClick:ft.bind(this,e.path)},this.renderRowContent(e));var t=\"\".concat(this.state.statePath).concat(e.path,\"/\");return t=_e(t),c.a.createElement(Vt.Link,{key:e.uniqueId,to:t},this.renderRowContent(e))}},{key:\"renderFileContent\",value:function(e){return c.a.createElement(\"div\",{key:e.uniqueId,className:\"row-container\",onClick:this.ingestFile.bind(this,e)},this.renderRowContent(e))}},{key:\"renderRow\",value:function(e){return e.directory?this.renderDirectory(e):e.wrangle?this.renderFileContent(e):this.renderRowContent(e)}},{key:\"renderEmptySearch\",value:function(){var e=this;return c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".EmptyMessage.title\"),{searchText:this.state.search})),c.a.createElement(\"hr\",null),c.a.createElement(\"span\",null,\" \",ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".EmptyMessage.suggestionTitle\")),\" \"),c.a.createElement(\"ul\",null,c.a.createElement(\"li\",null,c.a.createElement(\"span\",{className:\"link-text\",onClick:function(){e.setState({search:\"\"})}},ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".EmptyMessage.clearLabel\"))),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".EmptyMessage.suggestion1\")))))))}},{key:\"renderContent\",value:function(){var e=this;if(this.state.loading)return c.a.createElement(ve.a,null);if(0===this.state.contents.length)return c.a.createElement(\"div\",{className:\"empty-search-container\"},c.a.createElement(\"div\",{className:\"empty-search text-center\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".EmptyMessage.noFilesOrDirectories\")))));var t=this.state.contents;if(this.state.search.length>0&&0===(t=this.state.contents.filter((function(t){var n=t.name.toLowerCase(),a=e.state.search.toLowerCase();return-1!==n.indexOf(a)}))).length)return this.renderEmptySearch();t=on()(t,[function(t){var n=t[e.state.sort];return\"string\"!=typeof n?n:n.toLowerCase()}],[this.state.sortOrder]);var n={name:\"col-3\",type:\"col-2\",size:\"col-1\",\"last-modified\":\"col-2\",owner:\"col-1\",group:\"col-1\",permission:\"col-2\"};!this.props.noState&&this.props.enableRouting||(n={name:\"col-8\",type:\"col-4\"});var a=Object.keys(n);return c.a.createElement(\"div\",{className:\"directory-content-table\"},c.a.createElement(\"div\",{className:\"content-header row\"},a.map((function(t){return c.a.createElement(\"div\",{key:t,className:n[t]},c.a.createElement(\"span\",{onClick:e.orderBy.bind(e,t)},ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".Table.\").concat(t)),e.state.sort!==t?null:c.a.createElement(\"span\",{className:p()(\"fa sort-caret\",{\"fa-caret-down\":\"asc\"===e.state.sortOrder,\"fa-caret-up\":\"desc\"===e.state.sortOrder})})))}))),c.a.createElement(\"div\",{className:\"content-body clearfix\"},t.map((function(t){return t.wrangle=!0,e.renderRow(t)}))))}},{key:\"render\",value:function(){return c.a.createElement(Et.Provider,{store:me},c.a.createElement(\"div\",{className:\"adls-browser file-browser-container\"},this.props.enableRouting?c.a.createElement(It,{browserI18NName:\"ADLSBrowser\",browserStateName:\"adls\",locationToPathInState:[\"prefix\"]}):null,c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:this.props.browserTitle,showPanelToggle:this.props.showPanelToggle}),c.a.createElement(\"div\",{className:p()(\"sub-panel\",{\"routing-disabled\":!this.props.enableRouting})},c.a.createElement(\"div\",{className:\"path-container\"},c.a.createElement(an,{baseStatePath:this.props.enableRouting?this.props.match.url:\"/\",enableRouting:this.props.enableRouting,fullpath:this.state.path,onPathChange:ft})),c.a.createElement(\"div\",{className:\"info-container\",title:ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".TopPanel.directoryMetrics\"),{count:this.state.contents.length})},c.a.createElement(\"div\",{className:\"info\"},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".TopPanel.directoryMetrics\"),{count:this.state.contents.length}))),c.a.createElement(\"div\",{className:\"search-container\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".TopPanel.searchPlaceholder\")),value:this.state.search,onChange:this.handleSearch,autoFocus:this.state.searchFocus})))),c.a.createElement(\"div\",{className:\"adls-content\"},this.renderContent())))}}])&&Jr(t.prototype,n),a&&Jr(t,a),o}(o.Component);oo(co,\"defaultProps\",{enableRouting:!0,scope:!1,browserTitle:ye.a.translate(\"\".concat(\"features.ADLSBrowser\",\".TopPanel.selectData\")),allowSidePanelToggle:!0}),oo(co,\"propTypes\",{allowSidePanelToggle:r.a.bool,location:r.a.object,match:r.a.object,initialDirectoryPath:r.a.string,noState:r.a.bool,toggle:r.a.func.isRequired,enableRouting:r.a.bool,onWorkspaceCreate:r.a.func,scope:r.a.oneOfType([r.a.bool,r.a.string]),browserTitle:r.a.string,showPanelToggle:r.a.bool});var io,so=n(318),lo=Object(Et.connect)((function(e){return{error:e.error}}),(function(){return{onClose:xe}}))(so.a);function po(e){return(po=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function uo(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function fo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bo(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=yo(e);if(t){var r=yo(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return go(this,n)}}function go(e,t){return!t||\"object\"!==po(t)&&\"function\"!=typeof t?ho(e):t}function ho(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function yo(e){return(yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Eo=(vo(io={},Tt.DATABASE,qt),vo(io,Tt.FILE,wn),vo(io,Tt.KAFKA,ga),vo(io,Tt.S3,ra),vo(io,Tt.GCS,$a),vo(io,Tt.BIGQUERY,Rr),vo(io,Tt.SPANNER,Xr),vo(io,Tt.ADLS,co),io),wo=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(o,e);var t,n,a,r=bo(o);function o(){var e;uo(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return vo(ho(e=r.call.apply(r,[this].concat(n))),\"state\",{activeBrowser:me.getState().activeBrowser}),e}return t=o,(n=[{key:\"componentDidMount\",value:function(){var e=this;this.storeSubscription=me.subscribe((function(){var t=me.getState().activeBrowser;t.name&&e.state.activeBrowser.name!==t.name&&e.setState({activeBrowser:t})})),\"function\"==typeof this.props.setActiveConnection&&this.props.setActiveConnection()}},{key:\"componentDidUpdate\",value:function(){\"function\"==typeof this.props.setActiveConnection&&this.props.setActiveConnection()}},{key:\"componentWillUnmount\",value:function(){\"function\"==typeof this.storeSubscription&&this.storeSubscription()}},{key:\"render\",value:function(){var e=this.state.activeBrowser.name;if(Object.prototype.hasOwnProperty.call(Eo,e)){var t=Eo[e];return c.a.createElement(Et.Provider,{store:me},c.a.createElement(c.a.Fragment,null,c.a.createElement(lo,null),c.a.createElement(t,this.props)))}return null}}])&&fo(t.prototype,n),a&&fo(t,a),o}(o.Component);wo.propTypes={match:r.a.object,setActiveConnection:r.a.func};var So=n(372),Oo=n(110),xo=n(66),Co=n(176);function Io(e){return(Io=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function ko(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function To(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=jo(e);if(t){var r=jo(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return _o(this,n)}}function _o(e,t){return!t||\"object\"!==Io(t)&&\"function\"!=typeof t?Po(e):t}function Po(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(2300);var Do=\"features.DataPrepConnections.UploadComponent\",Ao=new xo.default,Ro=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(o,e);var t,n,a,r=To(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={file:\"\",recordDelimiter:\"\\\\n\",error:null},t.fileHandler=t.fileHandler.bind(Po(t)),t.recordDelimiterHandler=t.recordDelimiterHandler.bind(Po(t)),t.upload=t.upload.bind(Po(t)),t}return t=o,(n=[{key:\"fileHandler\",value:function(e){var t=\"application/json\"===e[0].type||\"text/xml\"===e[0].type;this.setState({file:e[0],recordDelimiter:t?\"\":\"\\\\n\",error:e[0].size>10485760})}},{key:\"recordDelimiterHandler\",value:function(e){this.setState({recordDelimiter:e.target.value})}},{key:\"upload\",value:function(){var e=this;if(this.state.file){var t=this.state.recordDelimiter,n=ge.a.getState().selectedNamespace,a=this.state.file.name,r=\"/namespaces/system/apps/dataprep/services/service/methods/contexts/\".concat(n,\"/workspaces\"),o={\"Content-Type\":\"application/data-prep\",\"X-Archive-Name\":a,file:a};if(window.CDAP_CONFIG.securityEnabled){var c=Ao.get(\"CDAP_Auth_Token\");jt()(c)||(o.Authorization=\"Bearer \".concat(c))}t&&(o.recorddelimiter=t),Object(Co.a)({url:r,fileContents:this.state.file,headers:o}).subscribe((function(t){try{var n=JSON.parse(t).values[0].id;e.props.onWorkspaceCreate&&e.props.onWorkspaceCreate(n)}catch(e){console.log(\"error\",e)}}),(function(t){console.log(t),e.setState({messageType:\"DANGER\",message:t.message})}))}}},{key:\"render\",value:function(){var e,t=!this.state.file||this.state.file.size>10485760;return this.state.error&&(e=c.a.createElement(\"div\",{className:\"upload-error\"},c.a.createElement(\"span\",{className:\"message\"},ye.a.translate(\"\".concat(Do,\".fileSizeError\"))))),c.a.createElement(\"div\",{className:\"connections-upload-container\"},c.a.createElement(_t,{allowSidePanelToggle:!0,toggle:this.props.toggle,browserTitle:ye.a.translate(\"\".concat(Do,\".title\")),showPanelToggle:this.props.showPanelToggle}),c.a.createElement(\"div\",{className:\"upload-content-container\"},c.a.createElement(\"div\",{className:\"file-upload\"},c.a.createElement(Oo.a,{onDropHandler:this.fileHandler,file:this.state.file})),c.a.createElement(\"div\",{className:\"row upload-row\"},c.a.createElement(\"div\",{className:\"col-6\"},c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:this.upload,disabled:t},ye.a.translate(\"\".concat(Do,\".uploadButton\"))),c.a.createElement(\"span\",{className:\"helper-text\"},ye.a.translate(\"\".concat(Do,\".helperText\")))),c.a.createElement(\"div\",{className:\"col-6\"},c.a.createElement(\"form\",{className:\"form-inline float-right\"},c.a.createElement(\"div\",{className:\"form-group\"},c.a.createElement(\"label\",{className:\"control-label\"},ye.a.translate(\"\".concat(Do,\".recordDelimiter\"))),c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:this.recordDelimiterHandler,value:this.state.recordDelimiter}))))),e))}}])&&ko(t.prototype,n),a&&ko(t,a),o}(o.Component);Ro.propTypes={toggle:r.a.func,onWorkspaceCreate:r.a.func,showPanelToggle:r.a.bool};var Lo=n(628),Mo=n(373);function Bo(e){return(Bo=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Fo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Uo(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=zo(e);if(t){var r=zo(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Go(this,n)}}function Go(e,t){return!t||\"object\"!==Bo(t)&&\"function\"!=typeof t?Ko(e):t}function Ko(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function zo(e){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(2302);var Ho=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(o,e);var t,n,a,r=Uo(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={showMenuItems:!0},t.toggle=t.toggle.bind(Ko(t)),t}return t=o,(n=[{key:\"toggle\",value:function(){this.setState({showMenuItems:!this.state.showMenuItems})}},{key:\"render\",value:function(){return 2!==this.props.children.length?null:c.a.createElement(\"div\",{className:p()(\"expandable-menu menu-item expandable\",this.props.className)},c.a.createElement(\"div\",{onClick:this.toggle,className:\"expandable-title\"},c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:this.state.showMenuItems?\"icon-caret-down\":\"icon-caret-right\"})),this.props.children[0]),this.state.showMenuItems?this.props.children[1]:null)}}])&&Fo(t.prototype,n),a&&Fo(t,a),o}(o.Component);Ho.propTypes={children:r.a.array,className:r.a.string};var qo=n(62),Vo=n(369),Qo=n(106),Yo=n.n(Qo),Xo=n(53),Zo=n(59),$o=n(304),Jo=n(49),ec=n(32);function tc(e){return(tc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function nc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ac(e,t){return(ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function rc(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ic(e);if(t){var r=ic(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return oc(this,n)}}function oc(e,t){return!t||\"object\"!==tc(t)&&\"function\"!=typeof t?cc(e):t}function cc(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sc=\"features.DataPrepConnections.AddConnections.Database.DatabaseOptions\",lc=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ac(e,t)}(o,e);var t,n,a,r=rc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={loading:!0,drivers:[],uploadArtifact:!1},t.toggleArtifactUploadWizard=t.toggleArtifactUploadWizard.bind(cc(t)),t.fetchDrivers=t.fetchDrivers.bind(cc(t)),t.onWizardClose=t.onWizardClose.bind(cc(t)),t.eventEmitter=Se()(Se.a),t}return t=o,(n=[{key:\"componentWillMount\",value:function(){this.fetchDrivers()}},{key:\"componentWillUnmount\",value:function(){this.sub&&this.sub(),this.eventEmitter.off(ec.a.CLOSEMARKET,this.fetchDrivers)}},{key:\"fetchDrivers\",value:function(){var e=this,t={context:ge.a.getState().selectedNamespace};be.a.jdbcAllowed(t).combineLatest(be.a.jdbcDrivers(t)).subscribe((function(t){var n=t[0].values,a=t[1].values;n=n.map((function(e){var t=Yo()(a,(function(t){return t.label===e.label&&t.properties.class===e.class&&t.properties.name===e.name}));return e.uniqueId=ke()(),e.installed=!1,t&&(e.installed=!0,e.pluginInfo=t),e})),n=on()(n,[\"label\"],[\"asc\"]),e.setState({drivers:n,loading:!1})})),this.eventEmitter.off(ec.a.CLOSEMARKET,this.fetchDrivers)}},{key:\"toggleArtifactUploadWizard\",value:function(e){if(e)return Zo.a.dispatch({type:Xo.a.setNameAndClass,payload:{name:e.name,classname:e.class}}),void this.setState({uploadArtifact:!0});this.setState({uploadArtifact:!1})}},{key:\"caskMarket\",value:function(e){var t=this,n=window.CDAP_UI_CONFIG.dataprep.jdbcMarketMap[e.name];this.eventEmitter.emit(ec.a.OPENMARKET),this.sub=Jo.a.subscribe((function(){var e=Jo.a.getState();if(0!==e.list.length){var a=Yo()(e.list,{name:n.name,version:n.version});t.sub(),Jo.a.dispatch({type:\"SET_ACTIVE_ENTITY\",payload:{entityId:a.id,displayCTA:!1}})}})),this.eventEmitter.on(ec.a.CLOSEMARKET,this.fetchDrivers),$o.a.setFilter(\"3rd-party-artifact\")}},{key:\"onDBClick\",value:function(e){e.installed&&this.props.onDBSelect(e)}},{key:\"renderMarketOption\",value:function(e){if(!window.CDAP_UI_CONFIG.dataprep.jdbcMarketMap[e.name])return null;var t=wt.a.featureNames.hub;return c.a.createElement(\"span\",{className:\"market-option\"},c.a.createElement(\"span\",{className:\"upload\",onClick:this.caskMarket.bind(this,e)},t),c.a.createElement(\"span\",null,\" | \"))}},{key:\"renderDBInfo\",value:function(e){return e.installed?c.a.createElement(\"div\",{className:\"db-installed\"},c.a.createElement(\"span\",null,e.pluginInfo.version),c.a.createElement(\"span\",{className:\"fa fa-fw check-icon\"},c.a.createElement(s.a,{name:\"icon-check\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(sc,\".installedLabel\")))):c.a.createElement(\"div\",{className:\"db-installed\"},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(sc,\".install\"))),this.renderMarketOption(e),c.a.createElement(\"span\",{className:\"upload\",onClick:this.toggleArtifactUploadWizard.bind(this,e)},ye.a.translate(\"\".concat(sc,\".upload\"))))}},{key:\"renderDBOption\",value:function(e){return c.a.createElement(\"div\",{key:e.uniqueId,className:\"col-6\"},c.a.createElement(\"div\",{className:p()(\"database-option\",{installed:e.installed}),onClick:this.onDBClick.bind(this,e)},c.a.createElement(\"div\",{className:\"db-image-container\"},c.a.createElement(\"div\",{className:\"db-image db-\".concat(e.tag)})),c.a.createElement(\"div\",{className:\"db-info\"},c.a.createElement(\"div\",{className:\"db-name\",title:e.label},e.label),this.renderDBInfo(e))))}},{key:\"onWizardClose\",value:function(){this.setState({uploadArtifact:!1}),this.fetchDrivers()}},{key:\"renderArtifactUploadWizard\",value:function(){return this.state.uploadArtifact?c.a.createElement(Vo.a,{isOpen:!0,buildSuccessInfo:function(){},onClose:this.onWizardClose,hideUploadHelper:!0}):null}},{key:\"render\",value:function(){var e=this;return this.state.loading?c.a.createElement(\"div\",{className:\"database-options text-center\"},c.a.createElement(qo.a,null)):c.a.createElement(\"div\",{className:\"database-options\"},c.a.createElement(\"div\",{className:\"options-title\"},ye.a.translate(\"\".concat(sc,\".optionsTitle\"))),c.a.createElement(\"div\",{className:\"row\"},this.state.drivers.map((function(t){return e.renderDBOption(t)}))),this.renderArtifactUploadWizard())}}])&&nc(t.prototype,n),a&&nc(t,a),o}(o.Component);lc.propTypes={onDBSelect:r.a.func};var pc=n(2304),uc=n.n(pc),dc=n(119),fc=n(311);function mc(e){return(mc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function bc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gc(e,t){return(gc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hc(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ec(e);if(t){var r=Ec(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return yc(this,n)}}function yc(e,t){return!t||\"object\"!==mc(t)&&\"function\"!=typeof t?vc(e):t}function vc(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc=\"BASIC\",Oc=\"ADVANCED\",xc=\"col-4 col-form-label text-right\",Cc=\"features.DataPrepConnections.AddConnections.Database.DatabaseDetail\",Ic=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gc(e,t)}(o,e);var t,n,a,r=hc(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),wc(vc(t=r.call(this,e)),\"handleChange\",(function(e,n){var a;t.setState((wc(a={},e,n.target.value),wc(a,\"connectionResult\",null),a))})),wc(vc(t),\"handlePasswordChange\",(function(e){t.setState({password:e})}));var n=t.props.db[\"default.port\"]||\"\",a=ke()();return t.state={connType:t.props.db.basicAllowed?Sc:Oc,name:\"\",hostname:\"localhost\",port:\"ADD\"===t.props.mode?n:\"\",username:\"\",password:\"\",database:\"\",connectionString:\"\",connectionResult:null,error:null,databaseList:[\"\",a],customId:a,selectedDatabase:\"\",testConnectionLoading:!1},t.eventEmitter=Se()(Se.a),t.addConnection=t.addConnection.bind(vc(t)),t.editConnection=t.editConnection.bind(vc(t)),t.testConnection=t.testConnection.bind(vc(t)),t.preventDefault=t.preventDefault.bind(vc(t)),t.handleDatabaseChange=t.handleDatabaseChange.bind(vc(t)),t.handleDatabaseSelect=t.handleDatabaseSelect.bind(vc(t)),t}return t=o,(n=[{key:\"fetchDatabases\",value:function(){var e=this,t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.DATABASE,properties:this.constructProperties()};be.a.getDatabaseList({context:t},n).subscribe((function(t){var n=t.values.sort(),a=e.state.customId;-1!==n.indexOf(a)&&(a=ke()()),n.push(a),n.unshift(\"\"),e.setState({databaseList:n,selectedDatabase:\"EDIT\"===e.props.mode?e.state.database:\"\",customId:a})}),(function(e){console.log(\"err fetching database list\",e)}))}},{key:\"componentWillMount\",value:function(){var e=this;if(\"ADD\"!==this.props.mode){var t=\"EDIT\"===this.props.mode?this.props.connInfo.name:\"\",n=this.props.connInfo.properties,a=n.connectionString,r=void 0===a?\"\":a,o=n.password,c=void 0===o?\"\":o,i=n.username,s=void 0===i?\"\":i,l=n.hostname,p=void 0===l?\"\":l,u=n.port,d=void 0===u?\"\":u,f=n.database,m=void 0===f?\"\":f;this.setState({name:t,connectionString:r,password:c,username:s,hostname:p,port:d,database:m,selectedDatabase:this.state.customId,connType:r?Oc:Sc},(function(){\"EDIT\"===e.props.mode&&e.fetchDatabases()}))}}},{key:\"preventDefault\",value:function(e){e.preventDefault()}},{key:\"handleDatabaseChange\",value:function(e){this.setState({database:e.target.value})}},{key:\"handleDatabaseSelect\",value:function(e){this.setState({selectedDatabase:e.target.value})}},{key:\"handleConnTypeChange\",value:function(e){this.setState({connType:e})}},{key:\"constructProperties\",value:function(){var e,t=this.props.db;if(this.state.connType===Sc){var n=this.state.selectedDatabase===this.state.customId?this.state.database:this.state.selectedDatabase;e={hostname:this.state.hostname.trim(),port:this.state.port.trim(),username:this.state.username.trim(),password:this.state.password,database:n}}else e={connectionString:this.state.connectionString.trim(),username:this.state.username.trim(),password:this.state.password};return e.name=t.name,e.type=t.pluginInfo.properties.type,e.class=t.pluginInfo.properties.class,e.url=this.interpolateConnectionString(t.pluginInfo.url),e}},{key:\"interpolateConnectionString\",value:function(e){var t=this.state,n=this.props.db.pluginInfo.fields,a=e;return this.state.connType===Sc?n.forEach((function(e){var n=t[e];\"database\"===e&&(n=t.selectedDatabase===t.customId?t.database:t.selectedDatabase),a=uc()(a,\"${\"+e+\"}\",n)})):a=this.state.connectionString,a}},{key:\"addConnection\",value:function(){var e=this,t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.DATABASE,properties:this.constructProperties()};be.a.createConnection({context:t},n).subscribe((function(){e.setState({error:null}),e.props.onAdd()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"editConnection\",value:function(){var e=this,t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId},n={name:this.state.name,id:this.props.connectionId,type:Tt.DATABASE,properties:this.constructProperties()};be.a.updateConnection(t,n).subscribe((function(){e.setState({error:null}),e.eventEmitter.emit(\"DATAPREP_CONNECTION_EDIT_DATABASE\",e.props.connectionId),e.props.onAdd()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"testConnection\",value:function(){var e=this;this.setState({testConnectionLoading:!0});var t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.DATABASE,properties:this.constructProperties()};be.a.jdbcTestConnection({context:t},n).subscribe((function(t){e.setState({connectionResult:{type:\"success\",message:t.message},testConnectionLoading:!1}),e.fetchDatabases()}),(function(t){console.log(\"Error testing database connection\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||ye.a.translate(\"\".concat(Cc,\".defaultTestErrorMessage\"));e.setState({connectionResult:{type:\"danger\",message:n},testConnectionLoading:!1})}))}},{key:\"renderUsername\",value:function(){return c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".username\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.username,onChange:this.handleChange.bind(this,\"username\")})))}},{key:\"renderPassword\",value:function(){return c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".password\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(fc.b,{widgetProperty:{\"widget-type\":\"securekey-password\"},value:this.state.password,onChange:this.handlePasswordChange,hideLabel:!0,hideDescription:!0})))}},{key:\"renderTestButton\",value:function(){var e=this.state.testConnectionLoading;return c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"div\",{className:\"col-8 offset-4 col-offset-4 col-xs-offset-4\"},c.a.createElement(\"button\",{className:\"btn btn-secondary\",onClick:this.testConnection,disabled:e},ye.a.translate(\"\".concat(Cc,\".testConnection\"))),this.state.testConnectionLoading?c.a.createElement(\"span\",{className:\"fa loading-indicator\"},c.a.createElement(qo.a,null)):null,this.state.connectionResult?c.a.createElement(\"span\",{className:\"connection-check text-\".concat(this.state.connectionResult.type)},this.state.connectionResult.message):null))}},{key:\"renderDatabase\",value:function(){var e=this;return c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".database\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"select\",{className:\"form-control\",value:this.state.selectedDatabase,onChange:this.handleDatabaseSelect},this.state.databaseList.map((function(t){return c.a.createElement(\"option\",{key:t,value:t},t===e.state.customId?ye.a.translate(\"\".concat(Cc,\".customLabel\")):t)}))),this.state.selectedDatabase===this.state.customId?c.a.createElement(\"div\",{className:\"custom-input\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.database,onChange:this.handleDatabaseChange})):null))}},{key:\"renderBasic\",value:function(){return c.a.createElement(\"div\",null,c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".hostname\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.hostname,onChange:this.handleChange.bind(this,\"hostname\")}))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".port\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.port,onChange:this.handleChange.bind(this,\"port\")}))),this.renderUsername(),this.renderPassword(),this.renderTestButton(),this.renderDatabase())}},{key:\"renderAdvanced\",value:function(){var e=Object(d.E)(this.props,\"db\",\"pluginInfo\",\"url\"),t=e?ye.a.translate(\"\".concat(Cc,\".Placeholders.connectionString\"),{connectionString:e}):ye.a.translate(\"\".concat(Cc,\".Placeholders.connectionStringDefault\"));return c.a.createElement(\"div\",null,c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".connectionString\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.connectionString||t,onChange:this.handleChange.bind(this,\"connectionString\"),placeholder:t}))),this.renderUsername(),this.renderPassword(),this.renderTestButton())}},{key:\"renderDriverInfo\",value:function(){var e=this.props.db;return c.a.createElement(\"div\",{className:\"row driver-info\"},c.a.createElement(\"div\",{className:\"col-4 text-right\"},c.a.createElement(\"div\",{className:\"image-container\"},c.a.createElement(\"div\",{className:\"db-image db-\".concat(e.tag)})),c.a.createElement(\"div\",{className:\"db-label\"},c.a.createElement(\"span\",null,e.label))),c.a.createElement(\"div\",{className:\"col-8 driver-detail\"},c.a.createElement(\"span\",null,e.pluginInfo.version),c.a.createElement(\"span\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-check-circle\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(Cc,\".driverInstalled\"))))))}},{key:\"renderConnectionInfo\",value:function(){return this.state.connType===Sc?this.renderBasic():this.renderAdvanced()}},{key:\"renderAddConnectionButton\",value:function(){var e=!this.state.name;e=this.state.connType===Sc?e||!this.state.hostname||!this.state.port:e||!this.state.connectionString;var t=this.addConnection;return\"EDIT\"===this.props.mode&&(t=this.editConnection),c.a.createElement(\"div\",{className:\"row\"},c.a.createElement(\"div\",{className:\"col-8 offset-4 col-offset-4 col-xs-offset-4\"},c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:t,disabled:e},ye.a.translate(\"\".concat(Cc,\".Buttons.\").concat(this.props.mode)))))}},{key:\"renderConnectionType\",value:function(){return this.props.db.basicAllowed?c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".connType\"))),c.a.createElement(\"div\",{className:\"\".concat(\"col-8\",\" connection-type\")},c.a.createElement(\"span\",{onClick:this.handleConnTypeChange.bind(this,Sc),className:p()({active:this.state.connType===Sc})},ye.a.translate(\"\".concat(Cc,\".basic\"))),c.a.createElement(\"span\",{className:\"divider\"},\"|\"),c.a.createElement(\"span\",{onClick:this.handleConnTypeChange.bind(this,Oc),className:p()({active:this.state.connType===Oc})},ye.a.translate(\"\".concat(Cc,\".advanced\"))))):null}},{key:\"renderError\",value:function(){return this.state.error?c.a.createElement(\"div\",{className:\"error-container\"},c.a.createElement(dc.b,{type:\"DANGER\",message:ye.a.translate(\"\".concat(Cc,\".ErrorMessages.\").concat(this.props.mode)),extendedMessage:this.state.error})):null}},{key:\"render\",value:function(){var e=c.a.createElement(\"div\",{className:\"back-link-container\"},c.a.createElement(\"span\",{className:\"back-link\",onClick:this.props.back},c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-angle-double-left\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(Cc,\".backButton\")))));return\"ADD\"!==this.props.mode&&(e=null),c.a.createElement(\"div\",{className:\"database-detail\"},c.a.createElement(\"div\",{className:\"database-detail-content\"},this.renderDriverInfo(),c.a.createElement(\"form\",{onSubmit:this.preventDefault},c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:xc},ye.a.translate(\"\".concat(Cc,\".name\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:\"EDIT\"===this.props.mode,placeholder:ye.a.translate(\"\".concat(Cc,\".Placeholders.name\"))}))),this.renderConnectionType(),this.renderConnectionInfo()),this.renderAddConnectionButton()),e,this.renderError())}}])&&bc(t.prototype,n),a&&bc(t,a),o}(o.Component);function kc(e){return(kc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pc(e,t){return(Pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jc(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Rc(e);if(t){var r=Rc(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Dc(this,n)}}function Dc(e,t){return!t||\"object\"!==kc(t)&&\"function\"!=typeof t?Ac(e):t}function Ac(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Rc(e){return(Rc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ic.propTypes={back:r.a.func,db:r.a.object,onAdd:r.a.func,mode:r.a.oneOf([\"ADD\",\"EDIT\",\"DUPLICATE\"]).isRequired,connectionId:r.a.string,connInfo:r.a.object},n(2305);var Lc=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pc(e,t)}(o,e);var t,n,a,r=jc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={activeDB:null,connInfo:null,error:null,loading:!1},t.add=t.add.bind(Ac(t)),t}return t=o,(n=[{key:\"componentWillMount\",value:function(){var e=this;if(\"ADD\"!==this.props.mode){this.setState({loading:!0});var t={context:ge.a.getState().selectedNamespace},n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nc(Object(n),!0).forEach((function(t){Tc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{connectionId:this.props.connectionId});be.a.getConnection(n).combineLatest(be.a.jdbcDrivers(t),be.a.jdbcAllowed(t)).subscribe((function(t){var n=Object(d.E)(t,0),a=n.properties.name,r=Object(d.E)(t,1,\"values\"),o=Yo()(r,(function(e){return e.properties.name===a}));if(o){var c=Object(d.E)(t,2,\"values\"),i=Yo()(c,(function(e){return e.label===o.label}));i.pluginInfo=o,e.setState({connInfo:n,activeDB:i,loading:!1})}else e.setState({error:\"Cannot find driver \".concat(a),loading:!1})}),(function(e){console.log(\"err\",e)}))}}},{key:\"setActiveDB\",value:function(e){this.setState({activeDB:e})}},{key:\"renderDatabaseSelection\",value:function(){return c.a.createElement(lc,{onDBSelect:this.setActiveDB.bind(this)})}},{key:\"renderDatabaseDetail\",value:function(){return c.a.createElement(Ic,{back:this.setActiveDB.bind(this,null),db:this.state.activeDB,onAdd:this.add,mode:this.props.mode,connectionId:this.props.connectionId,connInfo:this.state.connInfo})}},{key:\"add\",value:function(){this.props.onAdd(),this.props.close()}},{key:\"render\",value:function(){var e=this.state.activeDB?this.renderDatabaseDetail():this.renderDatabaseSelection();return this.state.loading&&(e=c.a.createElement(\"div\",{className:\"text-center\"},c.a.createElement(qo.a,null))),c.a.createElement(\"div\",null,c.a.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"database-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},c.a.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(\"\".concat(\"features.DataPrepConnections.AddConnections.Database\",\".ModalHeader.\").concat(this.props.mode),{connection:this.props.connectionId})),c.a.createElement(Ee.ModalBody,null,e)))}}])&&_c(t.prototype,n),a&&_c(t,a),o}(o.Component);Lc.propTypes={close:r.a.func,onAdd:r.a.func,mode:r.a.oneOf([\"ADD\",\"EDIT\",\"DUPLICATE\"]).isRequired,connectionId:r.a.string};var Mc={setHost:\"SET-KEY\",setPort:\"SET-VALUE\",addRow:\"ADD-ROW\",deletePair:\"DELETE-PAIR\",onReset:\"ON-RESET\",onUpdate:\"ON-UPDATE\"},Bc={type:\"\",payload:{}},Fc={rows:[]},Wc=Object(u.createStore)(Object(u.combineReducers)({hostport:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fc,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bc;switch(n.type){case Mc.setHost:return e=Object.assign({},t),null===n.payload.host||void 0===n.payload.host?e:(e.rows[n.payload.index].host=n.payload.host,e);case Mc.setPort:return e=Object.assign({},t),null===n.payload.port||void 0===n.payload.port?e:(e.rows[n.payload.index].port=n.payload.port,e);case Mc.addRow:return(e=Object.assign({},t)).rows.splice(n.payload.index+1,0,{host:\"\",port:\"\",uniqueId:ke()()}),e;case Mc.deletePair:return(e=Object.assign({},t)).rows.splice(n.payload.index,1),e.rows.length||e.rows.push({host:\"\",port:\"\",uniqueId:ke()()}),e;case Mc.onReset:return Fc;case Mc.onUpdate:return(e=Object.assign({},t)).rows=n.payload.rows,e;default:return t}}}),{hostport:Fc},window.devToolsExtension?window.devToolsExtension():function(e){return e});function Uc(e){return(Uc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Gc(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Kc(e,t){return(Kc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zc(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Vc(e);if(t){var r=Vc(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Hc(this,n)}}function Hc(e,t){return!t||\"object\"!==Uc(t)&&\"function\"!=typeof t?qc(e):t}function qc(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Vc(e){return(Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qc=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kc(e,t)}(o,e);var t,n,a,r=zc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).keyDown=t.keyDown.bind(qc(t)),t}return t=o,(n=[{key:\"keyDown\",value:function(e){13===e.keyCode&&this.props.addRow()}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"host-port-row-container\"},c.a.createElement(\"div\",{className:\"host-input-container\"},c.a.createElement(\"input\",{type:\"text\",value:this.props.host,autoFocus:!0,onKeyDown:this.keyDown,onChange:this.props.onChange.bind(null,\"host\"),className:\"form-control\"})),c.a.createElement(\"span\",{className:\"port-label\"},\"Port:\"),c.a.createElement(\"div\",{className:\"port-input-container\"},c.a.createElement(\"input\",{type:\"number\",value:this.props.port,onKeyDown:this.keyDown,onChange:this.props.onChange.bind(null,\"port\"),className:\"form-control\"})),c.a.createElement(\"div\",{className:\"action-buttons-container text-right\"},c.a.createElement(\"button\",{className:\"btn add-row-btn btn-link\",onClick:this.props.addRow},c.a.createElement(\"i\",{className:\"fa fa-plus\"})),c.a.createElement(\"button\",{className:\"btn remove-row-btn btn-link\",onClick:this.props.removeRow},c.a.createElement(\"i\",{className:\"fa fa-trash text-danger\"}))))}}])&&Gc(t.prototype,n),a&&Gc(t,a),o}(o.Component);function Yc(e){return(Yc=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Xc(e){return function(e){if(Array.isArray(e))return Zc(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zc(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Zc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ei(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ni(e);if(t){var r=ni(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ti(this,n)}}function ti(e,t){return!t||\"object\"!==Yc(t)&&\"function\"!=typeof t?function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}(e):t}function ni(e){return(ni=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Qc.propTypes={className:r.a.string,host:r.a.string,port:r.a.string,index:r.a.number,onChange:r.a.func,addRow:r.a.func,removeRow:r.a.func},n(2307);var ai={host:Mc.setHost,port:Mc.setPort},ri=Object(Et.connect)((function(e,t){var n=e.hostport.rows[t.index];return{host:n?n.host:\"\",port:n?n.port:\"\"}}),(function(e,t){return{removeRow:function(){e({type:Mc.deletePair,payload:{index:t.index}})},addRow:function(){e({type:Mc.addRow,payload:{index:t.index}})},onChange:function(n,a){var r,o,c;e({type:ai[n],payload:(r={index:t.index},o=n,c=a.target.value,o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r)})}}}))(Qc),oi=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(o,e);var t,n,a,r=ei(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={rows:t.props.values},t.sub=Wc.subscribe((function(){var e=Wc.getState().hostport.rows;t.setState({rows:e}),t.props.onChange(e)})),Wc.dispatch({type:Mc.onUpdate,payload:{rows:t.props.values}}),t}return t=o,(n=[{key:\"componentWillReceiveProps\",value:function(e){this.setState({rows:Xc(e.values)})}},{key:\"shouldComponentUpdate\",value:function(e){return this.state.rows.length!==e.values.length}},{key:\"componentWillUnmount\",value:function(){this.sub&&this.sub(),Wc.dispatch({type:Mc.onReset})}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"host-port-editor-container\"},this.state.rows.map((function(e,t){return c.a.createElement(\"div\",{key:e.uniqueId},c.a.createElement(Et.Provider,{store:Wc},c.a.createElement(ri,{index:t})))})))}}])&&$c(t.prototype,n),a&&$c(t,a),o}(o.Component);oi.propTypes={values:r.a.array,onChange:r.a.func};var ci=n(1575);function ii(e){return(ii=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function si(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function li(e,t){return(li=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pi(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=fi(e);if(t){var r=fi(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ui(this,n)}}function ui(e,t){return!t||\"object\"!==ii(t)&&\"function\"!=typeof t?di(e):t}function di(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function fi(e){return(fi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var mi=\"features.DataPrepConnections.AddConnections.Kafka\";n(2309);var bi=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t)}(o,e);var t,n,a,r=pi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),(t=r.call(this,e)).state={name:\"\",brokersList:[{host:\"localhost\",port:\"9092\",uniqueId:ke()()}],connectionResult:{type:null,message:null},testConnectionLoading:!1,error:null,loading:!1},t.eventEmitter=Se()(Se.a),t.preventDefault=t.preventDefault.bind(di(t)),t.addConnection=t.addConnection.bind(di(t)),t.editConnection=t.editConnection.bind(di(t)),t.testConnection=t.testConnection.bind(di(t)),t.handleBrokersChange=t.handleBrokersChange.bind(di(t)),t}return t=o,(n=[{key:\"componentWillMount\",value:function(){var e=this;if(\"ADD\"!==this.props.mode){this.setState({loading:!0});var t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId};be.a.getConnection(t).subscribe((function(t){var n=Object(d.E)(t,\"properties\",\"brokers\"),a=\"EDIT\"===e.props.mode?t.name:\"\",r=e.parseBrokers(n);e.setState({name:a,brokersList:r,loading:!1})}),(function(t){console.log(\"failed to fetch connection detail\",t),e.setState({loading:!1})}))}}},{key:\"parseBrokers\",value:function(e){var t=[];return e.split(\",\").forEach((function(e){var n=e.trim().split(\":\"),a={host:n[0]||\"\",port:n[1]||\"\",uniqueId:ke()()};t.push(a)})),t}},{key:\"preventDefault\",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:\"handleBrokersChange\",value:function(e){this.setState({brokersList:e})}},{key:\"convertBrokersList\",value:function(){return this.state.brokersList.map((function(e){var t=e.host.trim(),n=e.port.trim();return\"\".concat(t,\":\").concat(n)})).join(\",\")}},{key:\"addConnection\",value:function(){var e=this,t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.KAFKA,properties:{brokers:this.convertBrokersList()}};be.a.createConnection({context:t},n).subscribe((function(){e.setState({error:null}),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"editConnection\",value:function(){var e=this,t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId},n={name:this.state.name,id:this.props.connectionId,type:Tt.KAFKA,properties:{brokers:this.convertBrokersList()}};be.a.updateConnection(t,n).subscribe((function(){e.setState({error:null}),e.eventEmitter.emit(\"DATAPREP_CONNECTION_EDIT_KAFKA\",e.props.connectionId),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"testConnection\",value:function(){var e=this;this.setState({testConnectionLoading:!0,connectionResult:{type:null,message:null},error:null});var t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.KAFKA,properties:{brokers:this.convertBrokersList()}};be.a.kafkaTestConnection({context:t},n).subscribe((function(t){e.setState({connectionResult:{type:dc.a.SUCCESS,message:t.message},testConnectionLoading:!1})}),(function(t){console.log(\"Error testing kafka connection\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||ye.a.translate(\"\".concat(mi,\".defaultTestErrorMessage\"));e.setState({connectionResult:{type:dc.a.DANGER,message:n},testConnectionLoading:!1})}))}},{key:\"handleChange\",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t.target.value))}},{key:\"renderKafka\",value:function(){return c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(mi,\".brokersList\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(oi,{values:this.state.brokersList,onChange:this.handleBrokersChange})))}},{key:\"renderAddConnectionButton\",value:function(){var e=!this.state.name;e=e||0===this.state.brokersList.length||this.state.testConnectionLoading||1===this.state.brokersList.length&&(!this.state.brokersList[0].host||!this.state.brokersList[0].port);var t=this.addConnection;return\"EDIT\"===this.props.mode&&(t=this.editConnection),c.a.createElement(Ee.ModalFooter,null,c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:t,disabled:e},ye.a.translate(\"\".concat(mi,\".Buttons.\").concat(this.props.mode))),this.renderTestButton())}},{key:\"renderTestButton\",value:function(){var e=this.state.testConnectionLoading||!this.state.name;return e=e||0===this.state.brokersList.length||1===this.state.brokersList.length&&(!this.state.brokersList[0].host||!this.state.brokersList[0].port),c.a.createElement(ci.a,{className:\"btn btn-secondary\",onClick:this.testConnection,disabled:e,label:ye.a.translate(\"\".concat(mi,\".testConnection\")),loading:this.state.testConnectionLoading,darker:!0})}},{key:\"renderError\",value:function(){if(!this.state.error&&!this.state.connectionResult.message)return null;if(this.state.error)return c.a.createElement(dc.b,{type:dc.a.DANGER,message:ye.a.translate(\"\".concat(mi,\".ErrorMessages.\").concat(this.props.mode)),extendedMessage:this.state.error});var e=this.state.connectionResult.type;return c.a.createElement(dc.b,{message:ye.a.translate(\"\".concat(\"features.DataPrepConnections.AddConnections\",\".TestConnectionLabels.\").concat(e.toLowerCase())),extendedMessage:e===dc.a.SUCCESS?null:this.state.connectionResult.message,type:e})}},{key:\"renderContent\",value:function(){return this.state.loading?c.a.createElement(\"div\",{className:\"kafka-detail text-center\"},c.a.createElement(\"br\",null),c.a.createElement(qo.a,null)):c.a.createElement(\"div\",{className:\"kafka-detail\"},c.a.createElement(\"div\",{className:\"form\"},c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(mi,\".name\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-name\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:\"EDIT\"===this.props.mode,placeholder:ye.a.translate(\"\".concat(mi,\".Placeholders.name\"))})))),this.renderKafka()))}},{key:\"render\",value:function(){return c.a.createElement(\"div\",null,c.a.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"kafka-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},c.a.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(\"\".concat(mi,\".ModalHeader.\").concat(this.props.mode),{connection:this.props.connectionId})),c.a.createElement(Ee.ModalBody,null,this.renderContent()),this.renderAddConnectionButton(),this.renderError()))}}])&&si(t.prototype,n),a&&si(t,a),o}(o.Component);function gi(e){return(gi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function hi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yi(e,t){return(yi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vi(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Si(e);if(t){var r=Si(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ei(this,n)}}function Ei(e,t){return!t||\"object\"!==gi(t)&&\"function\"!=typeof t?wi(e):t}function wi(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Si(e){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bi.propTypes={close:r.a.func,onAdd:r.a.func,mode:r.a.oneOf([\"ADD\",\"EDIT\",\"DUPLICATE\"]).isRequired,connectionId:r.a.string};var xi=\"features.DataPrepConnections.AddConnections.S3\",Ci=[{name:\"\",value:\"\"},{name:\"US East (Ohio)\",value:\"us-east-2\"},{name:\"US East (N. Virginia)\",value:\"us-east-1\"},{name:\"US West (N. California)\",value:\"us-west-1\"},{name:\"US West (Oregon)\",value:\"us-west-2\"},{name:\"Asia Pacific (Mumbai)\",value:\"ap-south-1\"},{name:\"Asia Pacific (Seoul)\",value:\"ap-northeast-2\"},{name:\"Asia Pacific (Singapore)\",value:\"ap-southeast-1\"},{name:\"Asia Pacific (Sydney)\",value:\"ap-southeast-2\"},{name:\"Asia Pacific (Tokyo)\",value:\"ap-northeast-1\"},{name:\"Canada (Central)\",value:\"ca-central-1\"},{name:\"EU (Frankfurt)\",value:\"eu-central-1\"},{name:\"EU (Ireland)\",value:\"eu-west-1\"},{name:\"EU (London)\",value:\"eu-west-2\"},{name:\"South America (São Paulo)\",value:\"sa-east-1\"}];n(2311);var Ii=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yi(e,t)}(o,e);var t,n,a,r=vi(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),Oi(wi(t=r.call(this,e)),\"handleAccessSecretChange\",(function(e){return function(n){t.setState(Oi({},e,n))}})),t.state={error:null,name:\"\",accessKeyId:\"\",accessSecretKey:\"\",region:\"\",testConnectionLoading:!1,connectionResult:{type:null,message:null}},t.eventEmitter=Se()(Se.a),t.addConnection=t.addConnection.bind(wi(t)),t.editConnection=t.editConnection.bind(wi(t)),t.testConnection=t.testConnection.bind(wi(t)),t}return t=o,(n=[{key:\"componentWillMount\",value:function(){var e=this;if(\"ADD\"!==this.props.mode){this.setState({loading:!0});var t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId};be.a.getConnection(t).subscribe((function(t){var n=Object(d.E)(t,\"properties\",\"accessKeyId\"),a=Object(d.E)(t,\"properties\",\"accessSecretKey\"),r=Object(d.E)(t,\"properties\",\"region\"),o=\"EDIT\"===e.props.mode?t.name:\"\";e.setState({name:o,accessKeyId:n,accessSecretKey:a,region:r,loading:!1})}),(function(t){console.log(\"failed to fetch connection detail\",t),e.setState({loading:!1})}))}}},{key:\"constructProperties\",value:function(){return{accessKeyId:this.state.accessKeyId.trim(),accessSecretKey:this.state.accessSecretKey.trim(),region:this.state.region.trim()}}},{key:\"addConnection\",value:function(){var e=this,t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.S3,properties:this.constructProperties()};be.a.createConnection({context:t},n).subscribe((function(){e.setState({error:null}),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"editConnection\",value:function(){var e=this,t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId},n={name:this.state.name,id:this.props.connectionId,type:Tt.S3,properties:this.constructProperties()};be.a.updateConnection(t,n).subscribe((function(){e.setState({error:null}),e.eventEmitter.emit(\"DATAPREP_CONNECTION_EDIT_S3\",e.props.connectionId),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"testConnection\",value:function(){var e=this;this.setState({testConnectionLoading:!0,connectionResult:{type:null,message:null},error:null});var t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.S3,properties:{accessKeyId:this.state.accessKeyId,accessSecretKey:this.state.accessSecretKey,region:this.state.region}};be.a.s3TestConnection({context:t},n).subscribe((function(t){e.setState({connectionResult:{type:dc.a.SUCCESS,message:t.message},testConnectionLoading:!1})}),(function(t){console.log(\"Error testing S3 connection\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||ye.a.translate(\"\".concat(xi,\".defaultTestErrorMessage\"));e.setState({connectionResult:{type:dc.a.DANGER,message:n},testConnectionLoading:!1})}))}},{key:\"handleChange\",value:function(e,t){this.setState(Oi({},e,t.target.value))}},{key:\"renderTestButton\",value:function(){var e=!(this.state.name&&this.state.accessKeyId&&this.state.accessSecretKey&&this.state.region);return c.a.createElement(ci.a,{className:\"btn btn-secondary\",onClick:this.testConnection,disabled:e,label:ye.a.translate(\"\".concat(xi,\".testConnection\")),loading:this.state.testConnectionLoading,darker:!0})}},{key:\"renderAddConnectionButton\",value:function(){var e=!(this.state.name&&this.state.accessKeyId&&this.state.accessSecretKey&&this.state.region),t=this.addConnection;return\"EDIT\"===this.props.mode&&(t=this.editConnection),c.a.createElement(Ee.ModalFooter,null,c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:t,disabled:e},ye.a.translate(\"\".concat(xi,\".Buttons.\").concat(this.props.mode))),this.renderTestButton())}},{key:\"renderContent\",value:function(){return this.state.loading?c.a.createElement(\"div\",{className:\"s3-detail text-center\"},c.a.createElement(\"br\",null),c.a.createElement(qo.a,null)):c.a.createElement(\"div\",{className:\"s3-detail\"},c.a.createElement(\"div\",{className:\"form\"},c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(xi,\".name\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:\"EDIT\"===this.props.mode,placeholder:ye.a.translate(\"\".concat(xi,\".Placeholders.name\"))})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(xi,\".accessKeyId\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(fc.b,{widgetProperty:{\"widget-type\":\"securekey-text\",\"widget-attributes\":{placeholder:ye.a.translate(\"\".concat(xi,\".Placeholders.accessKeyId\")).toString()}},value:this.state.accessKeyId,onChange:this.handleAccessSecretChange(\"accessKeyId\"),hideLabel:!0,hideDescription:!0})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(xi,\".accessSecretKey\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(fc.b,{widgetProperty:{\"widget-type\":\"securekey-password\",\"widget-attributes\":{placeholder:ye.a.translate(\"\".concat(xi,\".Placeholders.accessSecretKey\")).toString()}},value:this.state.accessSecretKey,onChange:this.handleAccessSecretChange(\"accessSecretKey\"),hideLabel:!0,hideDescription:!0})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(xi,\".region\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"select\",{className:\"form-control\",value:this.state.region,onChange:this.handleChange.bind(this,\"region\")},Ci.map((function(e){return c.a.createElement(\"option\",{value:e.value,key:e.value},e.name,\" - \",e.value)}))))))))}},{key:\"renderError\",value:function(){if(!this.state.error&&!this.state.connectionResult.message)return null;if(this.state.error)return c.a.createElement(dc.b,{type:dc.a.DANGER,message:ye.a.translate(\"\".concat(xi,\".ErrorMessages.\").concat(this.props.mode)),extendedMessage:this.state.error});var e=this.state.connectionResult.type;return c.a.createElement(dc.b,{message:ye.a.translate(\"\".concat(\"features.DataPrepConnections.AddConnections\",\".TestConnectionLabels.\").concat(e.toLowerCase())),extendedMessage:e===dc.a.SUCCESS?null:this.state.connectionResult.message,type:e})}},{key:\"render\",value:function(){return c.a.createElement(\"div\",null,c.a.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"s3-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},c.a.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(\"\".concat(xi,\".ModalHeader.\").concat(this.props.mode),{connection:this.props.connectionId})),c.a.createElement(Ee.ModalBody,null,this.renderContent()),this.renderAddConnectionButton(),this.renderError()))}}])&&hi(t.prototype,n),a&&hi(t,a),o}(o.Component);function ki(e){return(ki=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Ni(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _i(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Di(e);if(t){var r=Di(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Pi(this,n)}}function Pi(e,t){return!t||\"object\"!==ki(t)&&\"function\"!=typeof t?ji(e):t}function ji(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Di(e){return(Di=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ai(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ii.propTypes={close:r.a.func,onAdd:r.a.func,mode:r.a.oneOf([\"ADD\",\"EDIT\",\"DUPLICATE\"]).isRequired,connectionId:r.a.string};var Ri=\"features.DataPrepConnections.AddConnections.GCS\";n(2313);var Li=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ti(e,t)}(o,e);var t,n,a,r=_i(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),Ai(ji(t=r.call(this,e)),\"constructProperties\",(function(){var e={};return t.state.projectId&&t.state.projectId.length>0&&(e.projectId=t.state.projectId.trim()),t.state.serviceAccountKeyfile&&t.state.serviceAccountKeyfile.length>0&&(e[\"service-account-keyfile\"]=t.state.serviceAccountKeyfile.trim()),e})),t.state={error:null,name:\"\",projectId:\"\",serviceAccountKeyfile:\"\",testConnectionLoading:!1,connectionResult:{message:null,type:null}},t.eventEmitter=Se()(Se.a),t.addConnection=t.addConnection.bind(ji(t)),t.editConnection=t.editConnection.bind(ji(t)),t.testConnection=t.testConnection.bind(ji(t)),t}return t=o,(n=[{key:\"componentWillMount\",value:function(){var e=this;if(\"ADD\"!==this.props.mode){this.setState({loading:!0});var t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId};be.a.getConnection(t).subscribe((function(t){var n=Object(d.E)(t,\"properties\",\"projectId\"),a=Object(d.E)(t,\"properties\",\"service-account-keyfile\"),r=\"EDIT\"===e.props.mode?t.name:\"\";e.setState({name:r,projectId:n,serviceAccountKeyfile:a,loading:!1})}),(function(t){console.log(\"failed to fetch connection detail\",t),e.setState({loading:!1})}))}}},{key:\"addConnection\",value:function(){var e=this,t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.GCS,properties:this.constructProperties()};be.a.createConnection({context:t},n).subscribe((function(){e.setState({error:null}),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"editConnection\",value:function(){var e=this,t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId},n={name:this.state.name,id:this.props.connectionId,type:Tt.GCS,properties:this.constructProperties()};be.a.updateConnection(t,n).subscribe((function(){e.setState({error:null}),e.eventEmitter.emit(\"DATAPREP_CONNECTION_EDIT_GCS\",e.props.connectionId),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))}},{key:\"testConnection\",value:function(){var e=this;this.setState({testConnectionLoading:!0,connectionResult:{message:null,type:null},error:null});var t=ge.a.getState().selectedNamespace,n={name:this.state.name,type:Tt.GCS,properties:this.constructProperties()};be.a.gcsTestConnection({context:t},n).subscribe((function(t){e.setState({connectionResult:{type:dc.a.SUCCESS,message:t.message},testConnectionLoading:!1})}),(function(t){console.log(\"Error testing Google Cloud Storage connection\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||ye.a.translate(\"\".concat(Ri,\".defaultTestErrorMessage\"));e.setState({connectionResult:{type:dc.a.DANGER,message:n},testConnectionLoading:!1})}))}},{key:\"handleChange\",value:function(e,t){this.setState(Ai({},e,t.target.value))}},{key:\"renderTestButton\",value:function(){var e=!this.state.name||this.state.testConnectionLoading;return c.a.createElement(ci.a,{loading:this.state.testConnectionLoading,label:ye.a.translate(\"\".concat(Ri,\".testConnection\")),className:\"btn btn-secondary\",onClick:this.testConnection,disabled:e,darker:!0,\"data-cy\":\"wrangler-\".concat(Tt.GCS,\"-test-connection-button\")})}},{key:\"renderAddConnectionButton\",value:function(){var e=!this.state.name,t=this.addConnection;return\"EDIT\"===this.props.mode&&(t=this.editConnection),c.a.createElement(Ee.ModalFooter,null,c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:t,disabled:e,\"data-cy\":\"wrangler-\".concat(Tt.GCS,\"-add-connection-button\")},ye.a.translate(\"\".concat(Ri,\".Buttons.\").concat(this.props.mode))),this.renderTestButton())}},{key:\"renderContent\",value:function(){return this.state.loading?c.a.createElement(\"div\",{className:\"gcs-detail text-center\"},c.a.createElement(\"br\",null),c.a.createElement(qo.a,null)):c.a.createElement(\"div\",{className:\"gcs-detail\"},c.a.createElement(\"div\",{className:\"form\"},c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(Ri,\".name\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:\"EDIT\"===this.props.mode,placeholder:ye.a.translate(\"\".concat(Ri,\".Placeholders.name\")),\"data-cy\":\"wrangler-\".concat(Tt.GCS,\"-connection-name\")})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(Ri,\".projectId\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.projectId,onChange:this.handleChange.bind(this,\"projectId\"),placeholder:ye.a.translate(\"\".concat(Ri,\".Placeholders.projectId\")),\"data-cy\":\"wrangler-\".concat(Tt.GCS,\"-connection-projectid\")})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(Ri,\".serviceAccountKeyfile\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.serviceAccountKeyfile,onChange:this.handleChange.bind(this,\"serviceAccountKeyfile\"),placeholder:ye.a.translate(\"\".concat(Ri,\".Placeholders.serviceAccountKeyfile\")),\"data-cy\":\"wrangler-\".concat(Tt.GCS,\"-connection-serviceaccount-filepath\")}))))))}},{key:\"renderError\",value:function(){if(!this.state.error&&!this.state.connectionResult.message)return null;if(this.state.error)return c.a.createElement(dc.b,{type:dc.a.DANGER,message:ye.a.translate(\"\".concat(Ri,\".ErrorMessages.\").concat(this.props.mode)),extendedMessage:this.state.error});var e=this.state.connectionResult.type;return c.a.createElement(dc.b,{message:ye.a.translate(\"\".concat(\"features.DataPrepConnections.AddConnections\",\".TestConnectionLabels.\").concat(e.toLowerCase())),extendedMessage:e===dc.a.SUCCESS?null:this.state.connectionResult.message,type:e})}},{key:\"render\",value:function(){return c.a.createElement(\"div\",null,c.a.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"gcs-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},c.a.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(\"\".concat(Ri,\".ModalHeader.\").concat(this.props.mode),{connection:this.props.connectionId})),c.a.createElement(Ee.ModalBody,null,this.renderContent()),this.renderAddConnectionButton(),this.renderError()))}}])&&Ni(t.prototype,n),a&&Ni(t,a),o}(o.Component);function Mi(e){return(Mi=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Bi(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Fi(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ui(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=zi(e);if(t){var r=zi(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Gi(this,n)}}function Gi(e,t){return!t||\"object\"!==Mi(t)&&\"function\"!=typeof t?Ki(e):t}function Ki(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Li.propTypes={close:r.a.func,onAdd:r.a.func,mode:r.a.oneOf([\"ADD\",\"EDIT\",\"DUPLICATE\"]).isRequired,connectionId:r.a.string};var qi=\"features.DataPrepConnections.AddConnections.BigQuery\";n(2315);var Vi=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(o,e);var t,n,a,r=Ui(o);function o(){var e;Bi(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hi(Ki(e=r.call.apply(r,[this].concat(n))),\"state\",{error:null,name:\"\",projectId:\"\",bucket:\"\",serviceAccountKeyfile:\"\",testConnectionLoading:!1,connectionResult:{message:null,type:null}}),Hi(Ki(e),\"constructProperties\",(function(){var t={};return e.state.projectId&&e.state.projectId.length>0&&(t.projectId=e.state.projectId.trim()),e.state.serviceAccountKeyfile&&e.state.serviceAccountKeyfile.length>0&&(t[\"service-account-keyfile\"]=e.state.serviceAccountKeyfile.trim()),e.state.bucket&&e.state.bucket.length>0&&(t.bucket=e.state.bucket.trim()),t})),Hi(Ki(e),\"addConnection\",(function(){var t=ge.a.getState().selectedNamespace,n={name:e.state.name,type:\"BIGQUERY\",properties:e.constructProperties()};be.a.createConnection({context:t},n).subscribe((function(){e.setState({error:null}),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))})),Hi(Ki(e),\"editConnection\",(function(){var t={context:ge.a.getState().selectedNamespace,connectionId:e.props.connectionId},n={name:e.state.name,id:e.props.connectionId,type:\"BIGQUERY\",properties:e.constructProperties()};be.a.updateConnection(t,n).subscribe((function(){e.setState({error:null}),e.eventEmitter.emit(\"DATAPREP_CONNECTION_EDIT_BIGQUERY\",e.props.connectionId),e.props.onAdd(),e.props.close()}),(function(t){console.log(\"err\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\");e.setState({error:n})}))})),Hi(Ki(e),\"testConnection\",(function(){e.setState({testConnectionLoading:!0,connectionResult:{message:null,type:null},error:null});var t=ge.a.getState().selectedNamespace,n={name:e.state.name,type:\"BIGQUERY\",properties:e.constructProperties()};be.a.bigQueryTestConnection({context:t},n).subscribe((function(t){e.setState({connectionResult:{type:dc.a.SUCCESS,message:t.message},testConnectionLoading:!1})}),(function(t){console.log(\"Error testing Google BigQuery connection\",t);var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||ye.a.translate(\"\".concat(qi,\".defaultTestErrorMessage\"));e.setState({connectionResult:{type:dc.a.DANGER,message:n},testConnectionLoading:!1})}))})),Hi(Ki(e),\"handleChange\",(function(t,n){e.setState(Hi({},t,n.target.value))})),Hi(Ki(e),\"renderTestButton\",(function(){var t=!e.state.name;return c.a.createElement(\"span\",{className:\"test-connection-button\"},c.a.createElement(ci.a,{className:\"btn btn-secondary\",onClick:e.testConnection,disabled:t,loading:e.state.testConnectionLoading,label:ye.a.translate(\"\".concat(qi,\".testConnection\")),darker:!0,\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-test-connection-button\")}))})),Hi(Ki(e),\"renderAddConnectionButton\",(function(){var t=!e.state.name||e.state.testConnectionLoading,n=e.addConnection;return\"EDIT\"===e.props.mode&&(n=e.editConnection),c.a.createElement(Ee.ModalFooter,null,c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:n,disabled:t,\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-add-connection-button\")},ye.a.translate(\"\".concat(qi,\".Buttons.\").concat(e.props.mode))),e.renderTestButton())})),e}return t=o,(n=[{key:\"componentWillMount\",value:function(){var e=this;if(this.eventEmitter=Se()(Se.a),\"ADD\"!==this.props.mode){this.setState({loading:!0});var t={context:ge.a.getState().selectedNamespace,connectionId:this.props.connectionId};be.a.getConnection(t).subscribe((function(t){var n=Object(d.E)(t,\"properties\",\"projectId\"),a=Object(d.E)(t,\"properties\",\"service-account-keyfile\"),r=Object(d.E)(t,\"properties\",\"bucket\"),o=\"EDIT\"===e.props.mode?t.name:\"\";e.setState({name:o,projectId:n,serviceAccountKeyfile:a,bucket:r,loading:!1})}),(function(t){console.log(\"failed to fetch connection detail\",t),e.setState({loading:!1})}))}}},{key:\"renderContent\",value:function(){return this.state.loading?c.a.createElement(\"div\",{className:\"bigquery-detail text-center\"},c.a.createElement(\"br\",null),c.a.createElement(qo.a,null)):c.a.createElement(\"div\",{className:\"bigquery-detail\"},c.a.createElement(\"div\",{className:\"form\"},c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(qi,\".name\")),c.a.createElement(\"span\",{className:\"asterisk\"},\"*\")),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:\"EDIT\"===this.props.mode,placeholder:ye.a.translate(\"\".concat(qi,\".Placeholders.name\")),\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-connection-name\")})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(qi,\".projectId\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.projectId,onChange:this.handleChange.bind(this,\"projectId\"),placeholder:ye.a.translate(\"\".concat(qi,\".Placeholders.projectId\")),\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-connection-projectid\")})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(qi,\".serviceAccountKeyfile\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.serviceAccountKeyfile,onChange:this.handleChange.bind(this,\"serviceAccountKeyfile\"),placeholder:ye.a.translate(\"\".concat(qi,\".Placeholders.serviceAccountKeyfile\")),\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-connection-serviceaccount-filepath\")})))),c.a.createElement(\"div\",{className:\"form-group row\"},c.a.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(\"\".concat(qi,\".bucket\"))),c.a.createElement(\"div\",{className:\"col-8\"},c.a.createElement(\"div\",{className:\"input-text\"},c.a.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.bucket,onChange:this.handleChange.bind(this,\"bucket\"),placeholder:ye.a.translate(\"\".concat(qi,\".Placeholders.bucket\")),\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-connection-temp-bucket\")}))))))}},{key:\"renderMessage\",value:function(){if(!this.state.error&&!this.state.connectionResult.message)return null;if(this.state.error)return c.a.createElement(dc.b,{type:dc.a.DANGER,message:ye.a.translate(\"\".concat(qi,\".ErrorMessages.\").concat(this.props.mode)),extendedMessage:this.state.error});var e=this.state.connectionResult.type;return c.a.createElement(dc.b,{message:ye.a.translate(\"\".concat(\"features.DataPrepConnections.AddConnections\",\".TestConnectionLabels.\").concat(e.toLowerCase())),extendedMessage:e===dc.a.SUCCESS?null:this.state.connectionResult.message,type:e})}},{key:\"render\",value:function(){return c.a.createElement(\"div\",null,c.a.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"bigquery-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},c.a.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(\"\".concat(qi,\".ModalHeader.\").concat(this.props.mode),{connection:this.props.connectionId})),c.a.createElement(Ee.ModalBody,null,this.renderContent()),this.renderAddConnectionButton(),this.renderMessage()))}}])&&Fi(t.prototype,n),a&&Fi(t,a),o}(o.Component);Hi(Vi,\"propTypes\",{close:r.a.func,onAdd:r.a.func,mode:r.a.oneOf([\"ADD\",\"EDIT\",\"DUPLICATE\"]).isRequired,connectionId:r.a.string});var Qi,Yi=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),Xi=\"features.DataPrepConnections.AddConnections.Spanner\";n(2317),function(e){e.Add=\"ADD\",e.Edit=\"EDIT\",e.Duplicate=\"DUPLICATE\"}(Qi||(Qi={}));var Zi,$i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null,name:\"\",projectId:\"\",serviceAccountKeyfile:\"\",testConnectionLoading:!1,connectionResult:{message:\"\",type:\"\"},loading:!1},t.constructProperties=function(){var e={};return t.state.projectId&&t.state.projectId.length>0&&(e.projectId=t.state.projectId.trim()),t.state.serviceAccountKeyfile&&t.state.serviceAccountKeyfile.length>0&&(e[\"service-account-keyfile\"]=t.state.serviceAccountKeyfile.trim()),e},t.addConnection=function(){var e=Object(ge.d)(),n={name:t.state.name,type:Tt.SPANNER,properties:t.constructProperties()};be.a.createConnection({context:e},n).subscribe((function(){t.setState({error:null}),t.props.onAdd(),t.props.close()}),(function(e){var n=Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||e;t.setState({error:n})}))},t.editConnection=function(){var e={context:Object(ge.d)(),connectionId:t.props.connectionId},n={name:t.state.name,id:t.props.connectionId,type:Tt.SPANNER,properties:t.constructProperties()};be.a.updateConnection(e,n).subscribe((function(){t.setState({error:null}),t.props.onAdd(),t.props.close()}),(function(e){var n=Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||e;t.setState({error:n})}))},t.testConnection=function(){t.setState({testConnectionLoading:!0,connectionResult:{message:\"\",type:\"\"},error:null});var e=Object(ge.d)(),n={name:t.state.name,type:Tt.SPANNER,properties:t.constructProperties()};be.a.spannerTestConnection({context:e},n).subscribe((function(e){t.setState({connectionResult:{type:dc.a.SUCCESS,message:e.message},testConnectionLoading:!1})}),(function(e){var n=Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||ye.a.translate(Xi+\".defaultTestErrorMessage\");t.setState({connectionResult:{type:dc.a.DANGER,message:n},testConnectionLoading:!1})}))},t.handleChange=function(e,n){var a;t.setState(((a={})[e]=n.target.value,a))},t.renderTestButton=function(){var e=!t.state.name;return o.createElement(\"span\",{className:\"test-connection-button\"},o.createElement(ci.a,{className:\"btn btn-secondary\",onClick:t.testConnection,disabled:e,loading:t.state.testConnectionLoading,label:ye.a.translate(Xi+\".testConnection\"),darker:!0,\"data-cy\":\"wrangler-\"+Tt.SPANNER+\"-test-connection-button\"}))},t.renderAddConnectionButton=function(){var e=!t.state.name||t.state.testConnectionLoading,n=t.addConnection;return t.props.mode===Qi.Edit&&(n=t.editConnection),o.createElement(Ee.ModalFooter,null,o.createElement(\"button\",{className:\"btn btn-primary\",onClick:n,disabled:e,\"data-cy\":\"wrangler-\"+Tt.SPANNER+\"-add-connection-button\"},ye.a.translate(Xi+\".Buttons.\"+t.props.mode)),t.renderTestButton())},t.renderModalFooter=function(){return t.renderAddConnectionButton()},t}return Yi(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.mode!==Qi.Add){this.setState({loading:!0});var t={context:Object(ge.d)(),connectionId:this.props.connectionId};be.a.getConnection(t).subscribe((function(t){var n=Object(d.E)(t,\"properties\",\"projectId\"),a=Object(d.E)(t,\"properties\",\"service-account-keyfile\"),r=e.props.mode===Qi.Edit?t.name:\"\";e.setState({name:r,projectId:n,serviceAccountKeyfile:a,loading:!1})}),(function(t){var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||t;e.setState({loading:!1,error:n})}))}},t.prototype.renderContent=function(){return this.state.loading?o.createElement(\"div\",{className:\"spanner-detail text-center\"},o.createElement(\"br\",null),o.createElement(qo.a,null)):o.createElement(\"div\",{className:\"spanner-detail\"},o.createElement(\"div\",{className:\"form\"},o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(Xi+\".name\"),o.createElement(\"span\",{className:\"asterisk\"},\"*\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:this.props.mode===Qi.Edit,placeholder:ye.a.translate(Xi+\".Placeholders.name\").toString(),\"data-cy\":\"wrangler-\"+Tt.SPANNER+\"-connection-name\"})))),o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(Xi+\".projectId\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.projectId,onChange:this.handleChange.bind(this,\"projectId\"),placeholder:ye.a.translate(Xi+\".Placeholders.projectId\").toString(),\"data-cy\":\"wrangler-\"+Tt.SPANNER+\"-connection-projectid\"})))),o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(Xi+\".serviceAccountKeyfile\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.serviceAccountKeyfile,onChange:this.handleChange.bind(this,\"serviceAccountKeyfile\"),placeholder:ye.a.translate(Xi+\".Placeholders.serviceAccountKeyfile\").toString(),\"data-cy\":\"wrangler-\"+Tt.SPANNER+\"-connection-serviceaccount-filepath\"}))))))},t.prototype.renderMessage=function(){var e=this.state.connectionResult;if(!this.state.error&&!e.message)return null;if(this.state.error)return o.createElement(dc.b,{type:dc.a.DANGER,message:ye.a.translate(Xi+\".ErrorMessages.\"+this.props.mode),extendedMessage:this.state.error});var t=e.type,n=t===dc.a.SUCCESS?null:e.message;return o.createElement(dc.b,{message:ye.a.translate(\"features.DataPrepConnections.AddConnections.TestConnectionLabels.\"+t.toLowerCase()),extendedMessage:n,type:t})},t.prototype.render=function(){return o.createElement(\"div\",null,o.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"spanner-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},o.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(Xi+\".ModalHeader.\"+this.props.mode,{connection:this.props.connectionId})),o.createElement(Ee.ModalBody,null,this.renderContent()),this.renderModalFooter(),this.renderMessage()))},t}(o.PureComponent),Ji=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}(),es=\"features.DataPrepConnections.AddConnections.ADLS\";n(2319),function(e){e.Add=\"ADD\",e.Edit=\"EDIT\",e.Duplicate=\"DUPLICATE\"}(Zi||(Zi={}));var ts,ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null,name:\"\",clientID:\"\",clientSecret:\"\",refreshURL:\"\",accountFQDN:\"\",testConnectionLoading:!1,connectionResult:{message:\"\",type:\"\"},loading:!1},t.constructProperties=function(){var e={};return t.state.clientID&&t.state.clientID.length>0&&(e.clientID=t.state.clientID),t.state.clientSecret&&t.state.clientSecret.length>0&&(e.clientSecret=t.state.clientSecret),t.state.refreshURL&&t.state.refreshURL.length>0&&(e.refreshURL=t.state.refreshURL),t.state.accountFQDN&&t.state.accountFQDN.length>0&&(e.accountFQDN=t.state.accountFQDN),e},t.addConnection=function(){var e=Object(ge.d)(),n={name:t.state.name,type:Tt.ADLS,properties:t.constructProperties()};be.a.createConnection({context:e},n).subscribe((function(){t.setState({error:null}),t.props.onAdd(),t.props.close()}),(function(e){var n=Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||e;t.setState({error:n})}))},t.editConnection=function(){var e={context:Object(ge.d)(),connectionId:t.props.connectionId},n={name:t.state.name,id:t.props.connectionId,type:Tt.ADLS,properties:t.constructProperties()};be.a.updateConnection(e,n).subscribe((function(){t.setState({error:null}),t.props.onAdd(),t.props.close()}),(function(e){var n=Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||e;t.setState({error:n})}))},t.testConnection=function(){t.setState({testConnectionLoading:!0,connectionResult:{message:\"\",type:\"\"},error:null});var e=Object(ge.d)(),n={name:t.state.name,type:Tt.ADLS,properties:t.constructProperties()};be.a.adlsTestConnection({context:e},n).subscribe((function(e){t.setState({connectionResult:{type:dc.a.SUCCESS,message:e.message},testConnectionLoading:!1})}),(function(e){var n=Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||ye.a.translate(es+\".defaultTestErrorMessage\");t.setState({connectionResult:{type:dc.a.DANGER,message:n},testConnectionLoading:!1})}))},t.handleChange=function(e,n){var a;t.setState(((a={})[e]=n.target.value,a))},t.isButtonDisabled=function(){return!(t.state.name&&t.state.accountFQDN&&t.state.clientID&&t.state.clientSecret&&t.state.refreshURL)||t.state.testConnectionLoading},t.renderTestButton=function(){var e=t.isButtonDisabled();return o.createElement(\"span\",{className:\"test-connection-button\"},o.createElement(ci.a,{className:\"btn btn-secondary\",onClick:t.testConnection,disabled:e,loading:t.state.testConnectionLoading,label:ye.a.translate(es+\".testConnection\"),darker:!0}))},t.renderAddConnectionButton=function(){var e=t.isButtonDisabled(),n=t.addConnection;return t.props.mode===Zi.Edit&&(n=t.editConnection),o.createElement(Ee.ModalFooter,null,o.createElement(\"button\",{className:\"btn btn-primary\",onClick:n,disabled:e},ye.a.translate(es+\".Buttons.\"+t.props.mode)),t.renderTestButton())},t.renderModalFooter=function(){return t.renderAddConnectionButton()},t}return Ji(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.mode!==Zi.Add){this.setState({loading:!0});var t={context:Object(ge.d)(),connectionId:this.props.connectionId};be.a.getConnection(t).subscribe((function(t){var n=e.props.mode===Zi.Edit?t.name:\"\",a=Object(d.E)(t,\"properties\",\"accountFQDN\"),r=Object(d.E)(t,\"properties\",\"clientID\"),o=Object(d.E)(t,\"properties\",\"clientSecret\"),c=Object(d.E)(t,\"properties\",\"refreshURL\");e.setState({name:n,accountFQDN:a,clientID:r,clientSecret:o,refreshURL:c,loading:!1})}),(function(t){var n=Object(d.E)(t,\"response\",\"message\")||Object(d.E)(t,\"response\")||t;e.setState({loading:!1,error:n})}))}},t.prototype.renderContent=function(){return this.state.loading?o.createElement(\"div\",{className:\"adls-detail text-xs-center\"},o.createElement(\"br\",null),o.createElement(qo.a,null)):o.createElement(\"div\",{className:\"adls-detail\"},o.createElement(\"div\",{className:\"form\"},o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(es+\".name\"),o.createElement(\"span\",{className:\"asterisk\"},\"*\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.name,onChange:this.handleChange.bind(this,\"name\"),disabled:this.props.mode===Zi.Edit,placeholder:ye.a.translate(es+\".Placeholders.name\").toString()})))),o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(es+\".accountFQDN\"),o.createElement(\"span\",{className:\"asterisk\"},\"*\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.accountFQDN,onChange:this.handleChange.bind(this,\"accountFQDN\"),placeholder:ye.a.translate(es+\".Placeholders.accountFQDN\").toString()})))),o.createElement(\"div\",{className:\"adls-gen1\"},o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(es+\".clientID\"),o.createElement(\"span\",{className:\"asterisk\"},\"*\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.clientID||\"\",onChange:this.handleChange.bind(this,\"clientID\"),placeholder:ye.a.translate(es+\".Placeholders.clientID\").toString()})))),o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(es+\".clientSecret\"),o.createElement(\"span\",{className:\"asterisk\"},\"*\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.clientSecret||\"\",onChange:this.handleChange.bind(this,\"clientSecret\"),placeholder:ye.a.translate(es+\".Placeholders.clientSecret\").toString()})))),o.createElement(\"div\",{className:\"form-group row\"},o.createElement(\"label\",{className:\"col-3 col-form-label text-right\"},ye.a.translate(es+\".refreshURL\"),o.createElement(\"span\",{className:\"asterisk\"},\"*\")),o.createElement(\"div\",{className:\"col-8\"},o.createElement(\"div\",{className:\"input-text\"},o.createElement(\"input\",{type:\"text\",className:\"form-control\",value:this.state.refreshURL||\"\",onChange:this.handleChange.bind(this,\"refreshURL\"),placeholder:ye.a.translate(es+\".Placeholders.refreshURL\").toString()})))))))},t.prototype.renderMessage=function(){var e=this.state.connectionResult;if(!this.state.error&&!e.message)return null;if(this.state.error)return o.createElement(dc.b,{type:dc.a.DANGER,message:ye.a.translate(es+\".ErrorMessages.\"+this.props.mode),extendedMessage:this.state.error});var t=e.type,n=t===dc.a.SUCCESS?null:e.message;return o.createElement(dc.b,{message:ye.a.translate(\"features.DataPrepConnections.AddConnections.TestConnectionLabels.\"+t.toLowerCase()),extendedMessage:n,type:t})},t.prototype.render=function(){return o.createElement(\"div\",null,o.createElement(Ee.Modal,{isOpen:!0,toggle:this.props.close,size:\"lg\",className:\"adls-connection-modal cdap-modal\",backdrop:\"static\",zIndex:\"1061\"},o.createElement(Ee.ModalHeader,{toggle:this.props.close},ye.a.translate(es+\".ModalHeader.\"+this.props.mode,{connection:this.props.connectionId})),o.createElement(Ee.ModalBody,null,this.renderContent()),this.renderModalFooter(),this.renderMessage()))},t}(o.PureComponent),as=n(30),rs=n.n(as);function os(e){return(os=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function cs(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function is(e,t){return(is=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ss(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=us(e);if(t){var r=us(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ls(this,n)}}function ls(e,t){return!t||\"object\"!==os(t)&&\"function\"!=typeof t?ps(e):t}function ps(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function us(e){return(us=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2321);var fs=\"features.DataPrepConnections.ConnectionManagement\",ms=(ds(ts={},Tt.DATABASE,Lc),ds(ts,Tt.KAFKA,bi),ds(ts,Tt.S3,Ii),ds(ts,Tt.GCS,Li),ds(ts,Tt.BIGQUERY,Vi),ds(ts,Tt.SPANNER,$i),ds(ts,Tt.ADLS,ns),ts),bs=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&is(e,t)}(o,e);var t,n,a,r=ss(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),ds(ps(t=r.call(this,e)),\"delete\",(function(){t.setState({loading:!0});var e=ge.a.getState().selectedNamespace,n=t.props.connectionInfo.id,a={context:e,connectionId:n};be.a.deleteConnection(a).subscribe((function(){t.setState({loading:!1}),t.toggleDeleteConfirmation(),t.props.onAction(\"delete\",n)}),(function(e){var n=Object(d.E)(e,\"message\")||Object(d.E)(e,\"response\",\"message\")||Object(d.E)(e,\"response\")||null;t.setState({loading:!1,error:ye.a.translate(\"\".concat(fs,\".Confirmations.failedDeleteMessage\")),extendedErrorMessage:n})}))})),t.state={deleteConfirmation:!1,extendedErrorMessage:null,error:null,edit:!1,duplicate:!1,loading:!1},t.delete=t.delete.bind(ps(t)),t.toggleDeleteConfirmation=t.toggleDeleteConfirmation.bind(ps(t)),t.toggleEdit=t.toggleEdit.bind(ps(t)),t.toggleDuplicate=t.toggleDuplicate.bind(ps(t)),t}return t=o,(n=[{key:\"toggleDeleteConfirmation\",value:function(){var e=this;this.setState({deleteConfirmation:!this.state.deleteConfirmation},(function(){e.state.deleteConfirmation?rs.a.bind(\"enter\",e.delete):rs.a.unbind(\"enter\")}))}},{key:\"toggleEdit\",value:function(){this.setState({edit:!this.state.edit})}},{key:\"toggleDuplicate\",value:function(){this.setState({duplicate:!this.state.duplicate})}},{key:\"renderDeleteConfirmationModal\",value:function(){if(!this.state.deleteConfirmation)return null;var e;e=this.state.loading?c.a.createElement(Ee.ModalBody,null,c.a.createElement(\"div\",{className:\"text-center\"},c.a.createElement(qo.a,null))):c.a.createElement(Ee.ModalBody,null,c.a.createElement(\"h4\",null,ye.a.translate(\"\".concat(fs,\".Confirmations.DatabaseDelete.mainMessage\"),{connection:this.props.connectionInfo.name})),c.a.createElement(\"p\",null,ye.a.translate(\"\".concat(fs,\".Confirmations.DatabaseDelete.helper1\"))),c.a.createElement(\"p\",null,ye.a.translate(\"\".concat(fs,\".Confirmations.DatabaseDelete.helper2\"))),c.a.createElement(\"br\",null));var t=this.props.connectionInfo.type;return c.a.createElement(Ee.Modal,{backdrop:\"static\",isOpen:!0,toggle:this.toggleDeleteConfirmation,className:\"connection-delete-confirmation-modal cdap-modal\",zIndex:\"1061\"},c.a.createElement(Ee.ModalHeader,{toggle:this.toggleDeleteConfirmation},ye.a.translate(\"\".concat(fs,\".Confirmations.DatabaseDelete.header\"),{connection:this.props.connectionInfo.name})),e,c.a.createElement(Ee.ModalFooter,null,c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:this.delete,\"data-cy\":\"wrangler-\".concat(t,\"-delete-confirmation-btn\")},ye.a.translate(\"\".concat(fs,\".Confirmations.DatabaseDelete.deleteButton\"))),c.a.createElement(\"button\",{className:\"btn btn-secondary\",onClick:this.toggleDeleteConfirmation},ye.a.translate(\"\".concat(fs,\".Confirmations.DatabaseDelete.cancel\")))),c.a.createElement(kt.a,{condition:this.state.error},c.a.createElement(dc.b,{type:\"DANGER\",message:this.state.error,extendedMessage:this.state.extendedErrorMessage})))}},{key:\"renderEdit\",value:function(){if(!this.state.edit)return null;var e=ms[this.props.connectionInfo.type];return c.a.createElement(e,{close:this.toggleEdit,mode:\"EDIT\",connectionId:this.props.connectionInfo.id,onAdd:this.props.onAction})}},{key:\"renderDuplicate\",value:function(){if(!this.state.duplicate)return null;var e=ms[this.props.connectionInfo.type];return c.a.createElement(e,{close:this.toggleDuplicate,mode:\"DUPLICATE\",connectionId:this.props.connectionInfo.id,onAdd:this.props.onAction})}},{key:\"render\",value:function(){var e=this.props.connectionInfo,t=e.type,n=e.id;return c.a.createElement(\"span\",{className:\"expanded-menu-popover-icon text-center float-right\"},c.a.createElement(kt.a,{condition:!this.props.connectionInfo.preconfigured},c.a.createElement(Kn.a,{icon:\"fa-ellipsis-v\",popperClassName:\"connection-action-popover\",fade:!1,\"data-cy\":\"connection-action-popover-toggle-\".concat(t,\"-\").concat(n)},c.a.createElement(\"div\",{className:\"connection-action-item\",onClick:this.toggleEdit,\"data-cy\":\"wrangler-\".concat(this.props.connectionInfo.type,\"-connection-edit\")},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(fs,\".edit\")))),c.a.createElement(\"div\",{className:\"connection-action-item\",onClick:this.toggleDuplicate,\"data-cy\":\"wrangler-\".concat(this.props.connectionInfo.type,\"-connection-duplicate\")},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(fs,\".duplicate\")))),c.a.createElement(\"div\",{className:\"connection-action-item\",onClick:this.toggleDeleteConfirmation,\"data-cy\":\"wrangler-\".concat(this.props.connectionInfo.type,\"-connection-delete\")},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(fs,\".delete\")))))),this.renderDeleteConfirmationModal(),this.renderEdit(),this.renderDuplicate())}}])&&cs(t.prototype,n),a&&cs(t,a),o}(o.Component);bs.propTypes={connectionInfo:r.a.object,onAction:r.a.func};var gs=n(1597),hs=n.n(gs),ys=n(111),vs=n(235),Es=function(e){var t=e.defaultConnection,n=e.showAddConnectionPopover,a=e.connectionsList,r=void 0===a?[]:a,c=e.toggleSidepanel,i=e.showPanelToggle,s=r.find((function(e){return e.id===t}));if(Object(d.A)(t)||!s)return o.createElement(\"div\",null,o.createElement(_t,{allowSidePanelToggle:!0,toggle:c,browserTitle:ye.a.translate(\"features.DataPrepConnections.NoDefaultConnection.title\"),showPanelToggle:i}),o.createElement(Sn.a,{title:ye.a.translate(\"features.DataPrepConnections.NoDefaultConnection.title\")},o.createElement(\"span\",null,o.createElement(\"br\",null),o.createElement(\"ul\",null,o.createElement(\"li\",null,o.createElement(\"span\",{className:\"link-text\",onClick:n},\"Create\"),o.createElement(\"span\",null,\"a new connection; or\")),o.createElement(\"li\",null,o.createElement(\"span\",null,\"Click on an existing connection to browse\"))))));var l=s.type,p=s.id,u=l.toLowerCase(),f=\"/ns/\"+Object(ge.d)()+\"/connections\";return o.createElement(Vt.Redirect,{to:f+\"/\"+u+\"/\"+p})},ws=n(86),Ss=n.n(ws);function Os(){return(Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xs(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Cs(e){return(Cs=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ks(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach((function(t){As(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ns(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _s(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Ds(e);if(t){var r=Ds(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Ps(this,n)}}function Ps(e,t){return!t||\"object\"!==Cs(t)&&\"function\"!=typeof t?js(e):t}function js(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(2323);var Rs=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(o,e);var t,n,a,r=_s(o);function o(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,o),As(js(t=r.call(this,e)),\"onServiceStart\",(function(){t.checkBackendUp()})),As(js(t),\"fetchConnectionTypes\",(function(){be.a.listConnectionTypes().subscribe((function(e){t.setState({connectionTypes:e}),t.fetchConnectionsList()}),(function(e){e&&404===e.statusCode&&t.setState({connectionTypes:Object.keys(Tt).map((function(e){return{type:e}}))},t.fetchConnectionsList),console.log(e)}))})),As(js(t),\"onActionFromConnectionsPopover\",(function(e,n){var a,r,o=me.getState();if(o.activeBrowser.name&&(a=o.activeBrowser.name.toLowerCase(),r=o[a].connectionId),\"delete\"===e&&r===n)return t.setState({redirectToDefaultConnectionOnDelete:!0});t.fetchConnectionsList()})),As(js(t),\"fetchConnectionsList\",(function(){var e=Object(ge.d)();be.a.listConnections({context:e,type:\"*\"}).subscribe((function(e){var n={};e.default&&(n.defaultConnection=e.default);var a=[],r=[],o=[],c=[],i=[],s=[],l=[];if(!t.state.activeConnectionId&&!t.state.activeConnectionType&&n.defaultConnection){var p=Yo()(e.values,{id:n.defaultConnection});p&&(n.activeConnectionid=Object(d.E)(p,\"id\"),n.activeConnectionType=Object(d.E)(p,\"type\"))}e.values.forEach((function(e){e.type===Tt.DATABASE?a.push(e):e.type===Tt.KAFKA?r.push(e):e.type===Tt.S3?o.push(e):e.type===Tt.GCS?c.push(e):e.type===Tt.BIGQUERY?i.push(e):e.type===Tt.SPANNER?s.push(e):e.type===Tt.ADLS&&l.push(e)})),!(n=ks({},n,{connectionsList:e.values,databaseList:a,kafkaList:r,s3List:o,gcsList:c,bigQueryList:i,spannerList:s,adlsList:l,loading:!1})).defaultConnection&&t.props.singleWorkspaceMode&&t.props.sidePanelExpanded&&(n.sidePanelExpanded=!0),t.setState(n)}))})),As(js(t),\"toggleAddConnectionPopover\",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.state.showAddConnectionPopover!==e&&t.setState({showAddConnectionPopover:e})})),As(js(t),\"toggleSidePanel\",(function(){t.props.allowSidePanelToggle&&t.setState({sidePanelExpanded:!t.state.sidePanelExpanded})})),As(js(t),\"onUploadSuccess\",(function(e){if(t.props.enableRouting){var n=Object(ge.d)();Dt.a.push(\"/ns/\".concat(n,\"/wrangler/\").concat(e))}else t.props.onWorkspaceCreate&&t.props.onWorkspaceCreate(e)})),As(js(t),\"renderContent\",(function(){return t.props.enableRouting&&!t.props.singleWorkspaceMode?t.renderRoutes():t.showNonRoutableContents()}));var n=ln.a.getState().dataprep.workspaceInfo,a=t.props.defaultConnectionType||Object(d.E)(n,\"properties\",\"connection\"),c=t.props.defaultConnectionId||Object(d.E)(n,\"properties\",\"connectionid\");return a&&(a=Tt[a.toUpperCase()]),t.state={sidePanelExpanded:t.props.sidePanelExpanded||!!t.props.enableRouting,backendChecking:!0,backendDown:!1,loading:!!t.props.enableRouting,connectionTypes:[],defaultConnection:null,databaseList:[],kafkaList:[],s3List:[],gcsList:[],bigQueryList:[],spannerList:[],adlsList:[],activeConnectionid:c,activeConnectionType:a,showAddConnectionPopover:!1,showUpload:\"UPLOAD\"===a||!1,redirectToDefaultConnectionOnDelete:!1},t}return t=o,(n=[{key:\"componentDidMount\",value:function(){var e=this;this.checkBackendUp(),this.props.enableRouting||(this.dataprepSubscription=ln.a.subscribe((function(){var t=ln.a.getState().dataprep.workspaceInfo;if(Object(d.E)(t,\"properties\",\"connectionid\")!==e.state.activeConnectionid||Object(d.E)(t,\"properties\",\"id\")!==e.state.activeConnectionid){var n=Object(d.E)(t,\"properties\",\"connectionid\")||Object(d.E)(t,\"properties\",\"id\"),a=Object(d.E)(t,\"properties\",\"connection\");a&&(a=Tt[a.toUpperCase()]),e.setState({activeConnectionid:n,activeConnectionType:a,defaultConnection:n})}else e.fetchConnectionTypes()})))}},{key:\"componentDidUpdate\",value:function(){if(this.state.redirectToDefaultConnectionOnDelete){var e={redirectToDefaultConnectionOnDelete:!1};this.props.enableRouting||(e=ks({},e,{activeConnectionid:null,activeConnectionType:null})),this.setState(e,this.fetchConnectionTypes)}}},{key:\"componentWillReceiveProps\",value:function(e){e.defaultConnectionType===this.props.defaultConnectionType&&e.defaultConnectionId===this.props.defaultConnectionId||this.setState({activeConnectionType:e.defaultConnectionType||this.props.defaultConnectionType,activeConnectionid:e.defaultConnectionId||this.props.defaultConnectionId})}},{key:\"componentWillUnmount\",value:function(){\"function\"==typeof this.dataprepSubscription&&(Ce(),this.dataprepSubscription())}},{key:\"checkBackendUp\",value:function(){var e=this;be.a.ping().combineLatest(be.a.getApp()).subscribe((function(t){var n=t[1];if(new ys.a(vs.a).compareTo(new ys.a(n.artifact.version))>0)return console.log(\"dataprep minimum version not met\"),void e.setState({backendChecking:!1,backendDown:!0});e.setState({backendChecking:!1,backendDown:!1}),e.fetchConnectionTypes()}),(function(){e.setState({backendChecking:!1,backendDown:!0})}))}},{key:\"handlePropagation\",value:function(e,t){var n,a,r;this.props.enableRouting&&!this.props.singleWorkspaceMode||(Object(d.G)(t),jt()(e)||(\"object\"!==Cs(e)||e.type!==Tt.UPLOAD?(\"object\"===Cs(e)&&e.type===Tt.FILE?(r={name:Tt.FILE,path:\"/\"},Oe(r),Pe(r.path),n=Tt.FILE):\"object\"===Cs(e)&&e.type===Tt.DATABASE?(Ae({name:Tt.DATABASE,id:e.id}),n=Tt.DATABASE,a=e.id):\"object\"===Cs(e)&&e.type===Tt.KAFKA?(Le({name:Tt.KAFKA,id:e.id}),n=Tt.KAFKA,a=e.id):\"object\"===Cs(e)&&e.type===Tt.S3?(Ge({name:Tt.S3,id:e.id,path:\"/\"}),a=e.id,n=Tt.S3):\"object\"===Cs(e)&&e.type===Tt.GCS?(Xe({name:Tt.GCS,id:e.id,path:\"/\"}),a=e.id,n=Tt.GCS):\"object\"===Cs(e)&&e.type===Tt.BIGQUERY?(tt({name:Tt.BIGQUERY,id:e.id},!0),a=e.id,n=Tt.BIGQUERY):\"object\"===Cs(e)&&e.type===Tt.SPANNER?(ot({name:Tt.SPANNER,id:e.id},!0),a=e.id,n=Tt.SPANNER):\"object\"===Cs(e)&&e.type===Tt.ADLS&&(ut({name:Tt.ADLS,id:e.id,path:\"/\"}),a=e.id,n=Tt.ADLS),this.setState({showUpload:!1,activeConnectionType:n,activeConnectionid:a})):this.setState({showUpload:!0})))}},{key:\"renderDatabaseDetail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.databaseList.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/database/\").concat(t.id),activeClassName:\"active\",className:p()(\"menu-item-expanded-list\",{active:e.state.activeConnectionType===Tt.DATABASE&&e.state.activeConnectionid===t.name}),isActive:function(n){return e.state.activeConnectionType===Tt.DATABASE&&e.state.activeConnectionid===t.name||n},onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.DATABASE})),isNativeLink:e.props.singleWorkspaceMode},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderKafkaDetail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.kafkaList.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/kafka/\").concat(t.id),activeClassName:\"active\",isActive:function(n){return e.state.activeConnectionType===Tt.KAFKA&&e.state.activeConnectionid===t.name||n},className:p()(\"menu-item-expanded-list\",{active:e.state.activeConnectionType===Tt.KAFKA&&e.state.activeConnectionid===t.name}),onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.KAFKA})),isNativeLink:e.props.singleWorkspaceMode},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderS3Detail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.s3List.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/s3/\").concat(t.id),activeClassName:\"active\",isActive:function(n){return e.state.activeConnectionType===Tt.S3&&e.state.activeConnectionid===t.name||n},className:p()(\"menu-item-expanded-list\",{active:e.state.activeConnectionType===Tt.S3&&e.state.activeConnectionid===t.name}),onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.S3})),isNativeLink:e.props.singleWorkspaceMode},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderGCSDetail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.gcsList.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/gcs/\").concat(t.id),isActive:function(n){return e.state.activeConnectionType===Tt.GCS&&e.state.activeConnectionid===t.name||n},className:p()(\"menu-item-expanded-list\",{active:e.state.activeConnectionType===Tt.GCS&&e.state.activeConnectionid===t.name}),onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.GCS})),isNativeLink:e.props.singleWorkspaceMode,\"data-cy\":\"wrangler-\".concat(Tt.GCS,\"-connection-\").concat(t.name)},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderBigQueryDetail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.bigQueryList.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/bigquery/\").concat(t.id),activeClassName:\"active\",isActive:function(n){return e.state.activeConnectionType===Tt.BIGQUERY&&e.state.activeConnectionid===t.name||n},className:p()(\"menu-item-expanded-list\",{active:e.state.activeConnectionType===Tt.BIGQUERY&&e.state.activeConnectionid===t.name}),onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.BIGQUERY})),isNativeLink:e.props.singleWorkspaceMode,\"data-cy\":\"wrangler-\".concat(Tt.BIGQUERY,\"-connection-\").concat(t.id)},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderSpannerDetail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.spannerList.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/spanner/\").concat(t.id),activeClassName:\"active\",isActive:function(n){return e.state.activeConnectionType===Tt.SPANNER&&e.state.activeConnectionid===t.name||n},className:p()(\"menu-item-expanded-list\",{active:e.state.activeConnectionType===Tt.SPANNER&&e.state.activeConnectionid===t.name}),onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.SPANNER})),isNativeLink:e.props.singleWorkspaceMode,\"data-cy\":\"wrangler-\".concat(Tt.SPANNER,\"-connection-\").concat(t.id)},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderADLSDetail\",value:function(){var e=this,t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",null,this.state.adlsList.map((function(t){return c.a.createElement(\"div\",{key:t.id,title:t.name,className:\"clearfix\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/adls/\").concat(t.id),activeClassName:\"active\",className:\"menu-item-expanded-list\",onClick:e.handlePropagation.bind(e,ks({},t,{name:Tt.ADLS})),isNativeLink:e.props.singleWorkspaceMode},t.name),c.a.createElement(bs,{connectionInfo:t,onAction:e.onActionFromConnectionsPopover}))})))}},{key:\"renderPanel\",value:function(){var e=this;if(!this.state.sidePanelExpanded)return null;var t=Object(ge.d)(),n=\"/ns/\".concat(t,\"/connections\");return c.a.createElement(\"div\",{className:\"connections-panel\"},c.a.createElement(\"div\",{className:\"panel-title\",onClick:this.toggleSidePanel},c.a.createElement(\"h5\",null,c.a.createElement(\"span\",{className:\"fa fa-fw panel-toggle-icon\"},c.a.createElement(s.a,{name:\"icon-chevron-left\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".title\"),{namespace:t})))),c.a.createElement(\"div\",{className:\"connections-menu\"},c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.UPLOAD})},c.a.createElement(\"div\",{className:\"menu-item\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/upload\"),activeClassName:\"active\",onClick:this.handlePropagation.bind(this,{type:Tt.UPLOAD}),isNativeLink:this.props.singleWorkspaceMode},c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-upload\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".upload\")))))),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.FILE})},c.a.createElement(\"div\",{className:\"menu-item\"},c.a.createElement(Yt.a,{to:\"\".concat(n,\"/file\"),activeClassName:\"active\",className:this.state.activeConnectionType===Tt.FILE?\"active\":\"\",isActive:function(t){return e.state.activeConnectionType===Tt.FILE||t},onClick:this.handlePropagation.bind(this,{type:Tt.FILE}),isNativeLink:this.props.singleWorkspaceMode},c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-hdfs\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".hdfs\")))))),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.DATABASE})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-database\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".database\"),{count:this.state.databaseList.length}))),this.renderDatabaseDetail())),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.KAFKA})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-kafka\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".kafka\"),{count:this.state.kafkaList.length}))),this.renderKafkaDetail())),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.S3})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-s3\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".s3\"),{count:this.state.s3List.length}))),this.renderS3Detail())),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.GCS})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-storage\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".gcs\"),{count:this.state.gcsList.length}))),this.renderGCSDetail())),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.BIGQUERY})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-bigquery\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".bigquery\"),{count:this.state.bigQueryList.length}))),this.renderBigQueryDetail())),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.SPANNER})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-spanner\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".spanner\"),{count:this.state.spannerList.length}))),this.renderSpannerDetail())),c.a.createElement(kt.a,{condition:Yo()(this.state.connectionTypes,{type:Tt.ADLS})},c.a.createElement(Ho,null,c.a.createElement(\"div\",null,c.a.createElement(\"span\",{className:\"fa fa-fw\"},c.a.createElement(s.a,{name:\"icon-adls\"})),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".adls\"),{count:this.state.adlsList.length}))),this.renderADLSDetail()))),c.a.createElement(Lo.a,{enableRouting:this.props.enableRouting}))}},{key:\"renderRoutes\",value:function(){var e=this,t=\"/ns/:namespace/connections\";return this.state.redirectToDefaultConnectionOnDelete?c.a.createElement(Vt.Redirect,{to:\"/ns/\".concat(Object(ge.d)(),\"/connections\")}):c.a.createElement(Vt.Switch,null,c.a.createElement(Vt.Route,{path:\"/ns/:namespace/connections/create\",render:function(){return c.a.createElement(Mo.a,{onRender:function(){e.setState({sidePanelExpanded:!1})},onUnmount:function(){e.setState({sidePanelExpanded:!0})},enableRouting:e.props.enableRouting})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/file\"),render:function(t){var n=t.match,a=Oe.bind(null,{name:Tt.FILE});return c.a.createElement(wo,{match:n,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:a,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/upload\"),render:function(){return c.a.createElement(Ro,{toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/database/:databaseId\"),render:function(t){var n=t.match.params.databaseId,a=Ae.bind(null,{name:Tt.DATABASE,id:n});return c.a.createElement(wo,{match:t,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:a,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/kafka/:kafkaId\"),render:function(t){var n=t.match.params.kafkaId,a=Le.bind(null,{name:Tt.KAFKA,id:n});return c.a.createElement(wo,{match:t,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:a,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/s3/:s3Id\"),render:function(t){var n=t.match.params.s3Id,a=hs.a.parse(t.location.search).prefix,r=void 0===a?\"/\":a,o=Ge.bind(null,{name:Tt.S3,id:n,path:r});return c.a.createElement(wo,{match:t,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:o,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/gcs/:gcsId\"),render:function(t){var n=t.match.params.gcsId,a=hs.a.parse(t.location.search).prefix,r=void 0===a?\"/\":a,o=Xe.bind(null,{name:Tt.GCS,id:n,path:r});return c.a.createElement(wo,{match:t,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:o,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/bigquery/:bigQueryId\"),render:function(t){var n=t.match.params.bigQueryId,a=tt.bind(null,{name:Tt.BIGQUERY,id:n});return c.a.createElement(wo,{match:t,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:a,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/spanner/:spannerId\"),render:function(t){var n=t.match,a=n.params.spannerId,r=ot.bind(null,{name:Tt.SPANNER,id:a});return c.a.createElement(wo,{match:n,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:r,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{path:\"\".concat(t,\"/adls/:adlsId\"),render:function(t){var n=t.match,a=n.params.adlsId,r=ut.bind(null,{name:Tt.ADLS,id:a});return c.a.createElement(wo,{match:n,toggle:e.toggleSidePanel,onWorkspaceCreate:e.onUploadSuccess,setActiveConnection:r,showPanelToggle:!e.state.sidePanelExpanded})}}),c.a.createElement(Vt.Route,{render:function(){var t=Yo()(e.state.connectionTypes,{type:Tt.FILE});return!e.state.defaultConnection&&t?c.a.createElement(Vt.Redirect,{to:\"/ns/\".concat(Object(ge.d)(),\"/connections/file\")}):c.a.createElement(Es,{defaultConnection:e.state.defaultConnection,connectionsList:e.state.connectionsList,showAddConnectionPopover:e.toggleAddConnectionPopover.bind(e,!0),toggleSidepanel:e.toggleSidePanel,showPanelToggle:!e.state.sidePanelExpanded})}}))}},{key:\"showNonRoutableContents\",value:function(){if(this.state.redirectToDefaultConnectionOnDelete)return null;if(this.state.showUpload)return c.a.createElement(Ro,{toggle:this.toggleSidePanel,onWorkspaceCreate:this.onUploadSuccess,showPanelToggle:!this.state.sidePanelExpanded});var e,t=this.props,n=t.enableRouting,a=xs(t,[\"enableRouting\"]);n=!this.props.singleWorkspaceMode&&this.props.enableRouting;var r=this.state,o=r.activeConnectionType,i=r.activeConnectionid,s=r.defaultConnection,l=r.connectionTypes,p=r.connectionsList,u=Yo()(p,{id:s});if(s=Object(d.A)(u)?null:s,this.state.activeConnectionType===Tt.DATABASE)e=Ae.bind(null,{name:Tt.DATABASE,id:this.state.activeConnectionid});else if(this.state.activeConnectionType===Tt.KAFKA)e=Le.bind(null,{name:Tt.KAFKA,id:this.state.activeConnectionid});else if(this.state.activeConnectionType===Tt.FILE)e=Oe.bind(null,{name:Tt.FILE});else if(this.state.activeConnectionType===Tt.S3){var f=ln.a.getState().dataprep.workspaceInfo,m=me.getState().s3;if(!m.connectionId||m.connectionId===Object(d.E)(f,\"properties\",\"connectionId\")){var b=\"/\";if(Ss()(f)){var g=f.properties.key,h=f.properties[\"bucket-name\"];b=h?\"/\".concat(h,\"/\").concat(g):me.getState().s3.prefix}e=Ge.bind(null,{name:Tt.S3,id:this.state.activeConnectionid,path:b})}}else if(this.state.activeConnectionType===Tt.GCS){var y=ln.a.getState().dataprep.workspaceInfo,v=me.getState().gcs;if(!v.connectionId||v.connectionId===Object(d.E)(y,\"properties\",\"connectionId\")){var E=\"/\";if(Ss()(y)&&y.properties.path){E=(E=(E=y.properties.path).split(\"/\")).slice(0,E.length-1).join(\"/\");var w=y.properties.bucket;E=w?Object(d.A)(E)?\"/\".concat(w):\"/\".concat(w,\"/\").concat(E,\"/\"):me.getState().gcs.prefix}e=Xe.bind(null,{name:Tt.GCS,id:this.state.activeConnectionid,path:E})}}else this.state.activeConnectionType===Tt.BIGQUERY?e=tt.bind(null,{name:Tt.BIGQUERY,id:this.state.activeConnectionid},!0):this.state.activeConnectionType===Tt.SPANNER?e=ot.bind(null,{name:Tt.SPANNER,id:this.state.activeConnectionid},!0):this.state.activeConnectionType===Tt.ADLS&&(e=ut.bind(null,{name:Tt.ADLS,id:this.state.activeConnectionid,path:\"/\"}));var S=Yo()(l,{type:Tt.FILE});if(!o&&!i&&!s){if(!S)return c.a.createElement(Es,{defaultConnection:this.state.defaultConnection,connectionsList:this.state.connectionsList,showAddConnectionPopover:this.toggleAddConnectionPopover.bind(this,!0),toggleSidepanel:this.toggleSidePanel,showPanelToggle:!this.state.sidePanelExpanded});Oe({name:Tt.FILE})}return c.a.createElement(wo,Os({match:this.props.match,location:this.props.location,toggle:this.toggleSidePanel,onWorkspaceCreate:this.props.singleWorkspaceMode?this.props.onWorkspaceCreate:null,enableRouting:n,setActiveConnection:e,showPanelToggle:!this.state.sidePanelExpanded},a))}},{key:\"render\",value:function(){var e=wt.a.featureNames.dataPrep,t=c.a.createElement(vt.a,{title:ye.a.translate(\"features.DataPrep.pageTitle\",{productName:wt.a.productName,featureName:e})});if(this.state.backendChecking)return c.a.createElement(\"div\",{className:\"text-center\"},this.props.singleWorkspaceMode||this.props.enableRouting?null:t,c.a.createElement(ve.a,null),\";\");if(this.state.backendDown)return c.a.createElement(\"div\",null,this.props.singleWorkspaceMode||this.props.enableRouting?null:t,c.a.createElement(So.a,{onServiceStart:this.onServiceStart}));var n=this.state,a=n.backendChecking,r=n.loading;return a||r?c.a.createElement(ve.a,null):c.a.createElement(\"div\",{className:\"dataprep-connections-container\"},c.a.createElement(kt.a,{condition:this.props.enableRouting},c.a.createElement(vt.a,{title:ye.a.translate(\"\".concat(\"features.DataPrepConnections\",\".pageTitle\"),{productName:wt.a.productName})})),c.a.createElement(kt.a,{condition:this.props.singleWorkspaceMode||this.props.enableRouting},t),this.renderPanel(),c.a.createElement(\"div\",{className:p()(\"connections-content\",{expanded:!this.state.sidePanelExpanded})},this.renderContent()))}}])&&Ns(t.prototype,n),a&&Ns(t,a),o}(o.Component);As(Rs,\"propTypes\",{match:r.a.object,location:r.a.object,enableRouting:r.a.bool,onWorkspaceCreate:r.a.func,singleWorkspaceMode:r.a.bool,sidePanelExpanded:r.a.bool,allowSidePanelToggle:r.a.bool,scope:r.a.oneOfType([r.a.bool,r.a.string]),defaultConnectionId:r.a.string,defaultConnectionType:r.a.string,browserTitle:r.a.string}),As(Rs,\"defaultProps\",{enableRouting:!0,allowSidePanelToggle:!0});var Ls=n(649),Ms=n(1576),Bs=n(1600);function Fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ws(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fs(Object(n),!0).forEach((function(t){Us(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gs=function(e){var t=e.name,n=e.onNameChange;return c.a.createElement(Ee.FormGroup,{row:!0},c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Label,{className:\"control-label\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".experimentName\"))),c.a.createElement(Ee.Input,{value:t,onChange:n,placeholder:ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".experimentNamePlaceholder\"))})))};Gs.propTypes={name:r.a.string,onNameChange:r.a.func};var Ks=function(e){var t=e.description,n=e.onDescriptionChange;return c.a.createElement(Ee.FormGroup,{row:!0},c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Label,{className:\"control-label\"},ye.a.translate(\"commons.descriptionLabel\")),c.a.createElement(Ee.Input,{type:\"textarea\",value:t,placeholder:ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".descriptionPlaceholder\")),onChange:n})))};Ks.propTypes={description:r.a.string,onDescriptionChange:r.a.func};var zs=function(e){var t=e.outcome,n=e.columns,a=e.onOutcomeChange;return c.a.createElement(Ee.FormGroup,{row:!0},c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Label,{className:\"control-label\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".setOutcome\"))),c.a.createElement(Ee.Input,{type:\"select\",value:t,onChange:a},c.a.createElement(\"option\",{key:\"default\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".selectOutcome\"))),n.map((function(e,t){return c.a.createElement(\"option\",{key:t},e)})))))};zs.propTypes={outcome:r.a.string,columns:r.a.arrayOf(r.a.object),onOutcomeChange:r.a.func};var Hs=function(e){var t=e.state,n=e.createExperiment;return c.a.createElement(\"button\",{className:\"btn btn-primary\",disabled:!(t.name.length&&t.description.length&&t.outcome.length),onClick:n},t.loading?c.a.createElement(s.a,{name:\"icon-spinner\",className:\"fa-spin\"}):ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".createExperiment\")))};Hs.propTypes={state:r.a.object,createExperiment:r.a.func};var qs=function(e){var t=e.popover,n=e.isEdit;return t!==Ms.c.EXPERIMENT||n?null:c.a.createElement(\"div\",{className:\"new-experiment-popover\"},c.a.createElement(\"div\",{className:\"popover-container\"},c.a.createElement(\"strong\",{className:\"popover-heading\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".createNewExperiment\"))),c.a.createElement(Ys,null),c.a.createElement(\"hr\",null),c.a.createElement(Qs,null),c.a.createElement(Vs,null),c.a.createElement(Zs,null)))};qs.propTypes={popover:r.a.string,isEdit:r.a.bool};var Vs=Object(Et.connect)((function(e){return{description:e.experiments_create.description}}),(function(){return{onDescriptionChange:Bs.i}}))(Ks),Qs=Object(Et.connect)((function(e){return{name:e.experiments_create.name}}),(function(){return{onNameChange:Bs.j}}))(Gs),Ys=Object(Et.connect)((function(e){return{outcome:e.experiments_create.outcome,columns:e.model_create.columns}}),(function(){return{onOutcomeChange:Bs.k}}))(zs),Xs=Object(Et.connect)((function(e){return{popover:e.experiments_create.popover,isEdit:e.experiments_create.isEdit}}))(qs),Zs=Object(Et.connect)((function(e){return{state:Ws({},e.experiments_create)}}),(function(){return{createExperiment:Bs.b}}))(Hs),$s=Xs,Js=function(e){var t=e.modelName,n=e.onModelNameChange;return c.a.createElement(Ee.FormGroup,{row:!0},c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Label,{className:\"control-label\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".modelName\")))),c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Input,{value:t,onChange:n})))};Js.propTypes={modelName:r.a.string,onModelNameChange:r.a.func};var el=function(e){var t=e.modelDescription,n=e.onModelDescriptionChange;return c.a.createElement(Ee.FormGroup,{row:!0},c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Label,{className:\"control-label\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".modelDescription\")))),c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Input,{type:\"textarea\",value:t,onChange:n})))};el.propTypes={modelDescription:r.a.string,onModelDescriptionChange:r.a.func};var tl=function(e){var t=e.state,n=e.createModel;return c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:n,disabled:!(t.name.length&&t.description.length)},\"Create Model\")};tl.propTypes={state:r.a.object,createModel:r.a.func};var nl=function(e){var t=e.experimentOutcome;return c.a.createElement(Ee.Col,{xs:12},c.a.createElement(\"div\",{className:\"experiment-metadata-wrapper\"},c.a.createElement(\"div\",null,\"Outcome:\"),c.a.createElement(\"div\",null,t)))};nl.propTypes={experimentOutcome:r.a.string};var al=function(e){var t=e.popover,n=e.experimentName;return t!==Ms.c.MODEL?null:c.a.createElement(\"div\",{className:\"new-model-popover\"},c.a.createElement(Ee.FormGroup,{row:!0},c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Label,{className:\"control-label\"},\" Create model under the experiment \")),c.a.createElement(Ee.Col,{xs:\"12\"},c.a.createElement(Ee.Input,{disabled:!0,value:n})),c.a.createElement(il,null)),c.a.createElement(\"hr\",null),c.a.createElement(rl,null),c.a.createElement(ol,null),c.a.createElement(cl,null))};al.propTypes={popover:r.a.string,experimentName:r.a.string};var rl=Object(Et.connect)((function(e){return{modelName:e.model_create.name}}),(function(){return{onModelNameChange:Bs.m}}))(Js),ol=Object(Et.connect)((function(e){return{modelDescription:e.model_create.description}}),(function(){return{onModelDescriptionChange:Bs.l}}))(el),cl=Object(Et.connect)((function(e){return{state:e.model_create}}),(function(){return{createModel:Bs.c}}))(tl),il=Object(Et.connect)((function(e){return{experimentOutcome:e.experiments_create.outcome}}))(nl),sl=Object(Et.connect)((function(e){return{popover:e.experiments_create.popover,experimentName:e.experiments_create.name}}))(al);function ll(){return c.a.createElement(Et.Provider,{store:Ms.e},c.a.createElement(\"div\",null,c.a.createElement($s,null),c.a.createElement(sl,null)))}n(2325);var pl=n(1603),ul=n(627);function dl(){return(dl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n(2327);var fl=function(e){var t=e.options,n=e.value,a=e.onChange;return c.a.createElement(\"div\",{className:\"bool-widget\"},t.map((function(e){return c.a.createElement(\"label\",{key:e},c.a.createElement(\"input\",{type:\"radio\",value:e,checked:e===n,className:\"form-control\",onChange:a}),c.a.createElement(\"span\",null,e))})))};fl.propTypes={options:r.a.arrayOf(r.a.string),value:r.a.string,onChange:r.a.func};function ml(e){var t=e.type,n=e.config,a=e.onChange,r=function(e){switch(e){case\"int\":return{comp:\"input\",props:{type:\"number\",step:1,className:\"form-control\"}};case\"double\":return{comp:\"input\",props:{type:\"number\",step:.1,className:\"form-control\"}};case\"bool\":return{comp:fl,props:{}};case\"string\":return{comp:ul.a,props:{}};default:return{comp:\"input\",props:{type:\"text\",className:\"form-control\"}}}}(t),o=r.comp,i=r.props,s=void 0===i?{}:i;return c.a.createElement(\"label\",{className:\"hyper-param-widget\"},c.a.createElement(\"span\",{className:\"param-label\"},n.label||n.name||\"\"),c.a.createElement(o,dl({},n,s,{onChange:a})))}ml.propTypes={type:r.a.string,config:r.a.object,onChange:r.a.func};var bl=n(1700),gl=n.n(bl),hl=n(125);function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function El(e){return function(e){if(Array.isArray(e))return wl(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return wl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wl(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function wl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n(2329);var Sl=function(e){var t=e.algorithmsList,n=e.setModelAlgorithm,a=e.selectedAlgorithm,r=e.error;if(!Object(d.E)(t,\"length\"))return null;var o=function(e){var t={};return e.hyperparameters.forEach((function(e){t[e.name]=e.defaultVal})),{name:e.name,hyperparameters:t}};return c.a.createElement(\"div\",{className:\"ml-algorithm-list-view\"},c.a.createElement(\"div\",{className:\"ml-algorithm-category-title\"},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".algorithmType\"),{type:gl()(t[0].type||\"\")})),t.map((function(e,t){return c.a.createElement(\"div\",{key:t,className:p()(\"ml-algorithm-list-item\",{selected:a.name===e.name}),onClick:n.bind(null,o(e))},c.a.createElement(\"input\",{type:\"radio\",name:\"algo-radio\",value:e.name,checked:a.name===e.name,onChange:n.bind(null,o(e))}),c.a.createElement(Ee.Label,{className:\"control-label\"},e.label))})),c.a.createElement(kl,null),r?c.a.createElement(hl.a,{message:r,type:\"error\",showAlert:!0,onClose:Bs.u}):null)};Sl.propTypes={algorithmsList:r.a.arrayOf(r.a.object),setModelAlgorithm:r.a.func,selectedAlgorithm:r.a.object,error:r.a.any};var Ol=function(e){var t=e.algorithm,n=e.algorithmsList;return t.name.length?c.a.createElement(\"div\",{className:\"ml-algorithm-hyper-parameters-wrapper\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".configureHyperparamsFor\"),{algorithm:Object(pl.a)(t.name)})),c.a.createElement(\"div\",{className:\"ml-algorithm-hyper-parameters\"},n.find((function(e){return e.name===t.name})).hyperparameters.map((function(e){var n=t.hyperparameters[e.name],a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(n),!0).forEach((function(t){vl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},function(e){var t={int:{defaultVal:\"defaultValue\",\"range,min\":\"min\",\"range,max\":\"max\",name:\"name\"},double:{defaultVal:\"defaultValue\",\"range,min\":\"min\",\"range,max\":\"max\",name:\"name\"},bool:{defaultVal:\"defaultValue\",validValues:\"options\",name:\"name\"},string:{defaultVal:\"defaultValue\",validValues:\"options\",name:\"name\"}}[e.type];if(!t)return{};var n={};return Object.keys(t).forEach((function(a){-1!==a.indexOf(\",\")?n[t[a]]=d.E.apply(null,[e].concat(El(a.split(\",\")))):n[t[a]]=e[a]})),n}(e),{label:Object(pl.b)(t.name,e.name),value:n});return c.a.createElement(ml,{type:e.type,config:a,onChange:function(t){Object(Bs.A)(e.name,t.target.value)}})})))):null};Ol.propTypes={algorithm:r.a.object,algorithmsList:r.a.arrayOf(r.a.object)};var xl=function(e){var t=e.algorithm,n=e.trainModel;return c.a.createElement(\"button\",{className:\"btn btn-primary\",disabled:!t.name.length,onClick:n},ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".trainModel\")))};xl.propTypes={algorithm:r.a.object,trainModel:r.a.func};var Cl=Object(Et.connect)((function(e){return{algorithmsList:e.model_create.validAlgorithmsList,selectedAlgorithm:e.model_create.algorithm,error:e.model_create.error}}),(function(){return{setModelAlgorithm:Bs.t}}))(Sl),Il=Object(Et.connect)((function(e){return{algorithmsList:e.model_create.algorithmsList,algorithm:e.model_create.algorithm}}))(Ol),kl=Object(Et.connect)((function(e){return{algorithm:e.model_create.algorithm}}),(function(){return{trainModel:Bs.z}}))(xl);function Nl(){return Object(Bs.p)(),c.a.createElement(Et.Provider,{store:Ms.e},c.a.createElement(\"div\",{className:\"ml-algorithm-selection\"},c.a.createElement(\"h3\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".selectMLAlgorithm\"))),c.a.createElement(\"div\",{className:\"ml-algorithm-list-details\"},c.a.createElement(Cl,null),c.a.createElement(Il,null),c.a.createElement(\"br\",null))))}var Tl=n(27),_l=n(1593),Pl=n(2331),jl=n.n(Pl);function Dl(e){return(Dl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){Hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ll(e){return function(e){if(Array.isArray(e))return Ml(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Ml(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ml(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Ml(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Bl(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Fl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Wl(e,t){return(Wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ul(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=zl(e);if(t){var r=zl(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Gl(this,n)}}function Gl(e,t){return!t||\"object\"!==Dl(t)&&\"function\"!=typeof t?Kl(e):t}function Kl(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function zl(e){return(zl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ql=\"features.Experiments.CreateView.SplitInfo\";n(2333);var Vl=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wl(e,t)}(o,e);var t,n,a,r=Ul(o);function o(){var e;Bl(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Hl(Kl(e=r.call.apply(r,[this].concat(n))),\"state\",{collapsed:!1,splitInfo:e.props.splitInfo,search:\"\",selectedTypes:[\"boolean\",\"double\",\"float\",\"int\",\"long\",\"string\"],activeColumn:e.props.activeColumn,outcome:e.props.outcome}),Hl(Kl(e),\"toggleCollapse\",(function(){e.setState({collapsed:!e.state.collapsed})})),Hl(Kl(e),\"isFieldNumberType\",(function(e){return-1!==Tl.f.indexOf(e)})),Hl(Kl(e),\"CATEGORICAL_FIELD_HEADERS\",[{property:\"name\",label:ye.a.translate(\"\".concat(ql,\".columnName\"))},{property:\"numTotal\",label:ye.a.translate(\"\".concat(ql,\".count\"))},{property:\"numEmpty\",label:ye.a.translate(\"\".concat(ql,\".missing\"))},{property:\"unique\",label:ye.a.translate(\"\".concat(ql,\".unique\"))}]),Hl(Kl(e),\"NUMERICAL_FIELD_HEADERS\",[{property:\"name\",label:ye.a.translate(\"\".concat(ql,\".columnName\"))},{property:\"numTotal\",label:ye.a.translate(\"\".concat(ql,\".count\"))},{property:\"numEmpty\",label:ye.a.translate(\"\".concat(ql,\".missing\"))},{property:\"numZero\",label:ye.a.translate(\"\".concat(ql,\".zero\"))},{property:\"mean\",label:ye.a.translate(\"\".concat(ql,\".mean\"))},{property:\"stddev\",label:ye.a.translate(\"\".concat(ql,\".stddev\"))},{property:\"min\",label:ye.a.translate(\"\".concat(ql,\".min\"))},{property:\"max\",label:ye.a.translate(\"\".concat(ql,\".max\"))}]),Hl(Kl(e),\"onSearch\",(function(t){e.setState({search:t.target.value})})),Hl(Kl(e),\"onToggleSelectedType\",(function(t){-1!==e.state.selectedTypes.indexOf(t.target.name)?e.setState({selectedTypes:e.state.selectedTypes.filter((function(e){return e!==t.target.name}))}):e.setState({selectedTypes:[].concat(Ll(e.state.selectedTypes),[t.target.name])})})),Hl(Kl(e),\"renderNumericalTableBody\",(function(t){return c.a.createElement(\"tbody\",null,t.map((function(t){return c.a.createElement(\"tr\",{key:t.name,className:p()({active:t.name===e.state.activeColumn}),onClick:e.props.onActiveColumnChange.bind(null,t.name)},c.a.createElement(\"td\",null,e.state.outcome===t.name?c.a.createElement(\"span\",{className:\"outcome-field\"},c.a.createElement(s.a,{name:\"icon-star\"}),c.a.createElement(\"span\",null,\" \",t.name,\" \")):t.name),c.a.createElement(\"td\",null,t.numTotal),c.a.createElement(\"td\",null,t.numEmpty),c.a.createElement(\"td\",null,t.numZero),c.a.createElement(\"td\",null,Object(d.I)(t.mean,4)),c.a.createElement(\"td\",null,Object(d.I)(t.stddev,4)),c.a.createElement(\"td\",null,t.min),c.a.createElement(\"td\",null,t.max))})))})),Hl(Kl(e),\"renderCategoricalTableBody\",(function(t){return c.a.createElement(\"tbody\",null,t.map((function(t){return c.a.createElement(\"tr\",{key:t.name,className:p()({active:t.name===e.state.activeColumn}),onClick:e.props.onActiveColumnChange.bind(null,t.name)},c.a.createElement(\"td\",null,e.state.outcome===t.name?c.a.createElement(\"span\",{className:\"outcome-field\"},c.a.createElement(s.a,{name:\"icon-star\"}),c.a.createElement(\"span\",null,\" \",t.name,\" \")):t.name),c.a.createElement(\"td\",null,t.numTotal),c.a.createElement(\"td\",null,t.numEmpty),c.a.createElement(\"td\",null,t.unique))})))})),Hl(Kl(e),\"renderNumericalTable\",(function(t){return c.a.createElement(_l.a,{entities:t,tableHeaders:e.NUMERICAL_FIELD_HEADERS,renderTableBody:e.renderNumericalTableBody,sortOnInitialLoad:!1})})),Hl(Kl(e),\"renderCategoricalTable\",(function(t){return c.a.createElement(_l.a,{entities:t,tableHeaders:e.CATEGORICAL_FIELD_HEADERS,renderTableBody:e.renderCategoricalTableBody,sortOnInitialLoad:!1})})),Hl(Kl(e),\"renderTable\",(function(){if(!Object(d.E)(e.state.splitInfo,\"schema\",\"fields\",\"length\"))return null;var t=e.state.splitInfo.schema,n=function(e){var t;return Array.isArray(e.type)?t=e.type.filter((function(e){return\"null\"!==e})).pop():\"string\"==typeof e.type&&(t=e.type),t},a=function(t){var n=t.name,a=jl()(e.state.splitInfo.stats,(function(e){return e.field===n}));return a={numTotal:Object(d.E)(a,\"numTotal\",\"total\")||\"--\",numNull:Object(d.E)(a,\"numNull\",\"total\")||\"--\",numEmpty:Object(d.E)(a,\"numEmpty\",\"total\")||\"--\",unique:Object(d.E)(a,\"unique\",\"total\")||\"--\",numZero:Object(d.E)(a,\"numZero\",\"total\")||\"--\",numPositive:Object(d.E)(a,\"numPositive\",\"total\")||\"--\",numNegative:Object(d.E)(a,\"numNegative\",\"total\")||\"--\",min:Object(d.E)(a,\"min\",\"total\")||\"--\",max:Object(d.E)(a,\"max\",\"total\")||\"--\",stddev:Object(d.E)(a,\"stddev\",\"total\")||\"--\",mean:Object(d.E)(a,\"mean\",\"total\")||\"--\"},Rl({name:n},a)},r=function(t){return e.state.search.length?-1!==t.name.indexOf(e.state.search):t},o=function(t){return-1!==e.state.selectedTypes.indexOf(n(t))},i=t.fields.filter((function(t){return o(t)&&r(t)&&!e.isFieldNumberType(n(t))})).map(a.bind(Kl(e))),s=t.fields.filter((function(t){return o(t)&&r(t)&&e.isFieldNumberType(n(t))})).map(a.bind(Kl(e))),l=function(e){return t.fields.filter((function(t){return n(t)===e})).length};return c.a.createElement(\"div\",{className:\"split-info-table-container\"},c.a.createElement(\"div\",{className:\"split-table-search\"},c.a.createElement(\"div\",{className:\"filter-container\"},c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(ql,\".dataType\"))),c.a.createElement(\"span\",null,c.a.createElement(Ee.Input,{type:\"checkbox\",checked:-1!==e.state.selectedTypes.indexOf(\"boolean\"),onChange:e.onToggleSelectedType,name:\"boolean\"}),c.a.createElement(\"span\",null,\" Boolean (\",l(\"boolean\"),\") \")),c.a.createElement(\"span\",null,c.a.createElement(Ee.Input,{type:\"checkbox\",checked:-1!==e.state.selectedTypes.indexOf(\"double\"),onChange:e.onToggleSelectedType,name:\"double\"}),c.a.createElement(\"span\",null,\" Double (\",l(\"double\"),\") \")),c.a.createElement(\"span\",null,c.a.createElement(Ee.Input,{type:\"checkbox\",checked:-1!==e.state.selectedTypes.indexOf(\"float\"),onChange:e.onToggleSelectedType,name:\"float\"}),c.a.createElement(\"span\",null,\" Float (\",l(\"float\"),\") \")),c.a.createElement(\"span\",null,c.a.createElement(Ee.Input,{type:\"checkbox\",checked:-1!==e.state.selectedTypes.indexOf(\"int\"),onChange:e.onToggleSelectedType,name:\"int\"}),c.a.createElement(\"span\",null,\" Integer (\",l(\"int\"),\") \")),c.a.createElement(\"span\",null,c.a.createElement(Ee.Input,{type:\"checkbox\",checked:-1!==e.state.selectedTypes.indexOf(\"long\"),onChange:e.onToggleSelectedType,name:\"long\"}),c.a.createElement(\"span\",null,\" Long (\",l(\"long\"),\") \")),c.a.createElement(\"span\",null,c.a.createElement(Ee.Input,{type:\"checkbox\",checked:-1!==e.state.selectedTypes.indexOf(\"string\"),onChange:e.onToggleSelectedType,name:\"string\"}),c.a.createElement(\"span\",null,\" String (\",l(\"string\"),\") \"))),c.a.createElement(Ee.Input,{className:\"table-field-search\",placeholder:ye.a.translate(\"\".concat(ql,\".searchColumn\")),onChange:e.onSearch})),c.a.createElement(\"div\",{className:\"split-info-numerical-table\"},c.a.createElement(\"div\",{className:\"split-table-header\"},ye.a.translate(\"\".concat(ql,\".numerical\"))),e.renderNumericalTable(s)),c.a.createElement(\"div\",{className:\"split-info-categorical-table\"},c.a.createElement(\"div\",{className:\"split-table-header\"},ye.a.translate(\"\".concat(ql,\".categorical\"))),e.renderCategoricalTable(i)))})),e}return t=o,(n=[{key:\"componentWillReceiveProps\",value:function(e){this.setState({splitInfo:e.splitInfo,activeColumn:e.activeColumn,outcome:e.outcome})}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"split-info-table\"},c.a.createElement(\"div\",{className:\"split-info-collapsable-section\",onClick:this.toggleCollapse},this.state.collapsed?c.a.createElement(s.a,{name:\"icon-caret-right\"}):c.a.createElement(s.a,{name:\"icon-caret-down\"}),c.a.createElement(\"span\",null,\" View Features \")),this.state.collapsed?null:c.a.createElement(\"div\",{className:\"split-info-table-section\"},this.renderTable()))}}])&&Fl(t.prototype,n),a&&Fl(t,a),o}(o.Component);Hl(Vl,\"propTypes\",{splitInfo:r.a.object,onActiveColumnChange:r.a.func,activeColumn:r.a.string,outcome:r.a.string});var Ql=n(1779);function Yl(e){return(Yl=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Xl(e){return function(e){if(Array.isArray(e))return Zl(e)}(e)||function(e){if(\"undefined\"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if(\"string\"==typeof e)return Zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===n&&e.constructor&&(n=e.constructor.name);if(\"Map\"===n||\"Set\"===n)return Array.from(e);if(\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zl(e,t)}(e)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function $l(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Jl(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ep(e,t){return(ep=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tp(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=rp(e);if(t){var r=rp(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return np(this,n)}}function np(e,t){return!t||\"object\"!==Yl(t)&&\"function\"!=typeof t?ap(e):t}function ap(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function rp(e){return(rp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function op(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cp=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ep(e,t)}(o,e);var t,n,a,r=tp(o);function o(){var e;$l(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return op(ap(e=r.call.apply(r,[this].concat(n))),\"state\",{splitInfo:e.props.splitInfo,activeColumn:e.props.activeColumn}),op(ap(e),\"customEncoding\",{x:{field:\"type\",type:\"nominal\",axis:null},column:{field:\"name\",type:\"ordinal\",header:{title:\"values\"}},y:{field:\"count\",type:\"quantitative\",axis:{title:\"Count (Percent)\",grid:!1,format:\".0%\"}}}),op(ap(e),\"getFormattedData\",(function(){var t=e.state.splitInfo.stats.filter((function(t){return t.field===e.state.activeColumn})).pop();if(!t)return[];var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"train\",n=t.numTotal[e],a=t.numNull[e];return n-a};return t.histo.reduce((function(e,t){return[].concat(Xl(e=e||[]),[{name:t.bin,count:t.count.train/n(\"train\"),type:\"train\"},{name:t.bin,count:t.count.test/n(\"test\"),type:\"test\"}])}),[])})),e}return t=o,(n=[{key:\"componentWillReceiveProps\",value:function(e){this.setState({activeColumn:e.activeColumn,splitInfo:e.splitInfo})}},{key:\"render\",value:function(){return this.state.splitInfo.stats&&this.state.activeColumn?c.a.createElement(Ql.a,{customEncoding:this.customEncoding,data:this.getFormattedData(),width:function(e,t){return t.length?(e.width-260)/(t.length/2):e.width-260},heightOffset:80,tooltipOptions:{showAllFields:!1,fields:[{field:\"type\",title:\"Type\"},{field:\"count\",title:\"Percentage\",format:\".0%\",formatType:\"number\"}]}}):null}}])&&Jl(t.prototype,n),a&&Jl(t,a),o}(o.Component);function ip(e){return(ip=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function sp(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function lp(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pp(e,t){return(pp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function up(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=mp(e);if(t){var r=mp(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return dp(this,n)}}function dp(e,t){return!t||\"object\"!==ip(t)&&\"function\"!=typeof t?fp(e):t}function fp(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function mp(e){return(mp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}op(cp,\"propTypes\",{splitInfo:r.a.object.isRequired,activeColumn:r.a.string.isRequired});n(2335);var gp=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pp(e,t)}(o,e);var t,n,a,r=up(o);function o(){var e;sp(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return bp(fp(e=r.call.apply(r,[this].concat(n))),\"state\",{activeColumn:e.props.outcome,splitInfo:e.props.splitInfo}),bp(fp(e),\"onActiveColumnChange\",(function(t){e.setState({activeColumn:t})})),e}return t=o,(n=[{key:\"componentWillReceiveProps\",value:function(e){var t=e.splitInfo,n=e.outcome;this.setState({splitInfo:t,activeColumn:n})}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"split-info\"},c.a.createElement(\"h5\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".verifySample\"))),c.a.createElement(\"div\",{className:\"active-column-container\"},c.a.createElement(\"span\",null,\"Displaying column: \"),c.a.createElement(\"strong\",null,this.state.activeColumn===this.props.outcome?c.a.createElement(\"span\",{className:\"outcome-field\"},c.a.createElement(s.a,{name:\"icon-star\"}),c.a.createElement(\"span\",null,this.state.activeColumn)):this.state.activeColumn)),c.a.createElement(\"div\",{className:\"split-info-graph-wrapper\"},c.a.createElement(cp,{splitInfo:this.state.splitInfo,activeColumn:this.state.activeColumn})),c.a.createElement(Vl,{splitInfo:this.state.splitInfo,onActiveColumnChange:this.onActiveColumnChange,activeColumn:this.state.activeColumn,outcome:this.props.outcome}))}}])&&lp(t.prototype,n),a&&lp(t,a),o}(o.Component);bp(gp,\"propTypes\",{splitInfo:r.a.object,outcome:r.a.string,activeColumn:r.a.string});var hp=Object(Et.connect)((function(e){return{splitInfo:e.model_create.splitInfo,outcome:e.experiments_create.outcome}}))(gp);function yp(e){return(yp=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function vp(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Ep(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function wp(e,t){return(wp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sp(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Cp(e);if(t){var r=Cp(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Op(this,n)}}function Op(e,t){return!t||\"object\"!==yp(t)&&\"function\"!=typeof t?xp(e):t}function xp(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function Cp(e){return(Cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ip(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kp=\"features.Experiments.CreateView\";n(2337);var Np=function(e,t){var n=t.id,a=t.start,r=t.end,o=\"/logviewer/view?namespace=\".concat(Object(ge.d)(),\"&appId=ModelManagementApp&programType=spark&programId=ModelManagerService\"),c=\"&filter=\".concat(encodeURIComponent('MDC:experiment=\"'.concat(e,'\" AND MDC:split=').concat(n)),\"&startTime=\").concat(a,\"&endTime=\").concat(r);return\"\".concat(o).concat(c)},Tp=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wp(e,t)}(o,e);var t,n,a,r=Sp(o);function o(){var e;vp(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Ip(xp(e=r.call.apply(r,[this].concat(n))),\"state\",{splitFailed:!1}),Ip(xp(e),\"closeSplitFailedAlert\",(function(){e.setState({splitFailed:!1})})),e}return t=o,(n=[{key:\"componentWillReceiveProps\",value:function(e){var t=e.splitInfo.status===Ms.d.FAILED,n=this.props.splitInfo.status===Ms.d.CREATING&&e.error;(t||n)&&this.setState({splitFailed:!0})}},{key:\"renderSplitBtn\",value:function(){var e=Object.keys(this.props.splitInfo).length,t=(this.props.splitInfo||{}).status,n=-1!==[Ms.d.COMPLETE,Ms.d.FAILED].indexOf(t);return!e||e&&n?c.a.createElement(\"div\",null,c.a.createElement(\"button\",{className:p()(\"btn btn-primary\",{\"btn-secondary\":e&&n}),onClick:Bs.d},this.state.splitFailed||e?ye.a.translate(\"\".concat(kp,\".resplitAndVerify\")):ye.a.translate(\"\".concat(kp,\".splitAndVerify\"))),e&&n?c.a.createElement(\"div\",{className:\"done-action-container\"},c.a.createElement(\"button\",{className:\"btn btn-primary\",onClick:Bs.w,disabled:t!==Ms.d.COMPLETE},ye.a.translate(\"commons.doneLabel\")),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(kp,\".nextSelect\")))):null):c.a.createElement(\"button\",{className:\"btn btn-primary\",disabled:!0},c.a.createElement(\"div\",{className:\"btn-inner-container\"},c.a.createElement(s.a,{name:\"icon-spinner\",className:\"fa-spin\"}),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(kp,\".splitting\")))))}},{key:\"renderSplitInfo\",value:function(){var e=this.props.splitInfo.status===Ms.d.FAILED;return sn()(this.props.splitInfo)||!this.props.splitInfo.id||e?null:c.a.createElement(\"div\",{className:\"action-button-group\"},c.a.createElement(hp,null))}},{key:\"renderError\",value:function(){var e,t,n=this;return this.state.splitFailed?this.props.splitInfo.id?c.a.createElement(hl.a,{element:(e=this.props.experimentId,t=this.props.splitInfo,c.a.createElement(\"span\",{className:\"split-error-container\"},ye.a.translate(\"\".concat(kp,\".failedToSplit\"),{experimentId:e}),c.a.createElement(\"a\",{href:Np(e,t),target:\"_blank\",rel:\"noopener noreferrer\"},ye.a.translate(\"\".concat(kp,\".logs\"))),ye.a.translate(\"\".concat(kp,\".moreInfo\")))),type:\"error\",showAlert:!0,onClose:this.closeSplitFailedAlert}):c.a.createElement(hl.a,{message:this.props.error,type:\"error\",showAlert:!0,onClose:function(){n.closeSplitFailedAlert(),Object(Bs.u)()}}):null}},{key:\"render\",value:function(){return c.a.createElement(\"div\",{className:\"split-data-step\"},c.a.createElement(\"h3\",null,ye.a.translate(\"\".concat(kp,\".splitData\"))),c.a.createElement(\"br\",null),this.renderSplitBtn(),this.renderSplitInfo(),this.renderError())}}])&&Ep(t.prototype,n),a&&Ep(t,a),o}(o.Component);Ip(Tp,\"propTypes\",{splitInfo:r.a.object,experimentId:r.a.string,error:r.a.string});var _p=Object(Et.connect)((function(e){var t=e.model_create,n=e.experiments_create,a=t.splitInfo,r=void 0===a?{}:a,o=t.error;return{splitInfo:r,experimentId:n.name,error:o}}))(Tp);var Pp=function(){return c.a.createElement(Et.Provider,{store:Ms.e},c.a.createElement(_p,null))};n(2339);var jp=function(e){var t=e.modelName,n=e.modelDescription,a=e.directives,r=e.algorithm,o=e.active_step,i=function(){return jt()(r)||!r.length};return c.a.createElement(\"div\",{className:\"experiment-metadata\"},c.a.createElement(\"div\",null,c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".modelNameWithColon\"))),c.a.createElement(\"span\",null,t),c.a.createElement(\"div\",{className:\"model-description-wrapper\"},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".modelDescriptionWithColon\"))),c.a.createElement(\"p\",{className:\"model-description\"},n))),c.a.createElement(\"div\",null,c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".numDirectives\"))),c.a.createElement(\"span\",null,a.length),a.length?c.a.createElement(\"div\",{className:\"btn btn-link\",onClick:Bs.n.bind(null,Ms.b.DATAPREP)},ye.a.translate(\"commons.edit\")):null),c.a.createElement(\"div\",null,c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".splitMethod\"))),c.a.createElement(\"span\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".random\"))),o===Ms.b.ALGORITHM_SELECTION?c.a.createElement(\"div\",{className:\"btn btn-link\",onClick:Bs.n.bind(null,Ms.b.DATASPLIT)},ye.a.translate(\"commons.edit\")):null),c.a.createElement(\"div\",{className:p()({grayed:i()})},c.a.createElement(\"strong\",null,ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".MLAlgorithm\"))),c.a.createElement(\"span\",null,i()?\"--\":r)))};jp.propTypes={modelName:r.a.string,modelDescription:r.a.string,directives:r.a.array,algorithm:r.a.string,active_step:r.a.string};var Dp=Object(Et.connect)((function(e){return{modelName:e.model_create.name,modelDescription:e.model_create.description,directives:e.model_create.directives,active_step:e.active_step.step_name,algorithm:e.model_create.algorithm.name.length?e.model_create.validAlgorithmsList.find((function(t){return t.name===e.model_create.algorithm.name})).label:\"\"}}),null)(jp);function Ap(){return c.a.createElement(Et.Provider,{store:Ms.e},c.a.createElement(Dp,null))}var Rp=n(16),Lp=n(39);function Mp(e){return(Mp=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}function Bp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bp(Object(n),!0).forEach((function(t){Vp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wp(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function Up(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Gp(e,t){return(Gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kp(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=qp(e);if(t){var r=qp(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return zp(this,n)}}function zp(e,t){return!t||\"object\"!==Mp(t)&&\"function\"!=typeof t?Hp(e):t}function Hp(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e}function qp(e){return(qp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,\"default\",(function(){return Qp}));n(2341);var Qp=function(e){!function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gp(e,t)}(o,e);var t,n,a,r=Kp(o);function o(){var e;Wp(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Vp(Hp(e=r.call.apply(r,[this].concat(n))),\"state\",{workspaceId:Ms.e.getState().experiments_create.workspaceId,modelId:Ms.e.getState().model_create.modelId,experimentId:Ms.e.getState().experiments_create.name,isSplitFinalized:Ms.e.getState().model_create.isSplitFinalized,loading:Ms.e.getState().experiments_create.loading,active_step:Ms.e.getState().active_step.step_name,redirectToExperimentDetail:!1}),Vp(Hp(e),\"title\",\"Create a new experiment\"),Vp(Hp(e),\"renderTopPanel\",(function(t){var n=\"/ns/\".concat(Object(ge.d)(),\"/experiments\");return e.state.experimentId&&(n=\"\".concat(n,\"/\").concat(e.state.experimentId)),c.a.createElement(i.a,null,c.a.createElement(\"h4\",null,t),c.a.createElement(Vt.Link,{to:n},c.a.createElement(s.a,{name:\"icon-close\"})))})),e}return t=o,(n=[{key:\"componentWillMount\",value:function(){Object(Bs.q)()}},{key:\"componentDidMount\",value:function(){var e=this;this.dataprepsubscription=ln.a.subscribe((function(){var e=ln.a.getState().dataprep,t=e.headers,n=void 0===t?[]:t,a=e.directives,r=e.workspaceInfo,o=void 0===r?{}:r,c=e.workspaceId;if(n.length){Object(Bs.y)(c),Object(Bs.x)(o.properties.path),Object(Bs.v)(n),Object(Bs.r)(a);var i=Object(Lp.c)(a);be.a.getSchema({context:Object(ge.d)(),workspaceId:c},i).subscribe(Bs.C)}})),this.createExperimentStoreSubscription=Ms.e.subscribe((function(){var t=Ms.e.getState(),n=t.model_create,a=t.experiments_create,r=t.active_step,o=n.modelId,c=n.isSplitFinalized,i=n.isModelTrained,s=a.workspaceId,l=a.loading,p=a.name,u=a.error,d={};e.state.experimentId!==p&&(d={experimentId:p}),e.state.active_step.step_name!==r.step_name&&(d=Fp({},d,{active_step:r})),e.state.modelId!==o&&(d=Fp({},d,{modelId:o})),e.state.workspaceId!==s&&(d=Fp({},d,{workspaceId:s})),e.state.loading!==l&&(d=Fp({},d,{loading:l})),c!==e.state.isSplitFinalized&&(d=Fp({},d,{isSplitFinalized:c})),i&&(d=Fp({},d,{redirectToExperimentDetail:!0})),e.state.experimentError!==u&&(d=Fp({},d,{experimentError:u})),Object.keys(d).length>0&&e.setState(d)}));var t=hs.a.parse(this.props.location.search),n=t.experimentId,a=t.modelId;n&&!a?Object(Bs.g)(n):n&&a?Object(Bs.h)(n,a):this.setState({loading:!1}),Object(Bs.f)()}},{key:\"componentWillUnmount\",value:function(){var e=Ms.e.getState().experiments_create.workspaceId;e&&be.a.delete({context:Object(ge.d)(),workspaceId:e}).subscribe(),ln.a.dispatch({type:Rp.a.reset}),this.dataprepsubscription&&this.dataprepsubscription(),Object(Bs.o)()}},{key:\"renderConnections\",value:function(){var e=this;return c.a.createElement(\"span\",null,this.renderTopPanel(this.title),c.a.createElement(Rs,{sidePanelExpanded:!1,allowSidePanelToggle:!1,enableRouting:!1,singleWorkspaceMode:!0,onWorkspaceCreate:function(t){Object(Bs.y)(t),e.setState({workspaceId:t})},scope:!0,browserTitle:\"Select a file to use in your experiment\"}))}},{key:\"renderDataPrep\",value:function(){var e=this,t=c.a.createElement(\"div\",{className:\"btn btn-primary\",onClick:Bs.B},\"Update Model\"),n=hs.a.parse(this.props.location.search),a=n.experimentId,r=n.addModel,o=ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".createExperiment\"));r&&(o=ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".addModel\")));var i=c.a.createElement(\"div\",{className:\"btn btn-primary\"},o),s=c.a.createElement(Kn.a,{target:function(){return i},enableInteractionInPopover:!0,targetDimension:{width:\"auto\"},placement:\"bottom\",className:\"create_new_experiment_popover\",showPopover:!a},c.a.createElement(ll,null)),l=\"Create a new experiment\";return r&&(l=\"Add model to '\".concat(a,\"'\")),c.a.createElement(\"span\",null,this.renderTopPanel(l),c.a.createElement(\"div\",{className:\"experiments-model-panel\"},e.state.workspaceId?e.state.modelId?t:s:null),c.a.createElement(Ls.default,{singleWorkspaceMode:!0,enableRouting:!1,workspaceId:this.state.workspaceId}))}},{key:\"renderSplitDataStep\",value:function(){var e=Ms.e.getState().model_create.name;return c.a.createElement(\"span\",{className:\"experiments-split-data-step\"},this.renderTopPanel(\"Split data for model '\".concat(e,\"'\")),c.a.createElement(Ap,null),c.a.createElement(Pp,null))}},{key:\"renderAlgorithmSelectionStep\",value:function(){var e=Ms.e.getState().model_create.name;return c.a.createElement(\"span\",{className:\"experiments-algorithm-selection-step\"},this.renderTopPanel(\"Select an algorithm to train model '\".concat(e,\"'\")),c.a.createElement(Ap,null),c.a.createElement(Nl,null))}},{key:\"renderSteps\",value:function(){if(this.state.loading)return c.a.createElement(ve.a,null);if(this.state.redirectToExperimentDetail)return c.a.createElement(Vt.Redirect,{to:\"/ns/\".concat(Object(ge.d)(),\"/experiments/\").concat(this.state.experimentId)});switch(this.state.active_step.step_name){case Ms.b.DATAPREP_CONNECTIONS:return this.renderConnections();case Ms.b.DATAPREP:return this.renderDataPrep();case Ms.b.DATASPLIT:return this.renderSplitDataStep();case Ms.b.ALGORITHM_SELECTION:return this.renderAlgorithmSelectionStep();default:return null}}},{key:\"renderError\",value:function(){return this.state.experimentError?c.a.createElement(hl.a,{message:this.state.experimentError,type:\"error\",showAlert:!0,onClose:Bs.s}):null}},{key:\"render\",value:function(){var e=hs.a.parse(this.props.location.search),t=e.experimentId,n=e.addModel,a=t?\"\".concat(t,\" | \"):\"\",r=n?\"Add model\":\"Create Experiment\",o=wt.a.featureNames.analytics;return c.a.createElement(\"div\",{className:p()(\"experiments-create-view\",{\"add-model\":!Object(d.A)(this.state.experimentId)})},c.a.createElement(vt.a,{title:ye.a.translate(\"\".concat(\"features.Experiments.CreateView\",\".pageTitle\"),{productName:wt.a.productName,experimentIdWithSuffix:\"\".concat(a,\" \").concat(r),featureName:o})}),this.renderSteps(),this.renderError(),c.a.createElement(Vt.Prompt,{when:!this.state.experimentId||!this.state.modelId,message:\"Are you sure you want to navigate away?\"}))}}])&&Up(t.prototype,n),a&&Up(t,a),o}(o.Component);Vp(Qp,\"propTypes\",{match:r.a.object,location:r.a.object})}}]);","extractedComments":[]}